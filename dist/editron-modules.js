/*! For license information please see editron-modules.js.LICENSE.txt */
var editronModules=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}({"./editron.scss":function(e,t,r){e.exports=r.p+"editron.css"},"./editron.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/Controller.ts"),o=r("./src/components/index.ts");r.d(t,"components",(function(){return o}));var i=r("./src/utils/index.ts");r.d(t,"utils",(function(){return i}));var s=r("./src/editors/AbstractEditor.ts");r.d(t,"AbstractEditor",(function(){return s.default}));var a=r("./src/editors/AbstractValueEditor.ts");r.d(t,"AbstractValueEditor",(function(){return a.default}));var l=r("./src/editors/arrayeditor/index.ts");r.d(t,"ArrayEditor",(function(){return l.default}));var c=r("./src/editors/objecteditor/index.ts");r.d(t,"ObjectEditor",(function(){return c.default}));var u=r("./src/editors/oneofeditor/index.ts");r.d(t,"OneOfEditor",(function(){return u.default}));var d=r("./src/editors/valueeditor/index.ts");r.d(t,"ValueEditor",(function(){return d.default}));var f=r("./src/services/dataservice/index.ts");r.d(t,"DataService",(function(){return f.default}));var h=r("./src/services/LocationService.ts");r.d(t,"LocationService",(function(){return h.default}));var p=r("./src/services/SchemaService.ts");r.d(t,"SchemaService",(function(){return p.default}));var m=r("./src/services/ValidationService.ts");r.d(t,"ValidationService",(function(){return m.default}));var v=r("./src/services/OverlayService.ts");r.d(t,"OverlayService",(function(){return v.default}));var g=r("./src/plugin/index.ts");r.d(t,"plugin",(function(){return g.default}));var y=r("./src/plugin/delegationplugin/index.ts");r.d(t,"DelegationPlugin",(function(){return y.default}));var b=r("./src/plugin/remotedataplugin/index.ts");r.d(t,"RemoteDataPlugin",(function(){return b.default}));var w=r("./src/plugin/selectionplugin/index.ts");r.d(t,"SelectionPlugin",(function(){return w.default}));var _=r("./src/plugin/sortableplugin/index.ts");r.d(t,"SortablePlugin",(function(){return _.default}));var j=r("./src/plugin/syncplugin/index.ts");r.d(t,"SyncPlugin",(function(){return j.default})),t.default=n.default},"./node_modules/@rematch/core/dist/umd/rematch.js":function(e,t,r){(function(e,r){var n,o,i;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,a){"object"==s(t)&&void 0!==r?a(t):(o=[t],void 0===(i="function"==typeof(n=a)?n.apply(t,o):n)||(r.exports=i))}(0,(function(t){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,r,n){return new(r=r||Promise)((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function i(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||o[0]<i[1]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function a(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function l(e){}var c={exposed:{storeDispatch:function(e,t){console.warn("Warning: store not yet loaded")},storeGetState:function(){console.warn("Warning: store not yet loaded")},dispatch:function(e){return this.storeDispatch(e)},createDispatcher:function(e,t){var r=this;return function(n,s){return o(r,void 0,Promise,(function(){var r;return i(this,(function(o){return r={type:e+"/"+t},void 0!==n&&(r.payload=n),void 0!==s&&(r.meta=s),[2,this.dispatch(r)]}))}))}}},onStoreCreated:function(e){return this.storeDispatch=e.dispatch,this.storeGetState=e.getState,{dispatch:this.dispatch}},onModel:function(e){if(this.dispatch[e.name]={},e.reducers)for(var t=0,r=Object.keys(e.reducers);t<r.length;t++){var n=r[t];this.validate([[!!n.match(/\/.+\//),"Invalid reducer name ("+e.name+"/"+n+")"],["function"!=typeof e.reducers[n],"Invalid reducer ("+e.name+"/"+n+"). Must be a function"]]),this.dispatch[e.name][n]=this.createDispatcher.call(this,e.name,n)}}},u={exposed:{effects:{}},onModel:function(e){if(e.effects)for(var t="function"==typeof e.effects?e.effects(this.dispatch):e.effects,r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];this.validate([[!!o.match(/\//),"Invalid effect name ("+e.name+"/"+o+")"],["function"!=typeof t[o],"Invalid effect ("+e.name+"/"+o+"). Must be a function"]]),this.effects[e.name+"/"+o]=t[o].bind(this.dispatch[e.name]),this.dispatch[e.name][o]=this.createDispatcher.call(this,e.name,o),this.dispatch[e.name][o].isEffect=!0}},middleware:function(e){var t=this;return function(r){return function(n){return o(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return n.type in this.effects?[4,r(n)]:[3,2];case 1:return t.sent(),[2,this.effects[n.type](n.payload,e.getState(),n.meta)];case 2:return[2,r(n)]}}))}))}}}};function d(){return Math.random().toString(36).substring(7).split("").join(".")}var f,h,p=("function"==typeof(h=("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r).Symbol)?h.observable?f=h.observable:(f=h("observable"),h.observable=f):f="@@observable",f),m={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}};function v(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error("Expected the enhancer to be a function.");return r(v)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var o=e,i=t,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function d(){if(c)throw Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function f(e){if("function"!=typeof e)throw Error("Expected the listener to be a function.");if(c)throw Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return u(),l.push(e),function(){if(t){if(c)throw Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,u();var r=l.indexOf(e);l.splice(r,1),a=null}}}function h(e){if(!function(e){if("object"==s(e)&&null!==e){for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}}(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw Error("Reducers may not dispatch actions.");try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=l,r=0;r<t.length;r++)(0,t[r])();return e}return h({type:m.INIT}),(n={dispatch:h,subscribe:f,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");o=e,h({type:m.REPLACE})}})[p]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=s(e)||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(d())}return r(),{unsubscribe:t(r)}}})[p]=function(){return this},e},n}function g(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];"function"==typeof e[o]&&(r[o]=e[o])}var i,s,a=Object.keys(r);try{Object.keys(s=r).forEach((function(e){var t=s[e];if(void 0===t(void 0,{type:m.INIT}))throw Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===t(void 0,{type:m.PROBE_UNKNOWN_ACTION()}))throw Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+m.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var n,o,s=!1,l={},c=0;c<a.length;c++){var u=a[c],d=e[u],f=(0,r[u])(d,t);if(void 0===f){var h="Given "+((o=(n=t)&&n.type)&&'action "'+o+'"'||"an action")+', reducer "'+u+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.';throw Error(h)}l[u]=f,s=s||f!==d}return(s=s||a.length!==Object.keys(e).length)?l:e}}function y(e,t){return function(){return t(e.apply(this,arguments))}}function b(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach((function(t){var n,o,i;i=r[o=t],o in(n=e)?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function j(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return w({},r,{dispatch:n=_.apply(void 0,i)(r.dispatch)})}}}var E=Object.freeze({__proto__:null,__DO_NOT_USE__ActionTypes:m,applyMiddleware:j,bindActionCreators:function(e,t){if("function"==typeof e)return y(e,t);if("object"!=s(e)||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":s(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=y(o,t))}return r},combineReducers:g,compose:_,createStore:v});function O(e){var t=this,r=e.redux,o=e.models,i=r.combineReducers||g,l=r.createStore||v,c=void 0!==r.initialState?r.initialState:{};this.reducers=r.reducers,this.mergeReducers=function(e){return void 0===e&&(e={}),t.reducers=n(n({},t.reducers),e),Object.keys(t.reducers).length?i(t.reducers):function(e){return e}},this.createModelReducer=function(e){for(var r=e.baseReducer,n={},o=0,i=Object.keys(e.reducers||{});o<i.length;o++){var s=i[o],a=~s.indexOf("/")?s:e.name+"/"+s;n[a]=e.reducers[s]}function l(t,r){return void 0===t&&(t=e.state),"function"==typeof n[r.type]?n[r.type](t,r.payload,r.meta):t}t.reducers[e.name]=r?function(e,t){return l(r(e,t),t)}:l};for(var u=0,d=o;u<d.length;u++)this.createModelReducer(d[u]);this.createRootReducer=function(e){void 0===e&&(e={});var r=t.mergeReducers();return Object.keys(e).length?function(t,n){return r(e[n.type]?(0,e[n.type])(t,n):t,n)}:r};var f=this.createRootReducer(r.rootReducers),h=j.apply(E,r.middlewares),p=function(e){void 0===e&&(e={});var t=e.disabled,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!~t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)!~t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["disabled"]);return!t&&"object"==("undefined"==typeof window?"undefined":s(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(r):_}(r.devtoolOptions).apply(void 0,a(r.enhancers,[h]));return this.store=l(f,c,p),this}var x=[c,u],S=(A.prototype.forEachPlugin=function(e,t){for(var r=0,n=this.plugins;r<n.length;r++){var o=n[r];o[e]&&t(o[e])}},A.prototype.getModels=function(e){return Object.keys(e).map((function(t){return n(n({name:t},e[t]),{reducers:e[t].reducers||{}})}))},A.prototype.addModel=function(e){this.forEachPlugin("onModel",(function(t){return t(e)}))},A.prototype.init=function(){var e=this;this.models=this.getModels(this.config.models);for(var t=0,r=this.models;t<r.length;t++)this.addModel(r[t]);var o=O.call(this,{redux:this.config.redux,models:this.models}),i=n(n({name:this.config.name},o.store),{model:function(t){e.addModel(t),o.mergeReducers(o.createModelReducer(t)),o.store.replaceReducer(o.createRootReducer(e.config.redux.rootReducers)),o.store.dispatch({type:"@@redux/REPLACE "})}});return this.forEachPlugin("onStoreCreated",(function(e){var t=e(i);t&&Object.keys(t||{}).forEach((function(e){i[e]=t[e]}))})),i},A);function A(e){var t=this;this.plugins=[],this.config=e,this.pluginFactory={config:e,validate:l,create:function(e){e.onInit&&e.onInit.call(this);var t={};if(e.exposed)for(var r=0,n=Object.keys(e.exposed);r<n.length;r++){var o=n[r];this[o]="function"==typeof e.exposed[o]?e.exposed[o].bind(this):Object.create(e.exposed[o])}for(var i=0,s=["onModel","middleware","onStoreCreated"];i<s.length;i++){var a=s[i];e[a]&&(t[a]=e[a].bind(this))}return t}};for(var r=0,n=x.concat(this.config.plugins);r<n.length;r++)this.plugins.push(this.pluginFactory.create(n[r]));this.forEachPlugin("middleware",(function(e){t.config.redux.middlewares.push(e)}))}function P(e){console.warn(e)}function k(e,t){return t?n(n({},t),e||{}):e||{}}function C(e){void 0===e&&(e={});var t=e.name||""+T;T+=1;var r=function(e){for(var t=n(n({name:e.name,models:{},plugins:[]},e),{redux:n(n({reducers:{},rootReducers:{},enhancers:[],middlewares:[]},e.redux),{devtoolOptions:n({name:e.name},e.redux&&e.redux.devtoolOptions?e.redux.devtoolOptions:{})})}),r=0,o=t.plugins;r<o.length;r++){var i=o[r];if(i.config){var s=k(t.models,i.config.models);t.models=s,t.plugins=a(t.plugins,i.config.plugins||[]),i.config.redux&&(t.redux.initialState=k(t.redux.initialState,i.config.redux.initialState),t.redux.reducers=k(t.redux.reducers,i.config.redux.reducers),t.redux.rootReducers=k(t.redux.rootReducers,i.config.redux.reducers),t.redux.enhancers=a(t.redux.enhancers,i.config.redux.enhancers||[]),t.redux.middlewares=a(t.redux.middlewares,i.config.redux.middlewares||[]),t.redux.combineReducers=t.redux.combineReducers||i.config.redux.combineReducers,t.redux.createStore=t.redux.createStore||i.config.redux.createStore)}}return t}(n(n({},e),{name:t}));return new S(r).init()}var T=0,I={init:C};t.createModel=function(e){return e},t.default=I,t.dispatch=function(){P("global dispatch has been removed in @rematch/core 1.0.0-beta.3.\n\tSee https://github.com/rematch/rematch/blob/master/CHANGELOG.md#100-beta3---2018-06-23 for details.\n\tFor a quick fix, import and use store.dispatch.")},t.getState=function(){P("global getState has been removed in @rematch/core 1.0.0-beta.3.\n\tSee https://github.com/rematch/rematch/blob/master/CHANGELOG.md#100-beta3---2018-06-23 for details.\n\tFor a quick fix, import and use store.getState.")},t.init=C,Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,r("./node_modules/webpack/buildin/global.js"),r("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/@technik-sde/foxy/dist/foxy.js":function(e,t,r){(function(e){var r,n,o,i;function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==l(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";r.r(t),r.d(t,"Foxy",(function(){return n})),r.d(t,"handler",(function(){return c})),r.d(t,"utils",(function(){return o}));var n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.handlers=t.handlers||[]}var t,r,n;return t=e,(r=[{key:"addHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null==this.handlers[t]&&this.handlers.push(e),this.handlers.splice(t,0,e)}},{key:"removeHandler",value:function(e){this.handlers=this.handlers.filter((function(t){return t!==e}))}},{key:"getImageURL",value:function(e){return this.get("getImageURL",e)}},{key:"getImageInfo",value:function(e){return this.get("getImageInfo",e)}},{key:"getVideoURL",value:function(e){return this.get("getVideoURL",e)}},{key:"getVideoInfo",value:function(e){return this.get("getVideoInfo",e)}},{key:"getURL",value:function(e){return this.get("getURL",e)}},{key:"get",value:function(e,t){var r=this.findHandler(e,t);return null==r?Promise.reject(new Error("There is no handler for method '".concat(e,"(").concat(JSON.stringify(t),")'"))):r[e](t)}},{key:"isSupported",value:function(e){return this.handlers.some((function(t){return t.use(e)}))}},{key:"findHandler",value:function(e,t){return this.handlers.find((function(r){return"function"==typeof r[e]&&!0===r.use(t)}))}}])&&a(t.prototype,r),n&&a(t,n),e}(),o={loadImageInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={src:e,image:new Image,type:"",width:0,height:0};return fetch(e,t).then((function(e){return e.blob()})).then((function(e){return r.type=e.type.replace(/^[^/]+\//,""),URL.createObjectURL(e)})).then((function(e){return new Promise((function(t,n){r.image.addEventListener("load",(function(){return t()})),r.image.addEventListener("error",n),r.image.src=e}))})).then((function(){return r.width=r.image.naturalWidth,r.height=r.image.naturalHeight,r}))},loadVideoInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={src:e,width:0,height:0,video:document.createElement("video"),duration:0,poster:""};return fetch(e,t).then((function(e){return e.blob()})).then((function(e){return r.type=e.type.replace(/^[^/]+\//,""),URL.createObjectURL(e)})).then((function(e){return new Promise((function(t,n){r.video.addEventListener("error",n),r.video.addEventListener("loadedmetadata",(function(){var e=r.video;r.width=e.videoWidth,r.height=e.videoHeight,r.duration=e.duration,r.poster=e.poster,t(r)}));var o=document.createElement("source");o.setAttribute("src",e),r.video.appendChild(o)}))}))},isHandler:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&"function"==typeof e.use}},i=/^https:\/\/images\.unsplash\.com\/photo-\d{13}-[0-9a-f]{12}/;function l(e){var t=e.source.replace(/\?.*$/,""),r=new URLSearchParams(e.source.replace(/^.*\?/,""));return e.width&&r.set("w",e.width),e.height&&r.set("h",e.height),e.quality&&r.set("q",e.quality),e.fit&&r.set("fit",e.fit),e.auto&&r.set("auto",e.auto),"".concat(t,"?").concat(r.toString())}var c={unsplash:{use:function(e){return i.test(e.source)},getImageURL:function(e){return Promise.resolve(l(e))},getImageInfo:function(e){return o.loadImageInfo(l(e))}},image:{use:function(e){return/^https?:\/\//.test(e.source)},getImageURL:function(e){return Promise.resolve(e.source)},getImageInfo:function(e){return o.loadImageInfo(e.source)}},video:{use:function(e){return/^https?:\/\//.test(e.source)},getVideoURL:function(e){return Promise.resolve(e.source)},getVideoInfo:function(e){return o.loadVideoInfo(e.source)}}}}])},"object"==l(t)&&"object"==l(e)?e.exports=i():(n=[],void 0===(o="function"==typeof(r=i)?r.apply(t,n):r)||(e.exports=o))}).call(this,r("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/deepmerge/dist/cjs.js":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(e){return function(e){return!!e&&"object"===n(e)}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?d((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function a(e,t,r){return e.concat(t).map((function(e){return s(e,r)}))}function l(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function c(e,t){try{return t in e}catch(e){return!1}}function u(e,t,r){var n={};return r.isMergeableObject(e)&&l(e).forEach((function(t){n[t]=s(e[t],r)})),l(t).forEach((function(o){(function(e,t){return c(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(c(e,o)&&r.isMergeableObject(t[o])?n[o]=function(e,t){if(!t.customMerge)return d;var r=t.customMerge(e);return"function"==typeof r?r:d}(o,r)(e[o],t[o],r):n[o]=s(t[o],r))})),n}function d(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||o,r.cloneUnlessOtherwiseSpecified=s;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):u(e,t,r):s(t,r)}d.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return d(e,r,t)}),{})};var f=d;e.exports=f},"./node_modules/gson-conform/lib/asArray.js":function(e,t,r){"use strict";e.exports=function(e){return Array.isArray(e)?e:"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map((function(t){return e[t]})):[]}},"./node_modules/gson-conform/lib/forEach.js":function(e,t,r){"use strict";e.exports=function(e,t){Array.isArray(e)?e.forEach(t):"[object Object]"===Object.prototype.toString.call(e)&&Object.keys(e).forEach((function(r){t(e[r],r,e)}))}},"./node_modules/gson-conform/lib/index.js":function(e,t,r){"use strict";t.values=r("./node_modules/gson-conform/lib/values.js"),t.asArray=r("./node_modules/gson-conform/lib/asArray.js"),t.forEach=r("./node_modules/gson-conform/lib/forEach.js"),t.keyOf=r("./node_modules/gson-conform/lib/keyOf.js"),t.keys=r("./node_modules/gson-conform/lib/keys.js")},"./node_modules/gson-conform/lib/keyOf.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-conform/lib/forEach.js");e.exports=function(e,t){var r=null;return n(e,(function(e,n){t===e&&(r=n)})),r}},"./node_modules/gson-conform/lib/keys.js":function(e,t,r){"use strict";e.exports=function(e){var t;if(Array.isArray(e))t=e.map((function(e,t){return t}));else{if("[object Object]"===Object.prototype.toString.call(e))return Object.keys(e);t=[]}return t}},"./node_modules/gson-conform/lib/values.js":function(e,t,r){"use strict";e.exports=function(e){return Array.isArray(e)?e:"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map((function(t){return e[t]})):null!=e?[e]:[]}},"./node_modules/gson-pointer/index.js":function(e,t,r){"use strict";t.get=r("./node_modules/gson-pointer/lib/get.js"),t.set=r("./node_modules/gson-pointer/lib/set.js"),t.delete=r("./node_modules/gson-pointer/lib/delete.js"),t.join=r("./node_modules/gson-pointer/lib/join.js"),t.split=r("./node_modules/gson-pointer/lib/split.js"),t.isRoot=r("./node_modules/gson-pointer/lib/isRoot.js")},"./node_modules/gson-pointer/lib/delete.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/split.js"),o=r("./node_modules/gson-pointer/lib/get.js"),i=r("./node_modules/gson-pointer/lib/removeUndefinedItems.js");e.exports=function(e,t,r){var s=n(t),a=s.pop(),l=o(e,s);return l&&delete l[a],Array.isArray(l)&&!0!==r&&i(l),e}},"./node_modules/gson-pointer/lib/get.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/split.js"),o=r("./node_modules/gson-pointer/lib/isRoot.js");e.exports=function(e,t,r){if(null==t||null==e)return r;if(o(t))return e;var i=function e(t,r){var n=r.shift();if(void 0===t)return;if(void 0!==n)return e(t[n],r);return t}(e,n(t));return void 0===i?r:i}},"./node_modules/gson-pointer/lib/isRoot.js":function(e,t){e.exports=function(e){return"#"===e||""===e}},"./node_modules/gson-pointer/lib/join.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/split.js"),o=(Object.prototype.toString,Array.prototype.join,/\/+/g),i=/~/g,s=/\//g;function a(e,t){if(0===e.length)return t?"#":"";e.join("/");for(var r=0,n=e.length;r<n;r+=1)e[r]=e[r].replace(i,"~0").replace(s,"~1"),t&&(e[r]=encodeURIComponent(e[r]));return((t?"#/":"/")+e.join("/")).replace(o,"/")}e.exports=function(e){var t=[];if(Array.isArray(e))return a(e,!0===arguments[1]);for(var r=arguments[arguments.length-1],o="boolean"==typeof r?r:e&&"#"===e[0],i=0,s=arguments.length;i<s;i+=1)t.push.apply(t,n(arguments[i]));var l=[];for(i=0,s=t.length;i<s;i+=1)if(".."===t[i]){if(0===l.length)return o?"#":"";l.pop()}else l.push(t[i]);return a(l,o)}},"./node_modules/gson-pointer/lib/removeUndefinedItems.js":function(e,t,r){"use strict";e.exports=function(e){for(var t=0,r=0;t+r<e.length;)void 0===e[t+r]&&(r+=1),e[t]=e[t+r],t+=1;return e.length=e.length-r,e}},"./node_modules/gson-pointer/lib/set.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/split.js"),o=/^\[.*\]$/,i=/^\[(.+)\]$/;function s(e,t,r){var n=t.match(i);"[]"===t&&Array.isArray(e)?e.push(r):n?e[n.pop()]=r:e[t]=r}function a(e,t,r){if(null!=e[t])return e[t];var n=r?[]:{};return s(e,t,n),n}e.exports=function(e,t,r){if(null==t)return e;var i=n(t);if(0===i.length)return e;null==e&&(e=o.test(i[0])?[]:{});for(var l=e;i.length>1;)l=a(l,i.shift(),o.test(i[0]));return s(l,i.pop(),r),e}},"./node_modules/gson-pointer/lib/split.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/isRoot.js"),o=/~1/g,i=/~0/g,s=/\/+/g,a=/(^[#/]*|\/+$)/g;function l(e){return e.replace(o,"/").replace(i,"~")}function c(e){return l(decodeURIComponent(e))}e.exports=function(e){if(null==e||"string"!=typeof e||n(e))return Array.isArray(e)?e:[];for(var t=e.indexOf("#")>=0?c:l,r=(e=(e=e.replace(s,"/")).replace(a,"")).split("/"),o=0,i=r.length;o<i;o+=1)r[o]=t(r[o]);return r}},"./node_modules/gson-query/lib/common.js":function(e,t){var r=/^\{.*\}$/;function n(e){return(e=(e=e.replace(/^\{|\/\{/g,"§{")).replace(/\}\/|\}$/g,"}§")).split("§")}t.rIsRegExp=r,t.convertToRegExp=function(e){return new RegExp(e.replace(/^\{|\}$/g,""))},t.splitRegExp=n,t.parsePointer=function(e){var t,o,i;if(-1===(e=function(e){return(e=e.toString()).replace(/[#/]*/,"")}(e)).indexOf("{"))return e.split("/");for(i=[],t=n(e);null!=(o=t.shift());)""!==o&&(r.test(o)?i.push(o):i.push.apply(i,o.split("/")));return i}},"./node_modules/gson-query/lib/delete.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js").delete,o=r("./node_modules/gson-pointer/lib/removeUndefinedItems.js"),i=r("./node_modules/gson-query/lib/get.js");e.exports=function(e,t){var r=i(e,t,i.ALL);return r.forEach((function(t){n(e,t[3],!0)})),r.forEach((function(e){Array.isArray(e[2])&&o(e[2])})),e}},"./node_modules/gson-query/lib/filter.js":function(e,t,r){var n=r("./node_modules/gson-conform/lib/index.js"),o=r("./node_modules/gson-query/lib/common.js"),i=function(e,t){return function(r){return d(e[r],t)}},s=function(e,t,r){return function(n){return!!r.test(n)&&d(e[n],t)}},a={false:!1,true:!0,null:null};var l=/(\{[^}]*\})/g,c=/§§§\d+§§§/g;function u(e,t){if(e&&t){var r,a,u=function(e){if(-1===e.indexOf("?")||-1===e.indexOf("{"))return e.split("?",2);for(var t={},r=e.replace(l,(function(e,r,n){var o="§§§"+n+"§§§";return t[o]=e,o})).split("?",2),n=0;n<r.length;n+=1)r[n]=r[n].replace(c,(function(e){return t[e]}));return r}(t),f=u[0],h=u[1];if("*"===f||"**"===f)return(r=n.keys(e)).filter(i(e,h));if(o.rIsRegExp.test(f))return r=n.keys(e),a=o.convertToRegExp(f),r.filter(s(e,h,a));if(e[f]&&d(e[f],h))return[f]}return[]}function d(e,t){if(!t)return!0;if(!e)return!1;for(var r,n,o,i=!0,s=t.replace(/(&&)/g,"§$1§").replace(/(\|\|)/g,"§$1§").split("§"),l=!1,c=0,u=s.length;c<u;c+=2)s[c].indexOf(":!")>-1?(o=!1,n=s[c].split(":!")):-1===s[c].indexOf(":")?(o=!1,n=[s[c],void 0]):(o=!0,n=s[c].split(":")),r=n[0],n="undefined"===(n=n[1])?void 0:void 0===a[n]?n:a[n],n=o?n===e[r]:n!==e[r]&&(void 0!==e[r]||void 0===r),i=l?i||n:i&&n,l="||"===s[c+1];return i}t.values=function(e,t){return u(e,t).map((function(t){return e[t]}))},t.keys=u,t.valid=d},"./node_modules/gson-query/lib/get.js":function(e,t,r){var n=r("./node_modules/gson-query/lib/run.js");function o(e,t,r){var i=r===o.MAP?{}:[],s=function(e,t){if("function"==typeof e)return function(r,n,o,i){t.push(e(o[n],n,o,i))};switch(e){case o.ALL:return function(e,r,n,o){t.push([n[r],r,n,o])};case o.MAP:return function(e,r,n,o){t[o]=e};case o.POINTER:return function(e,r,n,o){t.push(o)};case o.VALUE:default:return function(e,r,n,o){t.push(e)}}}(r,i);return n(e,t,s),i}o.ALL="all",o.MAP="map",o.POINTER="pointer",o.VALUE="value",e.exports=o},"./node_modules/gson-query/lib/index.js":function(e,t,r){t.get=r("./node_modules/gson-query/lib/get.js"),t.run=r("./node_modules/gson-query/lib/run.js"),t.delete=r("./node_modules/gson-query/lib/delete.js"),t.filter=r("./node_modules/gson-query/lib/filter.js")},"./node_modules/gson-query/lib/run.js":function(e,t,r){var n=r("./node_modules/gson-query/lib/filter.js"),o=r("./node_modules/gson-query/lib/common.js").parsePointer,i=r("./node_modules/gson-pointer/index.js").join;e.exports=function(e,t,r){var s=o(t);""===s[0]&&s.shift(),""===s[s.length-1]&&(s.length-=1),function e(t,r,o,s){var a=r.shift();0===r.length?n.keys(t,a).forEach(function(e,t,r){return function(n){t(e[n],n,e,i(r,String(n)))}}(t,o,s)):/^\*\*/.test(a)?e(t,r.slice(0),o,s):n.keys(t,a).forEach((function(n){e(t[n],r.slice(0),o,i(s,String(n)))}));/^\*\*/.test(a)&&(r.unshift(a),n.keys(t,a).forEach((function(n){e(t[n],r.slice(0),o,i(s,String(n)))})))}(e,s,r,"#")}},"./node_modules/json-schema-library/index.js":function(e,t,r){e.exports={config:{strings:r("./node_modules/json-schema-library/lib/config/strings.js")},cores:{Interface:r("./node_modules/json-schema-library/lib/cores/CoreInterface.js"),Draft04:r("./node_modules/json-schema-library/lib/cores/Draft04.js"),JsonEditor:r("./node_modules/json-schema-library/lib/cores/JsonEditor.js")},addSchema:r("./node_modules/json-schema-library/lib/addSchema.js"),addValidator:r("./node_modules/json-schema-library/lib/addValidator.js"),compileSchema:r("./node_modules/json-schema-library/lib/compileSchema.js"),createCustomError:r("./node_modules/json-schema-library/lib/utils/createCustomError.js"),createSchemaOf:r("./node_modules/json-schema-library/lib/createSchemaOf.js"),each:r("./node_modules/json-schema-library/lib/each.js"),eachSchema:r("./node_modules/json-schema-library/lib/eachSchema.js"),getChildSchemaSelection:r("./node_modules/json-schema-library/lib/getChildSchemaSelection.js"),getSchema:r("./node_modules/json-schema-library/lib/getSchema.js"),getTemplate:r("./node_modules/json-schema-library/lib/getTemplate.js"),getTypeOf:r("./node_modules/json-schema-library/lib/getTypeOf.js"),isValid:r("./node_modules/json-schema-library/lib/isValid.js"),SchemaService:r("./node_modules/json-schema-library/lib/SchemaService.js"),step:r("./node_modules/json-schema-library/lib/step.js"),validate:r("./node_modules/json-schema-library/lib/validate.js"),validateAsync:r("./node_modules/json-schema-library/lib/validateAsync.js")}},"./node_modules/json-schema-library/lib/SchemaService.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r("./node_modules/json-schema-library/lib/getSchema.js"),i=r("./node_modules/json-schema-library/lib/cores/JsonEditor.js"),s=r("./node_modules/gson-pointer/index.js");function a(e){return JSON.parse(JSON.stringify(e))}var l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.core=new i(t),this.schema=t,this.data=r,this.cache={}}var t,r,l;return t=e,(r=[{key:"updateData",value:function(e){this.data=e,this.cache={}}},{key:"updateSchema",value:function(e){this.schema=e,this.core.setSchema(e),this.cache={}}},{key:"get",value:function(e,t){if(t)return a(o(this.core,t,this.schema,e));if("#"===e)return this.schema;if(this.cache[e])return this.cache[e];var r=s.join(e,".."),n=this.cache[r];null==n&&!0!==(n=o(this.core,this.data,this.schema,r)).variableSchema&&(this.cache[r]=a(n));var i=s.split(e).pop(),l=o(this.core,s.get(this.data,r),this.cache[r],i);return!0!==(l=a(l)).variableSchema&&(this.cache[e]=l),l}}])&&n(t.prototype,r),l&&n(t,l),e}();e.exports=l},"./node_modules/json-schema-library/lib/addSchema.js":function(e,t,r){var n=r("./node_modules/json-schema-library/remotes/index.js"),o=r("./node_modules/json-schema-library/lib/compileSchema.js");e.exports=function(e,t){t.id=t.id||e,n[e]=o(t)}},"./node_modules/json-schema-library/lib/addValidator.js":function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports={error:function(e,t,n){if("function"!=typeof n)throw new Error("Error callback 'errorCreator' must be of type function. Received ".concat(r(n)));e.errors[t]=n},format:function(e,t,n){if("function"!=typeof n)throw new Error("Validation function expected. Received ".concat(r(n)));if(null!=e.validateFormat[t])throw new Error("A format '".concat(t,"' is already registered to validation"));e.validateFormat[t]=n},keyword:function(e,t,n,o){if("function"!=typeof o)throw new Error("Validation function expected. Received ".concat(r(o)));if(null==e.typeKeywords[t])throw new Error("Unknown datatype ".concat(t,". Failed adding custom keyword validation."));!1===e.typeKeywords[t].includes(n)&&e.typeKeywords[t].push(n),e.validateKeyword[n]=o}}},"./node_modules/json-schema-library/lib/compile/getRef.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js").get,o=r("./node_modules/json-schema-library/lib/compile/splitRef.js"),i=/(#|\/)+$/g,s=r("./node_modules/json-schema-library/lib/getTypeOf.js");e.exports=function e(t,r,a){var l;if("object"===s(a)&&(a=a.__ref||a.$ref),null==a)return r;var c=a.replace(i,"");if(t.remotes[c])return(l=t.remotes[c])&&l.$ref?e(t,r,l.$ref):l;if(t.ids[a])return(l=n(r,t.ids[a]))&&l.$ref?e(t,r,l.$ref):l;var u=o(a);if(0===u.length)return r;if(1===u.length){if(a=u[0],t.remotes[a])return e(t,r,(l=t.remotes[a]).$ref);if(t.ids[a])return(l=n(r,t.ids[a]))&&l.$ref?e(t,r,l.$ref):l}if(2===u.length){var d=u[0];if(a=u[1],t.remotes[d])return t.remotes[d].getRef?t.remotes[d].getRef(a):e(t,t.remotes[d],a);if(t.ids[d])return e(t,n(r,t.ids[d]),a)}return(l=n(r,t.ids[a]||a))&&l.$ref?e(t,r,l.$ref):l}},"./node_modules/json-schema-library/lib/compile/index.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/json-schema-library/lib/eachSchema.js"),i=r("./node_modules/json-schema-library/remotes/index.js"),s=r("./node_modules/json-schema-library/lib/compile/joinScope.js"),a=r("./node_modules/json-schema-library/lib/compile/getRef.js"),l=/(#|\/)+$/g;e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==e.__compiled)return e;var r={ids:{},remotes:n({},i)},c=JSON.stringify(e);if(e=JSON.parse(c),Object.defineProperty(e,"__compiled",{enumerable:!1,value:!0}),Object.defineProperty(e,"getRef",{enumerable:!1,value:a.bind(null,r,e)}),!1===t&&!1===c.includes("$ref"))return e;var u={},d=function(){return e};return o(e,(function(e,t){e.id&&(r.ids[e.id.replace(l,"")]=t);var n=(t="#".concat(t).replace(/##+/,"#")).replace(/\/[^/]+$/,""),o=t.replace(/\/[^/]+\/[^/]+$/,""),i=u[n]||u[o],a=s(i,e.id);u[t]=a,null==r.ids[a]&&(r.ids[a]=t),e.$ref&&(Object.defineProperty(e,"__ref",{enumerable:!1,value:s(a,e.$ref)}),Object.defineProperty(e,"getRoot",{enumerable:!1,value:d}))})),e}},"./node_modules/json-schema-library/lib/compile/joinScope.js":function(e,t){var r=/(#|\/)+$/,n=/#$/,o=/^[^:]+:\/\/[^/]+\//,i=/\/[^/]*$/,s=/#.*$/;e.exports=function(e,t){return null==e&&null==t?"#":null==t?e.replace(n,""):null==e?t.replace(n,""):"#"===t[0]?"".concat(e.replace(s,"")).concat(t.replace(r,"")):o.test(t)?t.replace(n,""):"".concat(e.replace(i,""),"/").concat(t.replace(n,""))}},"./node_modules/json-schema-library/lib/compile/splitRef.js":function(e,t){var r=/(#|\/)+$/g,n=["",null,"#"];e.exports=function(e){if(n.includes(e))return[];if(-1===(e=e.replace(r,"")).indexOf("#"))return[e.replace(r,"")];if(0===e.indexOf("#"))return[e.replace(r,"")];var t=e.split("#");return t[0]=t[0].replace(r,""),t[1]="#".concat(t[1].replace(r,"")),t}},"./node_modules/json-schema-library/lib/compileSchema.js":function(e,t,r){e.exports=r("./node_modules/json-schema-library/lib/compile/index.js")},"./node_modules/json-schema-library/lib/config/settings.js":function(e,t){e.exports={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,floatingPointPrecision:1e4,propertyBlacklist:["_id"]}},"./node_modules/json-schema-library/lib/config/strings.js":function(e,t){e.exports={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatUrlError:"Value `{{value}}` at `{{pointer}}` is not a valid url",FormatUriError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",UniqueItemsError:"Expected unique items in {{pointer}}: duplicate value `{{value}}` found at {{itemPointer}} and {{duplicatePointer}}",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"}},"./node_modules/json-schema-library/lib/cores/CoreInterface.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r("./node_modules/json-schema-library/lib/resolveRef.withOverwrite.js");var o=r("./node_modules/json-schema-library/lib/compileSchema.js"),i=r("./node_modules/json-schema-library/lib/resolveAnyOf.js"),s=r("./node_modules/json-schema-library/lib/resolveAllOf.js");e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setSchema(t)}var t,r,a;return t=e,(r=[{key:"each",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]||this.rootSchema,new Error("function 'each' is not implemented")}},{key:"validate",value:function(e){return arguments.length>1&&void 0!==arguments[1]||this.rootSchema,[new Error("function 'validate' is not implemented")]}},{key:"isValid",value:function(e){return arguments.length>1&&void 0!==arguments[1]||this.rootSchema,new Error("function 'isValid' is not implemented")}},{key:"resolveAnyOf",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return i(this,e,t,r)}},{key:"resolveAllOf",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return s(this,e,t,r)}},{key:"resolveRef",value:function(e){return new Error("function 'resolveRef' is not implemented")}},{key:"resolveOneOf",value:function(e,t){return new Error("function 'resolveOneOf' is not implemented")}},{key:"getSchema",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]||this.rootSchema,new Error("function 'getSchema' is not implemented")}},{key:"getTemplate",value:function(e){return arguments.length>1&&void 0!==arguments[1]||this.rootSchema,new Error("function 'getTemplate' is not implemented")}},{key:"setSchema",value:function(e){this.rootSchema=e}},{key:"step",value:function(e,t,r){return new Error("function 'step' is not implemented")}},{key:"rootSchema",get:function(){return this.__rootSchema},set:function(e){null!=e&&(this.__rootSchema=o(e))}}])&&n(t.prototype,r),a&&n(t,a),e}()},"./node_modules/json-schema-library/lib/cores/Draft04.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./node_modules/json-schema-library/lib/cores/CoreInterface.js"),d=r("./node_modules/json-schema-library/lib/step.js"),f=r("./node_modules/json-schema-library/lib/validate.js"),h=r("./node_modules/json-schema-library/lib/resolveOneOf.strict.js"),p=r("./node_modules/json-schema-library/lib/resolveRef.strict.js"),m=r("./node_modules/json-schema-library/lib/getTemplate.js"),v=r("./node_modules/json-schema-library/lib/getSchema.js"),g=r("./node_modules/json-schema-library/lib/each.js"),y=r("./node_modules/json-schema-library/lib/compileSchema.js");r("./node_modules/json-schema-library/remotes/index.js")["http://json-schema.org/draft-04/schema"]=y(r("./node_modules/json-schema-library/remotes/draft04.json"));var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,l,c=a(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).typeKeywords=JSON.parse(JSON.stringify(r("./node_modules/json-schema-library/lib/validation/typeKeywordMapping.js"))),t.validateKeyword=o({},r("./node_modules/json-schema-library/lib/validation/keyword.js")),t.validateType=o({},r("./node_modules/json-schema-library/lib/validation/type.js")),t.validateFormat=o({},r("./node_modules/json-schema-library/lib/validation/format.js")),t.errors=o({},r("./node_modules/json-schema-library/lib/validation/errors.js")),t}return t=u,(n=[{key:"each",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootSchema,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";g(this,e,t,r,n)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return f(this,e,t,r)}},{key:"isValid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return 0===this.validate(e,t,r).length}},{key:"resolveOneOf",value:function(e,t,r){return h(this,e,t,r)}},{key:"resolveRef",value:function(e){return p(e,this.rootSchema)}},{key:"getSchema",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootSchema;return v(this,e,t,r)}},{key:"getTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema;return m(this,e,t)}},{key:"step",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";return d(this,e,t,r,n)}}])&&i(t.prototype,n),l&&i(t,l),u}(u);e.exports=b},"./node_modules/json-schema-library/lib/cores/JsonEditor.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./node_modules/json-schema-library/lib/cores/CoreInterface.js"),d=r("./node_modules/json-schema-library/lib/step.js"),f=r("./node_modules/json-schema-library/lib/validate.js"),h=r("./node_modules/json-schema-library/lib/resolveOneOf.fuzzy.js"),p=r("./node_modules/json-schema-library/lib/resolveRef.withOverwrite.js"),m=r("./node_modules/json-schema-library/lib/getTemplate.js"),v=r("./node_modules/json-schema-library/lib/getSchema.js"),g=r("./node_modules/json-schema-library/lib/each.js"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,l,c=a(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).typeKeywords=JSON.parse(JSON.stringify(r("./node_modules/json-schema-library/lib/validation/typeKeywordMapping.js"))),t.validateKeyword=o({},r("./node_modules/json-schema-library/lib/validation/keyword.js")),t.validateType=o({},r("./node_modules/json-schema-library/lib/validation/type.js")),t.validateFormat=o({},r("./node_modules/json-schema-library/lib/validation/format.js")),t.errors=o({},r("./node_modules/json-schema-library/lib/validation/errors.js")),t}return t=u,(n=[{key:"each",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootSchema,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";g(this,e,t,r,n)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return f(this,e,t,r)}},{key:"isValid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return 0===this.validate(e,t,r).length}},{key:"resolveOneOf",value:function(e,t,r){return h(this,e,t,r)}},{key:"resolveRef",value:function(e){return p(e,this.rootSchema)}},{key:"getSchema",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootSchema;return v(this,e,t,r)}},{key:"getTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema;return m(this,e,t)}},{key:"step",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";return d(this,e,t,r,n)}}])&&i(t.prototype,n),l&&i(t,l),u}(u);e.exports=y},"./node_modules/json-schema-library/lib/createSchemaOf.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/getTypeOf.js");e.exports=function e(t){var r={type:n(t)};return"object"===r.type&&(r.properties={},Object.keys(t).forEach((function(n){return r.properties[n]=e(t[n])}))),"array"===r.type&&1===t.length?r.items=e(t[0]):"array"===r.type&&(r.items=t.map(e)),r}},"./node_modules/json-schema-library/lib/each.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/getTypeOf.js");e.exports=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.rootSchema,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#";r(o,t,i);var s=n(t);"object"===s?Object.keys(t).forEach((function(n){var s=e.step(n,o,t,i),a=t[n];e.each(a,r,s,"".concat(i,"/").concat(n))})):"array"===s&&t.forEach((function(n,s){var a=e.step(s,o,t,i);e.each(n,r,a,"".concat(i,"/").concat(s))}))}},"./node_modules/json-schema-library/lib/eachSchema.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js"),o=r("./node_modules/json-schema-library/lib/schema/getTypeDefs.js");function i(e,t){var r=this;!0!==this.callback(e,t)&&o(e).forEach((function(e){return r.nextTypeDefs(e.def,n.join(t,e.pointer,!1))}))}function s(e,t,r){Object.keys(t.definitions).forEach((function(o){var i;(i=t.definitions[o],"[object Object]"===Object.prototype.toString.call(i))?e.nextTypeDefs(t.definitions[o],n.join(r,"definitions",o,!1)):console.log("Invalid schema in ".concat(r,"/definitions/").concat(o))}))}e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",n={callback:t,nextTypeDefs:i};n.nextTypeDefs(e,r),null!=e.definitions&&(n.callback=function(e,r){t(e,r),null!=e.definitions&&s(n,e,r)},s(n,e,r))}},"./node_modules/json-schema-library/lib/getChildSchemaSelection.js":function(e,t){e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,n=e.step(t,r,{},"#");return"error"===n.type?"one-of-error"===n.code?n.data.oneOf.map((function(t){return e.resolveRef(t)})):n:[n]}},"./node_modules/json-schema-library/lib/getSchema.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js"),o={};function i(e,t,r,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;if(0===r.length)return t;var a=r.shift();return(t=e.step(a,t,s,n))&&"error"===t.type?t:(s=s[a],i(e,t,r,"".concat(n,"/").concat(a),s))}e.exports=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.rootSchema,s=n.split(t);return i(e,o,s,t,r)}},"./node_modules/json-schema-library/lib/getTemplate.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,s=r("./node_modules/json-schema-library/lib/resolveOneOf.fuzzy.js"),a=r("./node_modules/json-schema-library/lib/getTypeOf.js"),l=r("./node_modules/json-schema-library/lib/utils/merge.js"),c=r("./node_modules/json-schema-library/lib/utils/copy.js"),u=r("./node_modules/json-schema-library/lib/config/settings.js");function d(e,t){if(null==t)throw new Error("Missing pointer");var r=e.$ref;return null==r||(null==i[t]||null==i[t][r]?0:i[t][r])<u.GET_TEMPLATE_RECURSION_LIMIT}function f(e,t,r){if(null==r)throw new Error("missing pointer",r);var n=t.$ref;return null==n?t:(i[r]=i[r]||{},i[r][n]=i[r][n]||0,i[r][n]+=1,e.resolveRef(t))}function h(e,t,r,o){if("object"!==a(t))return n({pointer:o},t);if(!1===d(t,o)&&null==r)return!1;var i=c(f(e,t,o));if(Array.isArray(t.anyOf)&&t.anyOf.length>0){if(d(t.anyOf[0],"".concat(o,"/anyOf/0"))){var s=f(e,t.anyOf[0],"".concat(o,"/anyOf/0"));(i=l(i,s)).pointer=t.anyOf[0].$ref||i.pointer}delete i.anyOf}if(Array.isArray(t.allOf)){for(var u=0,h=t.allOf.length;u<h;u+=1)d(t.allOf[u],"".concat(o,"/allOf/").concat(u))&&((i=l(i,f(e,t.allOf[u],"".concat(o,"/allOf/").concat(u)))).pointer=t.allOf[u].$ref||i.pointer);delete i.allOf}return i.pointer=i.pointer||t.$ref||o,i}function p(e,t,r,n){if(null==r)throw new Error("getTemplate: missing schema for data",t);if(null==n)throw new Error("Missing pointer");if(!1!==(r=h(e,r,t,n))){if(n=r.pointer,r.oneOf){var i=s(e,t,r);if(null==t&&"error"===i.type)r=r.oneOf[0];else{if("error"===i.type)return t;r=i}}if(null!=r.type){if(null!=t&&a(t)!==r.type&&(t=function(e,t){if("string"===e)return JSON.stringify(t);if("string"!=typeof t)return null;try{if(o(t=JSON.parse(t))===e)return t}catch(e){}return null}(r.type,t)),null==m[r.type])throw new Error("Unsupported type '".concat(r.type," in ").concat(JSON.stringify(r),"'"));return m[r.type](e,r,t,n)}}}var m={string:function(e,t,r){return v(t,r,"")},number:function(e,t,r){return v(t,r,0)},integer:function(e,t,r){return v(t,r,0)},boolean:function(e,t,r){return v(t,r,!1)},object:function(e,t,r,n){var o=void 0===t.default?{}:t.default,i={};return t.properties&&Object.keys(t.properties).forEach((function(s){var a=null==r||null==r[s]?o[s]:r[s];i[s]=p(e,a,t.properties[s],"".concat(n,"/properties/").concat(s))})),r&&Object.keys(r).forEach((function(e){return null==i[e]&&(i[e]=r[e])})),i},array:function(e,t,r,n){var o=void 0===t.default?[]:t.default,i=r||[];if(t.minItems=t.minItems||0,null==t.items)return i;if(Array.isArray(t.items)){for(var l=0,c=Math.min(t.minItems,t.items.length);l<c;l+=1)i[l]=p(e,null==i[l]?o[l]:i[l],t.items[l],"".concat(n,"/items/").concat(l));return i}if("object"!==a(t.items))return i;var u=h(e,t.items,r,n);if(!1===u)return i;if(n=u.pointer||n,u.oneOf&&0===i.length){for(var d=u.oneOf[0],f=0;f<t.minItems;f+=1)i[f]=p(e,null==i[f]?o[f]:i[f],d,"".concat(n,"/oneOf/0"));return i}if(u.oneOf&&i.length>0){for(var m=Math.max(t.minItems,i.length),v=0;v<m;v+=1){var g=null==i[v]?o[v]:i[v],y=s(e,g,u);i[v]=y?p(e,g,y,"".concat(n,"/oneOf/").concat(v)):g}return i}if(u.type){for(var b=0,w=Math.max(t.minItems,i.length);b<w;b+=1)i[b]=p(e,null==i[b]?o[b]:i[b],u,"".concat(n,"/items"));return i}return i}};function v(e,t,r){return null!=t?t:void 0===e.default&&Array.isArray(e.enum)?e.enum[0]:void 0===e.default?r:e.default}e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema;return i={mi:".."},p(e,t,r,"#")}},"./node_modules/json-schema-library/lib/getTypeOf.js":function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e).match(/\s([^\]]+)\]/).pop().toLowerCase()}},"./node_modules/json-schema-library/lib/isValid.js":function(e,t){e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";return 0===e.validate(t,r,n).length}},"./node_modules/json-schema-library/lib/resolveAllOf.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/copy.js"),o=r("./node_modules/json-schema-library/lib/utils/merge.js"),i=r("./node_modules/json-schema-library/lib/validation/errors.js");e.exports=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#",a=n(r),l=0;l<r.allOf.length;l+=1){var c=e.resolveRef(r.allOf[l]);if(!1===e.isValid(t,c,s))return i.allOfError({value:t,pointer:s,allOf:JSON.stringify(r.allOf)});a=o(a,c)}return delete a.allOf,a}},"./node_modules/json-schema-library/lib/resolveAnyOf.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/copy.js"),o=r("./node_modules/json-schema-library/lib/utils/merge.js"),i=r("./node_modules/json-schema-library/lib/validation/errors.js");e.exports=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#",a=!1,l=n(r),c=0;c<r.anyOf.length;c+=1){var u=e.resolveRef(r.anyOf[c]);e.isValid(t,r.anyOf[c],s)&&(a=!0,l=o(l,u))}return!1===a?i.anyOfError({value:t,pointer:s,anyOf:JSON.stringify(r.anyOf)}):(delete l.anyOf,l)}},"./node_modules/json-schema-library/lib/resolveOneOf.fuzzy.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/json-schema-library/lib/utils/filter.js"),s=r("./node_modules/json-schema-library/lib/utils/flattenArray.js"),a=r("./node_modules/json-schema-library/lib/getTypeOf.js"),l=r("./node_modules/json-schema-library/lib/config/settings.js").DECLARATOR_ONEOF;function c(e,t,r,n){if(null==r||null==t.properties)return-1;for(var o=0,i=Object.keys(t.properties),s=0;s<i.length;s+=1){var a=i[s];null!=r[a]&&e.isValid(r[a],t.properties[a],n)&&(o+=1)}return o}e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";if(null!=t&&r[l]){var u=[],d=r[l],f=t[r[l]];if(void 0===f)return e.errors.missingOneOfPropertyError({property:d,pointer:o});for(var h=0;h<r.oneOf.length;h+=1){var p=e.resolveRef(r.oneOf[h]),m=e.step(d,p,t,o);if(m&&"error"===m.type)return m;var v=s(e.validate(f,m,o));if(!((v=v.filter(i.errorOrPromise)).length>0))return p;u.push.apply(u,n(v))}return e.errors.oneOfPropertyError({property:d,value:f,pointer:o,errors:u})}for(var g=[],y=0;y<r.oneOf.length;y+=1){var b=e.resolveRef(r.oneOf[y]);e.isValid(t,b,o)&&g.push(b)}if(1===g.length)return g[0];if("object"===a(t)){for(var w,_=0,j=0;j<r.oneOf.length;j+=1){var E=e.resolveRef(r.oneOf[j]),O=c(e,E,t);_<O&&(_=O,w=r.oneOf[j])}return void 0===w?e.errors.oneOfError({value:JSON.stringify(t),pointer:o,oneOf:r.oneOf}):w}return g.length>1?e.errors.multipleOneOfError({matches:g,data:t,pointer:o}):e.errors.oneOfError({value:JSON.stringify(t),pointer:o,oneOf:r.oneOf})}},"./node_modules/json-schema-library/lib/resolveOneOf.strict.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/json-schema-library/lib/utils/filter.js"),s=r("./node_modules/json-schema-library/lib/utils/flattenArray.js");e.exports=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#",a=[],l=[],c=0;c<r.oneOf.length;c+=1){var u=e.resolveRef(r.oneOf[c]),d=s(e.validate(t,u,o));(d=d.filter(i.errorOrPromise)).length>0?l.push.apply(l,n(d)):a.push(u)}return 1===a.length?a[0]:a.length>1?e.errors.multipleOneOfError({value:t,pointer:o,matches:a}):e.errors.oneOfError({value:JSON.stringify(t),pointer:o,oneOf:r.oneOf,errors:l})}},"./node_modules/json-schema-library/lib/resolveRef.strict.js":function(e,t){e.exports=function(e,t){return null==e||null==e.$ref?e:t.getRef(e)}},"./node_modules/json-schema-library/lib/resolveRef.withOverwrite.js":function(e,t){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}e.exports=function(e,t){if(null==e||null==e.$ref)return e;var n=r({},t.getRef(e),e);return delete n.$ref,Object.defineProperty(n,"__ref",{enumerable:!1,value:e.__ref}),Object.defineProperty(n,"getRoot",{enumerable:!1,value:e.getRoot}),n}},"./node_modules/json-schema-library/lib/schema/getTypeDefs.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js"),o=r("./node_modules/gson-query/lib/index.js"),i=r("./node_modules/json-schema-library/lib/schema/getTypeId.js"),s=r("./node_modules/json-schema-library/lib/schema/types.js");e.exports=function(e){var t=[],r=i(e);if(null==r)return t;var a=s[r];return null==a.definitions||a.definitions.forEach((function(r){o.run(e,r,(function(e,r,o,s){(function(e){return"[object Object]"===Object.prototype.toString.call(e)})(e)&&i(e)&&t.push({pointer:n.join(n.split(s),!1),def:e})}))})),t}},"./node_modules/json-schema-library/lib/schema/getTypeId.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/schema/types.js"),o=Object.keys(n).filter((function(e){return!1===n[e].type}));e.exports=function(e){if(!1!=(t=e,"[object Object]"===Object.prototype.toString.call(t))){var t;if(e.enum)return"enum";if(n[e.type])return e.type;var r=o.filter((function(t){return e[t]}));if(1===r.length)return r[0];if(0!==r.length)throw new Error("Mutiple typeIds [".concat(r.join(", "),"] matched in ").concat(JSON.stringify(e)));for(var i=0,s=n.object.keywords.length;i<s;i+=1){var a=n.object.keywords[i];if(e.hasOwnProperty(a))return"object"}for(var l=0,c=n.array.keywords.length;l<c;l+=1){var u=n.array.keywords[l];if(e.hasOwnProperty(u))return"array"}}}},"./node_modules/json-schema-library/lib/schema/types.js":function(e,t){e.exports={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}}},"./node_modules/json-schema-library/lib/step.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/getTypeOf.js"),o=r("./node_modules/json-schema-library/lib/createSchemaOf.js"),i=r("./node_modules/json-schema-library/lib/validation/errors.js"),s=r("./node_modules/json-schema-library/lib/utils/merge.js"),a={array:function(e,t,r,s,a){var l=n(r.items);if("object"===l)return Array.isArray(r.items.oneOf)?e.resolveOneOf(s[t],r.items,a)||!1:Array.isArray(r.items.anyOf)?e.resolveAnyOf(s[t],r.items,a):Array.isArray(r.items.allOf)?e.resolveAllOf(s[t],r.items,a):e.resolveRef(r.items);if("array"===l){if(r.items[t])return e.resolveRef(r.items[t]);if(!1===r.additionalItems)return i.additionalItemsError({key:t,value:s[t],pointer:a});if(!0===r.additionalItems||void 0===r.additionalItems)return o(s[t]);if("object"===n(r.additionalItems))return r.additionalItems;throw new Error("Invalid schema ".concat(JSON.stringify(r,null,4)," for ").concat(JSON.stringify(s,null,4)))}return!1!==r.additionalItems&&s[t]?o(s[t]):new Error("Invalid array schema for ".concat(t," at ").concat(a))},object:function(e,t,r,a,l){if(Array.isArray(r.oneOf)){var c=e.resolveOneOf(a,r,l);if((r=s(r,c))&&"error"===r.type)return r}if(Array.isArray(r.anyOf)&&(r=e.resolveAnyOf(a,r,l))&&"error"===r.type)return r;if(Array.isArray(r.allOf)&&(r=e.resolveAllOf(a,r,l))&&"error"===r.type)return r;var u;if(r.properties&&void 0!==r.properties[t]){if((u=e.resolveRef(r.properties[t]))&&"error"===u.type)return u;if(u&&Array.isArray(u.oneOf)){var d=e.resolveOneOf(a[t],u,"".concat(l,"/").concat(t));return(d=JSON.parse(JSON.stringify(d))).variableSchema=!0,d.oneOfSchema=u,d}if(u)return u}if("object"===n(r.patternProperties))for(var f=Object.keys(r.patternProperties),h=0,p=f.length;h<p;h+=1)if(new RegExp(f[h]).test(t))return r.patternProperties[f[h]];return"object"===n(r.additionalProperties)?r.additionalProperties:!0===r.additionalProperties?o(a):i.unknownPropertyError({property:t,value:a,pointer:l})}};e.exports=function(e,t,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#",s=r.type||n(o);return a[s]?a[s](e,t,r,o,i):new Error("Unsupported schema type ".concat(r.type," for key ").concat(t))}},"./node_modules/json-schema-library/lib/utils/__.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/config/strings.js"),o=r("./node_modules/json-schema-library/lib/utils/render.js");e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=n[e]||r;return o(i,t)}},"./node_modules/json-schema-library/lib/utils/copy.js":function(e,t){e.exports=function(e){return JSON.parse(JSON.stringify(e))}},"./node_modules/json-schema-library/lib/utils/createCustomError.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/__.js");e.exports=function(e){return function(t){return{type:"error",name:e,code:(r=e,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),message:n(e,t),data:t};var r}}},"./node_modules/json-schema-library/lib/utils/filter.js":function(e,t){function r(e){return e instanceof Promise}function n(e){return e&&"error"===e.type}e.exports={isError:n,isPromise:r,errorOrPromise:function(e){return n(e)||r(e)},errorsOnly:function(e){return n(e)}}},"./node_modules/json-schema-library/lib/utils/flattenArray.js":function(e,t){e.exports=function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0;n<t.length;n+=1)Array.isArray(t[n])?e(t[n],r):r.push(t[n]);return r}},"./node_modules/json-schema-library/lib/utils/merge.js":function(e,t,r){var n=r("./node_modules/deepmerge/dist/cjs.js"),o=function(e,t){return t};e.exports=function(e,t){return n(e,t,{arrayMerge:o})}},"./node_modules/json-schema-library/lib/utils/punycode.ucs2decode.js":function(e,t){e.exports=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}},"./node_modules/json-schema-library/lib/utils/render.js":function(e,t){e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/\{\{\w+\}\}/g,(function(e){return t[e.replace(/[{}]/g,"")]}))}},"./node_modules/json-schema-library/lib/validate.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/getTypeOf.js"),o=r("./node_modules/json-schema-library/lib/utils/filter.js"),i=r("./node_modules/json-schema-library/lib/utils/flattenArray.js");function s(e,t){var r=n(e);return"number"===r&&("integer"===t||Array.isArray(t)&&t.includes("integer"))&&(r=Number.isInteger(e)?"integer":"number"),r}e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";if("error"===r.type)return[r];var a=s(t,(r=e.resolveRef(r)).type),l=r.type||a;if(!(a===l||Array.isArray(l)&&l.includes(a)))return[e.errors.typeError({received:a,expected:l,value:t,pointer:n})];if(null==e.validateType[a])return[e.errors.invalidTypeError({receivedType:a,pointer:n})];var c=i(e.validateType[a](e,r,t,n));return c.filter(o.errorOrPromise)}},"./node_modules/json-schema-library/lib/validateAsync.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/filter.js"),o=r("./node_modules/json-schema-library/lib/utils/flattenArray.js");e.exports=function(e,t,r){var i=r.schema,s=void 0===i?e.rootSchema:i,a=r.pointer,l=void 0===a?"#":a,c=r.onError,u=e.validate(t,s,l);if(c){u=o(u);for(var d=function(e){return function t(r){return Array.isArray(r)?((r=o(r)).forEach(t),r):(n.isError(r)&&e(r),r)}}(c),f=0;f<u.length;f+=1)u[f]instanceof Promise?u[f].then(d):n.isError(u[f])&&c(u[f])}return Promise.all(u).then(o).then((function(e){return e.filter(n.errorsOnly)})).catch((function(e){throw console.log("Failed resolving promises",e.message),console.log(e.stack),e}))}},"./node_modules/json-schema-library/lib/validation/errors.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/createCustomError.js"),o={additionalItemsError:n("AdditionalItemsError"),additionalPropertiesError:n("AdditionalPropertiesError"),anyOfError:n("AnyOfError"),allOfError:n("AllOfError"),enumError:n("EnumError"),formatUrlError:n("FormatUrlError"),formatUriError:n("FormatUriError"),formatDateTimeError:n("FormatDateTimeError"),formatEmailError:n("FormatEmailError"),formatHostnameError:n("FormatHostnameError"),formatIPV4Error:n("FormatIPV4Error"),formatIPV6Error:n("FormatIPV6Error"),formatRegExError:n("FormatRegExError"),invalidSchemaError:n("InvalidSchemaError"),invalidTypeError:n("InvalidTypeError"),maximumError:n("MaximumError"),maxItemsError:n("MaxItemsError"),maxLengthError:n("MaxLengthError"),maxPropertiesError:n("MaxPropertiesError"),minimumError:n("MinimumError"),minItemsError:n("MinItemsError"),minLengthError:n("MinLengthError"),minPropertiesError:n("MinPropertiesError"),missingDependencyError:n("MissingDependencyError"),missingOneOfPropertyError:n("MissingOneOfPropertyError"),multipleOfError:n("MultipleOfError"),multipleOneOfError:n("MultipleOneOfError"),noAdditionalPropertiesError:n("NoAdditionalPropertiesError"),notError:n("NotError"),oneOfError:n("OneOfError"),oneOfPropertyError:n("OneOfPropertyError"),patternError:n("PatternError"),patternPropertiesError:n("PatternPropertiesError"),requiredPropertyError:n("RequiredPropertyError"),typeError:n("TypeError"),undefinedValueError:n("UndefinedValueError"),uniqueItemsError:n("UniqueItemsError"),unknownPropertyError:n("UnknownPropertyError"),valueNotEmptyError:n("ValueNotEmptyError")};e.exports=o},"./node_modules/json-schema-library/lib/validation/format.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/validation/errors.js"),o=r("./node_modules/valid-url/index.js"),i=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),s=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,l={"date-time":function(e,t,r,o){return""===r||i.test(r)?"Invalid Date"===new Date(r).toString()?n.formatDateTimeError({value:r,pointer:o}):void 0:n.formatDateTimeError({value:r,pointer:o})},email:function(e,t,r,o){if(""!==r&&!r.includes("@"))return n.formatEmailError({value:r,pointer:o})},hostname:function(e,t,r,o){if(""!==r&&!/\./.test(r))return n.formatHostnameError({value:r,pointer:o})},ipv4:function(e,t,r,o){if(""!==r&&!s.test(r))return n.formatIPV4Error({value:r,pointer:o})},ipv6:function(e,t,r,o){if(""!==r&&!a.test(r))return n.formatIPV6Error({value:r,pointer:o})},regex:function(e,t,r,o){if("string"!=typeof r||!1!==/\\Z$/.test(r))return n.formatRegExError({value:r,pointer:o})},uri:function(e,t,r,i){if(""!==r&&!o.isUri(r))return n.formatUriError({value:r,pointer:i})},url:function(e,t,r,i){if(""!==r&&!o.isWebUri(r))return n.formatUrlError({value:r,pointer:i})}};e.exports=l},"./node_modules/json-schema-library/lib/validation/keyword.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=r("./node_modules/json-schema-library/lib/getTypeOf.js"),a=r("./node_modules/json-schema-library/lib/utils/punycode.ucs2decode.js"),l=r("./node_modules/json-schema-library/lib/config/settings.js"),c=l.floatingPointPrecision,u={additionalProperties:function(e,t,r,n){if(!0!==t.additionalProperties&&null!=t.additionalProperties&&("object"!==s(t.patternProperties)||!1!==t.additionalProperties)){var o=[],a=Object.keys(r).filter((function(e){return!1===l.propertyBlacklist.includes(e)})),c=Object.keys(t.properties||{});if("object"===s(t.patternProperties)){var u=Object.keys(t.patternProperties).map((function(e){return new RegExp(e)}));a=a.filter((function(e){for(var t=0;t<u.length;t+=1)if(u[t].test(e))return!1;return!0}))}for(var d=0,f=a.length;d<f;d+=1){var h=a[d];if(-1===c.indexOf(h)){var p="object"===i(t.additionalProperties);if(p&&Array.isArray(t.additionalProperties.oneOf)){var m=e.resolveOneOf(r[h],t.additionalProperties,"".concat(n,"/").concat(h));"error"===m.type?o.push(e.errors.additionalPropertiesError({schema:t.additionalProperties,property:a[d],properties:c,pointer:n,errors:m.data.errors})):o.push(e.validate(r[h],m,n))}else p?0!==e.validate(r[h],t.additionalProperties,n).length&&o.push(e.errors.additionalPropertiesError({schema:t.additionalProperties,property:a[d],properties:c,pointer:n})):o.push(e.errors.noAdditionalPropertiesError({property:a[d],properties:c,pointer:n}))}}return o}},allOf:function(e,t,r,n){if(!1!==Array.isArray(t.allOf)){var o=[];return t.allOf.forEach((function(t){o.push(e.validate(r,t,n))})),o}},anyOf:function(e,t,r,n){if(!1!==Array.isArray(t.anyOf)){for(var o=0;o<t.anyOf.length;o+=1)if(e.isValid(r,t.anyOf[o]))return;return e.errors.anyOfError({anyOf:t.anyOf,value:r,pointer:n})}},dependencies:function(e,t,r,o){if("object"===s(t.dependencies)){var i=[];return Object.keys(r).forEach((function(a){if(void 0!==t.dependencies[a]){var l,c=s(t.dependencies[a]);if("array"===c)l=t.dependencies[a].filter((function(e){return void 0===r[e]})).map((function(t){return e.errors.missingDependencyError({missingProperty:t,pointer:o})}));else{if("object"!==c)throw new Error("Invalid dependency definition for ".concat(o,"/").concat(a,". Must be list or schema"));l=e.validate(r,t.dependencies[a])}i.push.apply(i,n(l))}})),i.length>0?i:void 0}},enum:function(e,t,r,n){var o=s(r);if("object"===o||"array"===o){for(var i=JSON.stringify(r),a=0;a<t.enum.length;a+=1)if(JSON.stringify(t.enum[a])===i)return}else if(t.enum.includes(r))return;return e.errors.enumError({values:t.enum,value:r,pointer:n})},format:function(e,t,r,n){if(e.validateFormat[t.format])return e.validateFormat[t.format](e,t,r,n)},items:function(e,t,r,o){for(var i=[],s=0;s<r.length;s+=1){var a=r[s],l=e.step(s,t,r,o);if(l&&"error"===l.type)return[l];var c=e.validate(a,l,"".concat(o,"/").concat(s));i.push.apply(i,n(c))}return i},maximum:function(e,t,r,n){if(!isNaN(t.maximum))return t.maximum&&t.maximum<r||t.maximum&&!0===t.exclusiveMaximum&&t.maximum===r?e.errors.maximumError({maximum:t.maximum,length:r,pointer:n}):void 0},maxItems:function(e,t,r,n){if(!isNaN(t.maxItems))return t.maxItems<r.length?e.errors.maxItemsError({maximum:t.maxItems,length:r.length,pointer:n}):void 0},maxLength:function(e,t,r,n){if(!isNaN(t.maxLength)){var o=a(r).length;return t.maxLength<o?e.errors.maxLengthError({maxLength:t.maxLength,length:o,pointer:n}):void 0}},maxProperties:function(e,t,r,n){var o=Object.keys(r).length;if(!1===isNaN(t.maxProperties)&&t.maxProperties<o)return e.errors.maxPropertiesError({maxProperties:t.maxProperties,length:o,pointer:n})},minLength:function(e,t,r,n){if(!isNaN(t.minLength)){var o=a(r).length;return t.minLength>o?e.errors.minLengthError({minLength:t.minLength,length:o,pointer:n}):void 0}},minimum:function(e,t,r,n){if(!isNaN(t.minimum))return t.minimum>r||!0===t.exclusiveMinimum&&t.minimum===r?e.errors.minimumError({minimum:t.minimum,length:r,pointer:n}):void 0},minItems:function(e,t,r,n){if(!isNaN(t.minItems))return t.minItems>r.length?e.errors.minItemsError({minItems:t.minItems,length:r.length,pointer:n}):void 0},minProperties:function(e,t,r,n){if(!isNaN(t.minProperties)){var o=Object.keys(r).length;return t.minProperties>o?e.errors.minPropertiesError({minProperties:t.minProperties,length:o,pointer:n}):void 0}},multipleOf:function(e,t,r,n){if(!isNaN(t.multipleOf))return r*c%(t.multipleOf*c)/c!=0?e.errors.multipleOfError({multipleOf:t.multipleOf,value:r,pointer:n}):void 0},not:function(e,t,r,n){var o=[];return 0===e.validate(r,t.not,n).length&&o.push(e.errors.notError({value:r,not:t.not,pointer:n})),o},oneOf:function(e,t,r,n){if(!1!==Array.isArray(t.oneOf))return(t=e.resolveOneOf(r,t,n))&&"error"===t.type?t:void 0},pattern:function(e,t,r,n){if(!1===new RegExp(t.pattern).test(r))return e.errors.patternError({pattern:t.pattern,description:t.patternExample||t.pattern,received:r,pointer:n})},patternProperties:function(e,t,r,o){var i=t.properties||{},a=t.patternProperties;if("object"===s(a)){var l=[],c=Object.keys(r),u=Object.keys(a).map((function(e){return{regex:new RegExp(e),patternSchema:a[e]}}));return c.forEach((function(s){for(var c=!1,d=0,f=u.length;d<f;d+=1)if(u[d].regex.test(s)){c=!0;var h=e.validate(r[s],u[d].patternSchema,"".concat(o,"/").concat(s));h&&h.length>0&&l.push.apply(l,n(h))}i[s]||!1===c&&!1===t.additionalProperties&&l.push(e.errors.patternPropertiesError({key:s,pointer:o,patterns:Object.keys(a).join(",")}))})),l}},properties:function(e,t,r,o){for(var i=[],s=Object.keys(t.properties||{}),a=0;a<s.length;a+=1){var l=s[a];if(void 0!==r[l]){var c=e.step(l,t,r,o),u=e.validate(r[l],c,"".concat(o,"/").concat(l));i.push.apply(i,n(u))}}return i},propertiesRequired:function(e,t,r,o){for(var i=[],s=Object.keys(t.properties||{}),a=0;a<s.length;a+=1){var l=s[a];if(void 0===r[l])i.push(e.errors.requiredPropertyError({key:l,pointer:o}));else{var c=e.step(l,t,r,o),u=e.validate(r[l],c,"".concat(o,"/").concat(l));i.push.apply(i,n(u))}}return i},required:function(e,t,r,n){if(!1!==Array.isArray(t.required))return t.required.map((function(t){if(void 0===r[t])return e.errors.requiredPropertyError({key:t,pointer:n})}))},requiredNotEmpty:function(e,t,r,n){if(!1!==Array.isArray(t.required))return t.required.map((function(t){if(null==r[t]||""===r[t])return e.errors.valueNotEmptyError({property:t,pointer:"".concat(n,"/").concat(t)})}))},uniqueItems:function(e,t,r,n){if(!1!==(Array.isArray(r)&&t.uniqueItems)){var o=[],i={};return r.forEach((function(t,r){var s=JSON.stringify(t),a="".concat(n,"/").concat(r);i[s]?o.push(e.errors.uniqueItemsError({pointer:n,itemPointer:i[s],duplicatePointer:a,value:s})):i[s]=a})),o}}};e.exports=u},"./node_modules/json-schema-library/lib/validation/type.js":function(e,t){e.exports={array:function(e,t,r,n){return e.typeKeywords.array.filter((function(e){return t&&null!=t[e]})).map((function(o){return e.validateKeyword[o](e,t,r,n)}))},object:function(e,t,r,n){return e.typeKeywords.object.filter((function(e){return t&&null!=t[e]})).map((function(o){return e.validateKeyword[o](e,t,r,n)}))},string:function(e,t,r,n){return e.typeKeywords.string.filter((function(e){return t&&null!=t[e]})).map((function(o){return e.validateKeyword[o](e,t,r,n)}))},integer:function(e,t,r,n){return e.typeKeywords.number.filter((function(e){return t&&null!=t[e]})).map((function(o){return e.validateKeyword[o](e,t,r,n)}))},number:function(e,t,r,n){return e.typeKeywords.number.filter((function(e){return t&&null!=t[e]})).map((function(o){return e.validateKeyword[o](e,t,r,n)}))},boolean:function(e,t,r,n){return e.typeKeywords.boolean.filter((function(e){return t&&null!=t[e]})).map((function(o){return e.validateKeyword[o](e,t,r,n)}))},null:function(e,t,r,n){return e.typeKeywords.null.filter((function(e){return t&&null!=t[e]})).map((function(o){return e.validateKeyword[o](e,t,r,n)}))}}},"./node_modules/json-schema-library/lib/validation/typeKeywordMapping.js":function(e,t){e.exports={array:["enum","items","minItems","maxItems","uniqueItems","not"],boolean:["enum","not"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["enum","format","maxLength","minLength","pattern","not","oneOf","allOf","anyOf"],number:["enum","format","maximum","minimum","multipleOf","not","oneOf","allOf","anyOf"],null:["enum","format","not","oneOf","allOf","anyOf"]}},"./node_modules/json-schema-library/remotes/draft04.json":function(e){e.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"$schema":{"type":"string","format":"uri"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},"./node_modules/json-schema-library/remotes/index.js":function(e,t,r){e.exports={"http://json-schema.org/draft-04/schema":r("./node_modules/json-schema-library/remotes/draft04.json"),reset:function(){var e=this;Object.keys(this).forEach((function(t){"function"!=typeof e[t]&&"http://json-schema.org/draft-04/schema"!==t&&delete e[t]}))}}},"./node_modules/jsondiffpatch/dist/empty.js":function(e,t){},"./node_modules/jsondiffpatch/dist/jsondiffpatch.umd.js":function(e,t,r){var n,o,i,s;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}s=function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var r="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+a(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==a(t)&&"function"!=typeof t?e:t},c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},d=function(){function e(t){n(this,e),this.selfOptions=t||{},this.pipes={}}return o(e,[{key:"options",value:function(e){return e&&(this.selfOptions=e),this.selfOptions}},{key:"pipe",value:function(e,t){var r=t;if("string"==typeof e){if(void 0===r)return this.pipes[e];this.pipes[e]=r}if(e&&e.name){if(r=e,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}},{key:"process",value:function(e,t){var r=e;r.options=this.options();for(var n=t||e.pipe||"default",o=void 0,i=void 0;n;)void 0!==r.nextAfterChildren&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),"string"==typeof n&&(n=this.pipe(n)),n.process(r),i=r,o=n,n=null,r&&r.next&&(r=r.next,n=i.nextPipe||r.pipe||o);return r.hasResult?r.result:void 0}}]),e}(),f=function(){function e(t){n(this,e),this.name=t,this.filters=[]}return o(e,[{key:"process",value:function(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var t=this.debug,n=this.filters.length,o=e,i=0;i<n;i++){var s=this.filters[i];if(t&&this.log("filter: "+s.filterName),s(o),"object"===(void 0===o?"undefined":r(o))&&o.exiting){o.exiting=!1;break}}!o.next&&this.resultCheck&&this.resultCheck(o)}},{key:"log",value:function(e){console.log("[jsondiffpatch] "+this.name+" pipe, "+e)}},{key:"append",value:function(){var e;return(e=this.filters).push.apply(e,arguments),this}},{key:"prepend",value:function(){var e;return(e=this.filters).unshift.apply(e,arguments),this}},{key:"indexOf",value:function(e){if(!e)throw new Error("a filter name is required");for(var t=0;t<this.filters.length;t++)if(this.filters[t].filterName===e)return t;throw new Error("filter not found: "+e)}},{key:"list",value:function(){return this.filters.map((function(e){return e.filterName}))}},{key:"after",value:function(e){var t=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(t+1,0),Array.prototype.splice.apply(this.filters,r),this}},{key:"before",value:function(e){var t=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(t,0),Array.prototype.splice.apply(this.filters,r),this}},{key:"replace",value:function(e){var t=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(t,1),Array.prototype.splice.apply(this.filters,r),this}},{key:"remove",value:function(e){var t=this.indexOf(e);return this.filters.splice(t,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(e){if(!1!==e){if(!this.resultCheck){var t=this;return this.resultCheck=function(e){if(!e.hasResult){console.log(e);var r=new Error(t.name+" failed");throw r.noResult=!0,r}},this}}else this.resultCheck=null}}]),e}(),h=function(){function e(){n(this,e)}return o(e,[{key:"setResult",value:function(e){return this.result=e,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(e,t){return"string"==typeof e||e instanceof f?this.nextPipe=e:(this.next=e,t&&(this.nextPipe=t)),this}},{key:"push",value:function(e,t){return e.parent=this,void 0!==t&&(e.childName=t),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}}]),e}(),p="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array};function m(e){if("object"!==(void 0===e?"undefined":r(e)))return e;if(null===e)return null;if(p(e))return e.map(m);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return t=/^\/(.*)\/([gimyu]*)$/.exec(e.toString()),new RegExp(t[1],t[2]);var t,n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=m(e[o]));return n}var v=function(e){function t(e,r){n(this,t);var o=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.left=e,o.right=r,o.pipe="diff",o}return s(t,e),o(t,[{key:"setResult",value:function(e){if(this.options.cloneDiffValues&&"object"===(void 0===e?"undefined":r(e))){var t="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:m;"object"===r(e[0])&&(e[0]=t(e[0])),"object"===r(e[1])&&(e[1]=t(e[1]))}return h.prototype.setResult.apply(this,arguments)}}]),t}(h),g=function(e){function t(e,r){n(this,t);var o=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.left=e,o.delta=r,o.pipe="patch",o}return s(t,e),t}(h),y=function(e){function t(e){n(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.delta=e,r.pipe="reverse",r}return s(t,e),t}(h),b="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},w=function(e){if(e.left!==e.right)if(void 0!==e.left)if(void 0!==e.right){if("function"==typeof e.left||"function"==typeof e.right)throw new Error("functions are not supported");e.leftType=null===e.left?"null":r(e.left),e.rightType=null===e.right?"null":r(e.right),e.leftType===e.rightType&&"boolean"!==e.leftType&&"number"!==e.leftType?("object"===e.leftType&&(e.leftIsArray=b(e.left)),"object"===e.rightType&&(e.rightIsArray=b(e.right)),e.leftIsArray===e.rightIsArray?e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()}else e.setResult([e.left,0,0]).exit();else{if("function"==typeof e.right)throw new Error("functions are not supported");e.setResult([e.right]).exit()}else e.setResult(void 0).exit()};w.filterName="trivial";var _=function(e){if(void 0!==e.delta){if(e.nested=!b(e.delta),!e.nested)if(1!==e.delta.length)if(2!==e.delta.length)3===e.delta.length&&0===e.delta[2]&&e.setResult(void 0).exit();else{if(e.left instanceof RegExp){var t=/^\/(.*)\/([gimyu]+)$/.exec(e.delta[1]);if(t)return void e.setResult(new RegExp(t[1],t[2])).exit()}e.setResult(e.delta[1]).exit()}else e.setResult(e.delta[0]).exit()}else e.setResult(e.left).exit()};_.filterName="trivial";var j=function(e){void 0!==e.delta?(e.nested=!b(e.delta),e.nested||(1!==e.delta.length?2!==e.delta.length?3===e.delta.length&&0===e.delta[2]&&e.setResult([e.delta[0]]).exit():e.setResult([e.delta[1],e.delta[0]]).exit():e.setResult([e.delta[0],0,0]).exit())):e.setResult(e.delta).exit()};function E(e){if(e&&e.children){for(var t=e.children.length,r=void 0,n=e.result,o=0;o<t;o++)void 0!==(r=e.children[o]).result&&((n=n||{})[r.childName]=r.result);n&&e.leftIsArray&&(n._t="a"),e.setResult(n).exit()}}function O(e){if(!e.leftIsArray&&"object"===e.leftType){var t=void 0,r=void 0,n=e.options.propertyFilter;for(t in e.left)Object.prototype.hasOwnProperty.call(e.left,t)&&(n&&!n(t,e)||(r=new v(e.left[t],e.right[t]),e.push(r,t)));for(t in e.right)Object.prototype.hasOwnProperty.call(e.right,t)&&(n&&!n(t,e)||void 0===e.left[t]&&(r=new v(void 0,e.right[t]),e.push(r,t)));e.children&&0!==e.children.length?e.exit():e.setResult(void 0).exit()}}j.filterName="trivial",E.filterName="collectChildren",O.filterName="objects";var x=function(e){if(e.nested&&!e.delta._t){var t=void 0,r=void 0;for(t in e.delta)r=new g(e.left[t],e.delta[t]),e.push(r,t);e.exit()}};x.filterName="objects";var S=function(e){if(e&&e.children&&!e.delta._t){for(var t=e.children.length,r=void 0,n=0;n<t;n++)r=e.children[n],Object.prototype.hasOwnProperty.call(e.left,r.childName)&&void 0===r.result?delete e.left[r.childName]:e.left[r.childName]!==r.result&&(e.left[r.childName]=r.result);e.setResult(e.left).exit()}};S.filterName="collectChildren";var A=function(e){if(e.nested&&!e.delta._t){var t=void 0,r=void 0;for(t in e.delta)r=new y(e.delta[t]),e.push(r,t);e.exit()}};function P(e){if(e&&e.children&&!e.delta._t){for(var t=e.children.length,r=void 0,n={},o=0;o<t;o++)n[(r=e.children[o]).childName]!==r.result&&(n[r.childName]=r.result);e.setResult(n).exit()}}A.filterName="objects",P.filterName="collectChildren";var k=function(e,t,r,n){return e[r]===t[n]},C=function(e,t,r,n){var o=n||{},i=function e(t,r,n,o,i,s){if(0===o||0===i)return{sequence:[],indices1:[],indices2:[]};if(t.match(r,n,o-1,i-1,s)){var a=e(t,r,n,o-1,i-1,s);return a.sequence.push(r[o-1]),a.indices1.push(o-1),a.indices2.push(i-1),a}return t[o][i-1]>t[o-1][i]?e(t,r,n,o,i-1,s):e(t,r,n,o-1,i,s)}(function(e,t,r,n){var o=e.length,i=t.length,s=void 0,a=void 0,l=[o+1];for(s=0;s<o+1;s++)for(l[s]=[i+1],a=0;a<i+1;a++)l[s][a]=0;for(l.match=r,s=1;s<o+1;s++)for(a=1;a<i+1;a++)r(e,t,s-1,a-1,n)?l[s][a]=l[s-1][a-1]+1:l[s][a]=Math.max(l[s-1][a],l[s][a-1]);return l}(e,t,r||k,o),e,t,e.length,t.length,o);return"string"==typeof e&&"string"==typeof t&&(i.sequence=i.sequence.join("")),i},T="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},I="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n]===t)return n;return-1};function D(e,t,n,o,i){var s=e[n],a=t[o];if(s===a)return!0;if("object"!==(void 0===s?"undefined":r(s))||"object"!==(void 0===a?"undefined":r(a)))return!1;var l=i.objectHash;if(!l)return i.matchByPosition&&n===o;var c=void 0,u=void 0;return"number"==typeof n?(i.hashCache1=i.hashCache1||[],void 0===(c=i.hashCache1[n])&&(i.hashCache1[n]=c=l(s,n))):c=l(s),void 0!==c&&("number"==typeof o?(i.hashCache2=i.hashCache2||[],void 0===(u=i.hashCache2[o])&&(i.hashCache2[o]=u=l(a,o))):u=l(a),void 0!==u&&c===u)}var M=function(e){if(e.leftIsArray){var t={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},r=0,n=0,o=void 0,i=void 0,s=void 0,a=e.left,l=e.right,c=a.length,u=l.length,d=void 0;for(c>0&&u>0&&!t.objectHash&&"boolean"!=typeof t.matchByPosition&&(t.matchByPosition=!function(e,t,r,n){for(var o=0;o<r;o++)for(var i=e[o],s=0;s<n;s++){var a=t[s];if(o!==s&&i===a)return!0}}(a,l,c,u));r<c&&r<u&&D(a,l,r,r,t);)o=r,d=new v(e.left[o],e.right[o]),e.push(d,o),r++;for(;n+r<c&&n+r<u&&D(a,l,c-1-n,u-1-n,t);)i=c-1-n,s=u-1-n,d=new v(e.left[i],e.right[s]),e.push(d,s),n++;var f=void 0;if(r+n!==c)if(r+n!==u){delete t.hashCache1,delete t.hashCache2;var h=a.slice(r,c-n),p=l.slice(r,u-n),m=C(h,p,D,t),g=[];for(f=f||{_t:"a"},o=r;o<c-n;o++)I(m.indices1,o-r)<0&&(f["_"+o]=[a[o],0,0],g.push(o));var y=!0;e.options&&e.options.arrays&&!1===e.options.arrays.detectMove&&(y=!1);var b=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(b=!0);var w=g.length;for(o=r;o<u-n;o++){var _=I(m.indices2,o-r);if(_<0){var j=!1;if(y&&w>0)for(var E=0;E<w;E++)if(D(h,p,(i=g[E])-r,o-r,t)){f["_"+i].splice(1,2,o,3),b||(f["_"+i][0]=""),s=o,d=new v(e.left[i],e.right[s]),e.push(d,s),g.splice(E,1),j=!0;break}j||(f[o]=[l[o]])}else i=m.indices1[_]+r,s=m.indices2[_]+r,d=new v(e.left[i],e.right[s]),e.push(d,s)}e.setResult(f).exit()}else{for(f=f||{_t:"a"},o=r;o<c-n;o++)f["_"+o]=[a[o],0,0];e.setResult(f).exit()}else{if(c===u)return void e.setResult(void 0).exit();for(f=f||{_t:"a"},o=r;o<u-n;o++)f[o]=[l[o]];e.setResult(f).exit()}}};M.filterName="arrays";var N=function(e,t){return e-t},R=function(e){return function(t,r){return t[e]-r[e]}},$=function(e){if(e.nested&&"a"===e.delta._t){var t=void 0,r=void 0,n=e.delta,o=e.left,i=[],s=[],a=[];for(t in n)if("_t"!==t)if("_"===t[0]){if(0!==n[t][2]&&3!==n[t][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+n[t][2]);i.push(parseInt(t.slice(1),10))}else 1===n[t].length?s.push({index:parseInt(t,10),value:n[t][0]}):a.push({index:parseInt(t,10),delta:n[t]});for(t=(i=i.sort(N)).length-1;t>=0;t--){var l=n["_"+(r=i[t])],c=o.splice(r,1)[0];3===l[2]&&s.push({index:l[1],value:c})}var u=(s=s.sort(R("index"))).length;for(t=0;t<u;t++){var d=s[t];o.splice(d.index,0,d.value)}var f=a.length,h=void 0;if(f>0)for(t=0;t<f;t++){var p=a[t];h=new g(e.left[p.index],p.delta),e.push(h,p.index)}e.children?e.exit():e.setResult(e.left).exit()}};$.filterName="arrays";var L=function(e){if(e&&e.children&&"a"===e.delta._t){for(var t=e.children.length,r=void 0,n=0;n<t;n++)r=e.children[n],e.left[r.childName]=r.result;e.setResult(e.left).exit()}};L.filterName="arraysCollectChildren";var F=function(e){if(e.nested){if("a"===e.delta._t){var t=void 0,r=void 0;for(t in e.delta)"_t"!==t&&(r=new y(e.delta[t]),e.push(r,t));e.exit()}}else 3===e.delta[2]&&(e.newName="_"+e.delta[1],e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),3]).exit())};F.filterName="arrays";var V=function(e,t,r){if("string"==typeof t&&"_"===t[0])return parseInt(t.substr(1),10);if(T(r)&&0===r[2])return"_"+t;var n=+t;for(var o in e){var i=e[o];if(T(i))if(3===i[2]){var s=parseInt(o.substr(1),10),a=i[1];if(a===+t)return s;s<=n&&a>n?n++:s>=n&&a<n&&n--}else 0===i[2]?parseInt(o.substr(1),10)<=n&&n++:1===i.length&&o<=n&&n--}return n};function U(e){if(e&&e.children&&"a"===e.delta._t){for(var t=e.children.length,r=void 0,n={_t:"a"},o=0;o<t;o++){var i=(r=e.children[o]).newName;void 0===i&&(i=V(e.delta,r.childName,r.result)),n[i]!==r.result&&(n[i]=r.result)}e.setResult(n).exit()}}U.filterName="arraysCollectChildren";var B=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};B.filterName="dates";var z=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){function t(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}t.prototype.diff_main=function(e,t,r,n){void 0===n&&(n=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=n;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===r&&(r=!0);var i=r,s=this.diff_commonPrefix(e,t),a=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.diff_commonSuffix(e,t);var l=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var c=this.diff_compute_(e,t,i,o);return a&&c.unshift([0,a]),l&&c.push([0,l]),this.diff_cleanupMerge(c),c},t.prototype.diff_compute_=function(e,t,r,n){var o;if(!e)return[[1,t]];if(!t)return[[-1,e]];var i=e.length>t.length?e:t,s=e.length>t.length?t:e,a=i.indexOf(s);if(-1!=a)return o=[[1,i.substring(0,a)],[0,s],[1,i.substring(a+s.length)]],e.length>t.length&&(o[0][0]=o[2][0]=-1),o;if(1==s.length)return[[-1,e],[1,t]];var l=this.diff_halfMatch_(e,t);if(l){var c=l[0],u=l[1],d=l[2],f=l[3],h=l[4],p=this.diff_main(c,d,r,n),m=this.diff_main(u,f,r,n);return p.concat([[0,h]],m)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,n):this.diff_bisect_(e,t,n)},t.prototype.diff_lineMode_=function(e,t,r){e=(u=this.diff_linesToChars_(e,t)).chars1,t=u.chars2;var n=u.lineArray,o=this.diff_main(e,t,!1,r);this.diff_charsToLines_(o,n),this.diff_cleanupSemantic(o),o.push([0,""]);for(var i=0,s=0,a=0,l="",c="";i<o.length;){switch(o[i][0]){case 1:a++,c+=o[i][1];break;case-1:s++,l+=o[i][1];break;case 0:if(s>=1&&a>=1){o.splice(i-s-a,s+a),i=i-s-a;for(var u,d=(u=this.diff_main(l,c,!1,r)).length-1;d>=0;d--)o.splice(i,0,u[d]);i+=u.length}a=0,s=0,l="",c=""}i++}return o.pop(),o},t.prototype.diff_bisect_=function(e,t,r){for(var n=e.length,o=t.length,i=Math.ceil((n+o)/2),s=i,a=2*i,l=new Array(a),c=new Array(a),u=0;u<a;u++)l[u]=-1,c[u]=-1;l[s+1]=0,c[s+1]=0;for(var d=n-o,f=d%2!=0,h=0,p=0,m=0,v=0,g=0;g<i&&!((new Date).getTime()>r);g++){for(var y=-g+h;y<=g-p;y+=2){for(var b=s+y,w=(x=y==-g||y!=g&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1)-y;x<n&&w<o&&e.charAt(x)==t.charAt(w);)x++,w++;if(l[b]=x,x>n)p+=2;else if(w>o)h+=2;else if(f&&(E=s+d-y)>=0&&E<a&&-1!=c[E]&&x>=(j=n-c[E]))return this.diff_bisectSplit_(e,t,x,w,r)}for(var _=-g+m;_<=g-v;_+=2){for(var j,E=s+_,O=(j=_==-g||_!=g&&c[E-1]<c[E+1]?c[E+1]:c[E-1]+1)-_;j<n&&O<o&&e.charAt(n-j-1)==t.charAt(o-O-1);)j++,O++;if(c[E]=j,j>n)v+=2;else if(O>o)m+=2;else if(!f){var x;if((b=s+d-_)>=0&&b<a&&-1!=l[b])if(w=s+(x=l[b])-b,x>=(j=n-j))return this.diff_bisectSplit_(e,t,x,w,r)}}}return[[-1,e],[1,t]]},t.prototype.diff_bisectSplit_=function(e,t,r,n,o){var i=e.substring(0,r),s=t.substring(0,n),a=e.substring(r),l=t.substring(n),c=this.diff_main(i,s,!1,o),u=this.diff_main(a,l,!1,o);return c.concat(u)},t.prototype.diff_linesToChars_=function(e,t){var r=[],n={};function o(e){for(var t="",o=0,i=-1,s=r.length;i<e.length-1;){-1==(i=e.indexOf("\n",o))&&(i=e.length-1);var a=e.substring(o,i+1);o=i+1,(n.hasOwnProperty?n.hasOwnProperty(a):void 0!==n[a])?t+=String.fromCharCode(n[a]):(t+=String.fromCharCode(s),n[a]=s,r[s++]=a)}return t}return r[0]="",{chars1:o(e),chars2:o(t),lineArray:r}},t.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var n=e[r][1],o=[],i=0;i<n.length;i++)o[i]=t[n.charCodeAt(i)];e[r][1]=o.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o},t.prototype.diff_commonOverlap_=function(e,t){var r=e.length,n=t.length;if(0==r||0==n)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var o=Math.min(r,n);if(e==t)return o;for(var i=0,s=1;;){var a=e.substring(o-s),l=t.indexOf(a);if(-1==l)return i;s+=l,0!=l&&e.substring(o-s)!=t.substring(0,s)||(i=s,s++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;var o=this;function i(e,t,r){for(var n,i,s,a,l=e.substring(r,r+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(l,c+1));){var d=o.diff_commonPrefix(e.substring(r),t.substring(c)),f=o.diff_commonSuffix(e.substring(0,r),t.substring(0,c));u.length<f+d&&(u=t.substring(c-f,c)+t.substring(c,c+d),n=e.substring(0,r-f),i=e.substring(r+d),s=t.substring(0,c-f),a=t.substring(c+d))}return 2*u.length>=e.length?[n,i,s,a,u]:null}var s,a,l,c,u,d=i(r,n,Math.ceil(r.length/4)),f=i(r,n,Math.ceil(r.length/2));return d||f?(s=f?d&&d[4].length>f[4].length?d:f:d,e.length>t.length?(a=s[0],l=s[1],c=s[2],u=s[3]):(c=s[0],u=s[1],a=s[2],l=s[3]),[a,l,c,u,s[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],n=0,o=null,i=0,s=0,a=0,l=0,c=0;i<e.length;)0==e[i][0]?(r[n++]=i,s=l,a=c,l=0,c=0,o=e[i][1]):(1==e[i][0]?l+=e[i][1].length:c+=e[i][1].length,o&&o.length<=Math.max(s,a)&&o.length<=Math.max(l,c)&&(e.splice(r[n-1],0,[-1,o]),e[r[n-1]+1][0]=1,n--,i=--n>0?r[n-1]:-1,s=0,a=0,l=0,c=0,o=null,t=!0)),i++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),i=1;i<e.length;){if(-1==e[i-1][0]&&1==e[i][0]){var u=e[i-1][1],d=e[i][1],f=this.diff_commonOverlap_(u,d),h=this.diff_commonOverlap_(d,u);f>=h?(f>=u.length/2||f>=d.length/2)&&(e.splice(i,0,[0,d.substring(0,f)]),e[i-1][1]=u.substring(0,u.length-f),e[i+1][1]=d.substring(f),i++):(h>=u.length/2||h>=d.length/2)&&(e.splice(i,0,[0,u.substring(0,h)]),e[i-1][0]=1,e[i-1][1]=d.substring(0,d.length-h),e[i+1][0]=-1,e[i+1][1]=u.substring(h),i++),i++}i++}},t.prototype.diff_cleanupSemanticLossless=function(e){function r(e,r){if(!e||!r)return 6;var n=e.charAt(e.length-1),o=r.charAt(0),i=n.match(t.nonAlphaNumericRegex_),s=o.match(t.nonAlphaNumericRegex_),a=i&&n.match(t.whitespaceRegex_),l=s&&o.match(t.whitespaceRegex_),c=a&&n.match(t.linebreakRegex_),u=l&&o.match(t.linebreakRegex_),d=c&&e.match(t.blanklineEndRegex_),f=u&&r.match(t.blanklineStartRegex_);return d||f?5:c||u?4:i&&!a&&l?3:a||l?2:i||s?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var o=e[n-1][1],i=e[n][1],s=e[n+1][1],a=this.diff_commonSuffix(o,i);if(a){var l=i.substring(i.length-a);o=o.substring(0,o.length-a),i=l+i.substring(0,i.length-a),s=l+s}for(var c=o,u=i,d=s,f=r(o,i)+r(i,s);i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var h=r(o,i)+r(i,s);h>=f&&(f=h,c=o,u=i,d=s)}e[n-1][1]!=c&&(c?e[n-1][1]=c:(e.splice(n-1,1),n--),e[n][1]=u,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],n=0,o=null,i=0,s=!1,a=!1,l=!1,c=!1;i<e.length;)0==e[i][0]?(e[i][1].length<this.Diff_EditCost&&(l||c)?(r[n++]=i,s=l,a=c,o=e[i][1]):(n=0,o=null),l=c=!1):(-1==e[i][0]?c=!0:l=!0,o&&(s&&a&&l&&c||o.length<this.Diff_EditCost/2&&s+a+l+c==3)&&(e.splice(r[n-1],0,[-1,o]),e[r[n-1]+1][0]=1,n--,o=null,s&&a?(l=c=!0,n=0):(i=--n>0?r[n-1]:-1,l=c=!1),t=!0)),i++;t&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,r=0,n=0,o=0,i="",s="";r<e.length;)switch(e[r][0]){case 1:o++,s+=e[r][1],r++;break;case-1:n++,i+=e[r][1],r++;break;case 0:n+o>1?(0!==n&&0!==o&&(0!==(t=this.diff_commonPrefix(s,i))&&(r-n-o>0&&0==e[r-n-o-1][0]?e[r-n-o-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),r++),s=s.substring(t),i=i.substring(t)),0!==(t=this.diff_commonSuffix(s,i))&&(e[r][1]=s.substring(s.length-t)+e[r][1],s=s.substring(0,s.length-t),i=i.substring(0,i.length-t))),0===n?e.splice(r-o,n+o,[1,s]):0===o?e.splice(r-n,n+o,[-1,i]):e.splice(r-n-o,n+o,[-1,i],[1,s]),r=r-n-o+(n?1:0)+(o?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,n=0,i="",s=""}""===e[e.length-1][1]&&e.pop();var a=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),a=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),a=!0)),r++;a&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var r,n=0,o=0,i=0,s=0;for(r=0;r<e.length&&(1!==e[r][0]&&(n+=e[r][1].length),-1!==e[r][0]&&(o+=e[r][1].length),!(n>t));r++)i=n,s=o;return e.length!=r&&-1===e[r][0]?s:s+(t-i)},t.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,n=/</g,o=/>/g,i=/\n/g,s=0;s<e.length;s++){var a=e[s][0],l=e[s][1].replace(r,"&amp;").replace(n,"&lt;").replace(o,"&gt;").replace(i,"&para;<br>");switch(a){case 1:t[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:t[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[s]="<span>"+l+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)-1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,r=0,n=0,o=0;o<e.length;o++){var i=e[o][0],s=e[o][1];switch(i){case 1:r+=s.length;break;case-1:n+=s.length;break;case 0:t+=Math.max(r,n),r=0,n=0}}return t+=Math.max(r,n)},t.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case-1:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,t){for(var r=[],n=0,o=0,i=t.split(/\t/g),s=0;s<i.length;s++){var a=i[s].substring(1);switch(i[s].charAt(0)){case"+":try{r[n++]=[1,decodeURI(a)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var l=parseInt(a,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+a);var c=e.substring(o,o+=l);"="==i[s].charAt(0)?r[n++]=[0,c]:r[n++]=[-1,c];break;default:if(i[s])throw new Error("Invalid diff operation in diff_fromDelta: "+i[s])}}if(o!=e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+").");return r},t.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap_(e,t,r):-1},t.prototype.match_bitap_=function(e,t,r){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet_(t),o=this;function i(e,n){var i=e/t.length,s=Math.abs(r-n);return o.Match_Distance?i+s/o.Match_Distance:s?1:i}var s=this.Match_Threshold,a=e.indexOf(t,r);-1!=a&&(s=Math.min(i(0,a),s),-1!=(a=e.lastIndexOf(t,r+t.length))&&(s=Math.min(i(0,a),s)));var l,c,u=1<<t.length-1;a=-1;for(var d,f=t.length+e.length,h=0;h<t.length;h++){for(l=0,c=f;l<c;)i(h,r+c)<=s?l=c:f=c,c=Math.floor((f-l)/2+l);f=c;var p=Math.max(1,r-c+1),m=Math.min(r+c,e.length)+t.length,v=Array(m+2);v[m+1]=(1<<h)-1;for(var g=m;g>=p;g--){var y=n[e.charAt(g-1)];if(v[g]=0===h?(v[g+1]<<1|1)&y:(v[g+1]<<1|1)&y|(d[g+1]|d[g])<<1|1|d[g+1],v[g]&u){var b=i(h,g-1);if(b<=s){if(s=b,!((a=g-1)>r))break;p=Math.max(1,2*r-a)}}}if(i(h+1,r)>s)break;d=v}return a},t.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},t.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var r=t.substring(e.start2,e.start2+e.length1),n=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,r=t.substring(e.start2-n,e.start2+e.length1+n);n+=this.Patch_Margin;var o=t.substring(e.start2-n,e.start2);o&&e.diffs.unshift([0,o]);var i=t.substring(e.start2+e.length1,e.start2+e.length1+n);i&&e.diffs.push([0,i]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+i.length,e.length2+=o.length+i.length}},t.prototype.patch_make=function(e,r,n){var o,i;if("string"==typeof e&&"string"==typeof r&&void 0===n)o=e,(i=this.diff_main(o,r,!0)).length>2&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(e&&"object"==a(e)&&void 0===r&&void 0===n)i=e,o=this.diff_text1(i);else if("string"==typeof e&&r&&"object"==a(r)&&void 0===n)o=e,i=r;else{if("string"!=typeof e||"string"!=typeof r||!n||"object"!=a(n))throw new Error("Unknown call format to patch_make.");o=e,i=n}if(0===i.length)return[];for(var s=[],l=new t.patch_obj,c=0,u=0,d=0,f=o,h=o,p=0;p<i.length;p++){var m=i[p][0],v=i[p][1];switch(c||0===m||(l.start1=u,l.start2=d),m){case 1:l.diffs[c++]=i[p],l.length2+=v.length,h=h.substring(0,d)+v+h.substring(d);break;case-1:l.length1+=v.length,l.diffs[c++]=i[p],h=h.substring(0,d)+h.substring(d+v.length);break;case 0:v.length<=2*this.Patch_Margin&&c&&i.length!=p+1?(l.diffs[c++]=i[p],l.length1+=v.length,l.length2+=v.length):v.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,f),s.push(l),l=new t.patch_obj,c=0,f=h,u=d)}1!==m&&(u+=v.length),-1!==m&&(d+=v.length)}return c&&(this.patch_addContext_(l,f),s.push(l)),s},t.prototype.patch_deepCopy=function(e){for(var r=[],n=0;n<e.length;n++){var o=e[n],i=new t.patch_obj;i.diffs=[];for(var s=0;s<o.diffs.length;s++)i.diffs[s]=o.diffs[s].slice();i.start1=o.start1,i.start2=o.start2,i.length1=o.length1,i.length2=o.length2,r[n]=i}return r},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var n=0,o=[],i=0;i<e.length;i++){var s,a,l=e[i].start2+n,c=this.diff_text1(e[i].diffs),u=-1;if(c.length>this.Match_MaxBits?-1!=(s=this.match_main(t,c.substring(0,this.Match_MaxBits),l))&&(-1==(u=this.match_main(t,c.substring(c.length-this.Match_MaxBits),l+c.length-this.Match_MaxBits))||s>=u)&&(s=-1):s=this.match_main(t,c,l),-1==s)o[i]=!1,n-=e[i].length2-e[i].length1;else if(o[i]=!0,n=s-l,c==(a=-1==u?t.substring(s,s+c.length):t.substring(s,u+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[i].diffs)+t.substring(s+c.length);else{var d=this.diff_main(c,a,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(d)/c.length>this.Patch_DeleteThreshold)o[i]=!1;else{this.diff_cleanupSemanticLossless(d);for(var f,h=0,p=0;p<e[i].diffs.length;p++){var m=e[i].diffs[p];0!==m[0]&&(f=this.diff_xIndex(d,h)),1===m[0]?t=t.substring(0,s+f)+m[1]+t.substring(s+f):-1===m[0]&&(t=t.substring(0,s+f)+t.substring(s+this.diff_xIndex(d,h+m[1].length))),-1!==m[0]&&(h+=m[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),o]},t.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",n=1;n<=t;n++)r+=String.fromCharCode(n);for(n=0;n<e.length;n++)e[n].start1+=t,e[n].start2+=t;var o=e[0],i=o.diffs;if(0==i.length||0!=i[0][0])i.unshift([0,r]),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>i[0][1].length){var s=t-i[0][1].length;i[0][1]=r.substring(i[0][1].length)+i[0][1],o.start1-=s,o.start2-=s,o.length1+=s,o.length2+=s}return 0==(i=(o=e[e.length-1]).diffs).length||0!=i[i.length-1][0]?(i.push([0,r]),o.length1+=t,o.length2+=t):t>i[i.length-1][1].length&&(s=t-i[i.length-1][1].length,i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s),r},t.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=r)){var o=e[n];e.splice(n--,1);for(var i=o.start1,s=o.start2,a="";0!==o.diffs.length;){var l=new t.patch_obj,c=!0;for(l.start1=i-a.length,l.start2=s-a.length,""!==a&&(l.length1=l.length2=a.length,l.diffs.push([0,a]));0!==o.diffs.length&&l.length1<r-this.Patch_Margin;){var u=o.diffs[0][0],d=o.diffs[0][1];1===u?(l.length2+=d.length,s+=d.length,l.diffs.push(o.diffs.shift()),c=!1):-1===u&&1==l.diffs.length&&0==l.diffs[0][0]&&d.length>2*r?(l.length1+=d.length,i+=d.length,c=!1,l.diffs.push([u,d]),o.diffs.shift()):(d=d.substring(0,r-l.length1-this.Patch_Margin),l.length1+=d.length,i+=d.length,0===u?(l.length2+=d.length,s+=d.length):c=!1,l.diffs.push([u,d]),d==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(d.length))}a=(a=this.diff_text2(l.diffs)).substring(a.length-this.Patch_Margin);var f=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==f&&(l.length1+=f.length,l.length2+=f.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=f:l.diffs.push([0,f])),c||e.splice(++n,0,l)}}},t.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var n=e.split("\n"),o=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<n.length;){var s=n[o].match(i);if(!s)throw new Error("Invalid patch string: "+n[o]);var a=new t.patch_obj;for(r.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),o++;o<n.length;){var l=n[o].charAt(0);try{var c=decodeURI(n[o].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==l)a.diffs.push([-1,c]);else if("+"==l)a.diffs.push([1,c]);else if(" "==l)a.diffs.push([0,c]);else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+c)}o++}}return r},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0})),H=null,q=function(e){if(!H){var t=void 0;if("undefined"!=typeof diff_match_patch)t="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(z)try{t=z&&new z}catch(e){t=null}if(!t){if(!e)return null;var r=new Error("text diff_match_patch library not found");throw r.diff_match_patch_not_found=!0,r}H={diff:function(e,r){return t.patch_toText(t.patch_make(e,r))},patch:function(e,r){for(var n=t.patch_apply(t.patch_fromText(r),e),o=0;o<n[1].length;o++)n[1][o]||(new Error("text patch failed").textPatchFailed=!0);return n[0]}}}return H},W=function(e){if("string"===e.leftType){var t=e.options&&e.options.textDiff&&e.options.textDiff.minLength||60;if(e.left.length<t||e.right.length<t)e.setResult([e.left,e.right]).exit();else{var r=q();if(r){var n=r.diff;e.setResult([n(e.left,e.right),0,2]).exit()}else e.setResult([e.left,e.right]).exit()}}};W.filterName="texts";var K=function(e){if(!e.nested&&2===e.delta[2]){var t=q(!0).patch;e.setResult(t(e.left,e.delta[0])).exit()}};K.filterName="texts";var J=function(e){var t,r=void 0,n=void 0,o=void 0,i=void 0,s=null,a=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(r=0,t=(n=e.split("\n")).length;r<t;r++){var l=(o=n[r]).slice(0,1);"@"===l?(s=a.exec(o),n[r]="@@ -"+s[3]+","+s[4]+" +"+s[1]+","+s[2]+" @@"):"+"===l?(n[r]="-"+n[r].slice(1),"+"===n[r-1].slice(0,1)&&(i=n[r],n[r]=n[r-1],n[r-1]=i)):"-"===l&&(n[r]="+"+n[r].slice(1))}return n.join("\n")},Y=function(e){e.nested||2===e.delta[2]&&e.setResult([J(e.delta[0]),0,2]).exit()};Y.filterName="texts";var X=function(){function e(t){n(this,e),this.processor=new d(t),this.processor.pipe(new f("diff").append(E,w,B,W,O,M).shouldHaveResult()),this.processor.pipe(new f("patch").append(S,L,_,K,x,$).shouldHaveResult()),this.processor.pipe(new f("reverse").append(P,U,j,Y,A,F).shouldHaveResult())}return o(e,[{key:"options",value:function(){var e;return(e=this.processor).options.apply(e,arguments)}},{key:"diff",value:function(e,t){return this.processor.process(new v(e,t))}},{key:"patch",value:function(e,t){return this.processor.process(new g(e,t))}},{key:"reverse",value:function(e){return this.processor.process(new y(e))}},{key:"unpatch",value:function(e,t){return this.patch(e,this.reverse(t))}},{key:"clone",value:function(e){return m(e)}}]),e}(),G="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},Z="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},Q=function(e){return"_t"===e?-1:"_"===e.substr(0,1)?parseInt(e.slice(1),10):parseInt(e,10)+.1},ee=function(e,t){return Q(e)-Q(t)},te=function(){function e(){n(this,e)}return o(e,[{key:"format",value:function(e,t){var r={};return this.prepareContext(r),this.recurse(r,e,t),this.finalize(r)}},{key:"prepareContext",value:function(e){e.buffer=[],e.out=function(){var e;(e=this.buffer).push.apply(e,arguments)}}},{key:"typeFormattterNotFound",value:function(e,t){throw new Error("cannot format delta type: "+t)}},{key:"typeFormattterErrorFormatter",value:function(e,t){return t.toString()}},{key:"finalize",value:function(e){var t=e.buffer;if(G(t))return t.join("")}},{key:"recurse",value:function(e,t,r,n,o,i,s){var a=t&&i?i.value:r;if(void 0!==t||void 0!==n){var l=this.getDeltaType(t,i),c="node"===l?"a"===t._t?"array":"object":"";void 0!==n?this.nodeBegin(e,n,o,l,c,s):this.rootBegin(e,l,c);try{(this["format_"+l]||this.typeFormattterNotFound(e,l)).call(this,e,t,a,n,o,i)}catch(r){this.typeFormattterErrorFormatter(e,r,t,a,n,o,i),"undefined"!=typeof console&&console.error&&console.error(r.stack)}void 0!==n?this.nodeEnd(e,n,o,l,c,s):this.rootEnd(e,l,c)}}},{key:"formatDeltaChildren",value:function(e,t,r){var n=this;this.forEachDeltaKey(t,r,(function(o,i,s,a){n.recurse(e,t[o],r?r[i]:void 0,o,i,s,a)}))}},{key:"forEachDeltaKey",value:function(e,t,r){var n,o=Z(e),i="a"===e._t,s={},a=void 0;if(void 0!==t)for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(void 0!==e[a]||i&&void 0!==e["_"+a]||o.push(a));for(a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=e[a];G(l)&&3===l[2]&&(s[l[1].toString()]={key:a,value:t&&t[parseInt(a.substr(1))]},!1!==this.includeMoveDestinations&&void 0===t&&void 0===e[l[1]]&&o.push(l[1].toString()))}i?o.sort(ee):o.sort();for(var c=0,u=o.length;c<u;c++){var d=o[c];if(!i||"_t"!==d){var f=i?"number"==typeof d?d:parseInt("_"===(n=d).substr(0,1)?n.slice(1):n,10):d,h=c===u-1;r(d,f,s[f],h)}}}},{key:"getDeltaType",value:function(e,t){if(void 0===e)return void 0!==t?"movedestination":"unchanged";if(G(e)){if(1===e.length)return"added";if(2===e.length)return"modified";if(3===e.length&&0===e[2])return"deleted";if(3===e.length&&2===e[2])return"textdiff";if(3===e.length&&3===e[2])return"moved"}else if("object"===(void 0===e?"undefined":r(e)))return"node";return"unknown"}},{key:"parseTextDiff",value:function(e){for(var t=[],r=e.split("\n@@ "),n=0,o=r.length;n<o;n++){var i=r[n],s={pieces:[]},a=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(i).slice(1);s.location={line:a[0],chr:a[1]};for(var l=i.split("\n").slice(1),c=0,u=l.length;c<u;c++){var d=l[c];if(d.length){var f={type:"context"};"+"===d.substr(0,1)?f.type="added":"-"===d.substr(0,1)&&(f.type="deleted"),f.text=d.slice(1),s.pieces.push(f)}}t.push(s)}return t}}]),e}(),re=Object.freeze({default:te}),ne=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"typeFormattterErrorFormatter",value:function(e,t){e.out('<pre class="jsondiffpatch-error">'+t+"</pre>")}},{key:"formatValue",value:function(e,t){e.out("<pre>"+oe(JSON.stringify(t,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function(e,t){var r=this.parseTextDiff(t);e.out('<ul class="jsondiffpatch-textdiff">');for(var n=0,o=r.length;n<o;n++){var i=r[n];e.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+i.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+i.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=i.pieces,a=0,l=s.length;a<l;a++){var c=s[a];e.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+oe(decodeURI(c.text))+"</span>")}e.out("</div></li>")}e.out("</ul>")}},{key:"rootBegin",value:function(e,t,r){var n="jsondiffpatch-"+t+(r?" jsondiffpatch-child-node-type-"+r:"");e.out('<div class="jsondiffpatch-delta '+n+'">')}},{key:"rootEnd",value:function(e){e.out("</div>"+(e.hasArrows?'<script type="text/javascript">setTimeout('+ie.toString()+",10);<\/script>":""))}},{key:"nodeBegin",value:function(e,t,r,n,o){var i="jsondiffpatch-"+n+(o?" jsondiffpatch-child-node-type-"+o:"");e.out('<li class="'+i+'" data-key="'+r+'"><div class="jsondiffpatch-property-name">'+r+"</div>")}},{key:"nodeEnd",value:function(e){e.out("</li>")}},{key:"format_unchanged",value:function(e,t,r){void 0!==r&&(e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,r),e.out("</div>"))}},{key:"format_movedestination",value:function(e,t,r){void 0!==r&&(e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,r),e.out("</div>"))}},{key:"format_node",value:function(e,t,r){var n="a"===t._t?"array":"object";e.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+n+'">'),this.formatDeltaChildren(e,t,r),e.out("</ul>")}},{key:"format_added",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out("</div>")}},{key:"format_modified",value:function(e,t){e.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(e,t[0]),e.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(e,t[1]),e.out("</div>")}},{key:"format_deleted",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out("</div>")}},{key:"format_moved",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out('</div><div class="jsondiffpatch-moved-destination">'+t[1]+"</div>"),e.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),e.hasArrows=!0}},{key:"format_textdiff",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(e,t[0]),e.out("</div>")}}]),t}(te);function oe(e){for(var t=e,r=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],n=0;n<r.length;n++)t=t.replace(r[n][0],r[n][1]);return t}var ie=function(e){var t=e||document;!function(e,t,r){for(var n=e.querySelectorAll(t),o=0,i=n.length;o<i;o++)r(n[o])}(t,".jsondiffpatch-arrow",(function(e){var t=e.parentNode,r=e.children,n=e.style,o=t,i=r[0],s=i.children[1];i.style.display="none";var a,l,c,u=(a=o.querySelector(".jsondiffpatch-moved-destination"),l=a.textContent,c=a.innerText,l||c),d=o.parentNode,f=void 0;if(function(e,t){for(var r=e.children,n=0,o=r.length;n<o;n++)t(r[n],n)}(d,(function(e){e.getAttribute("data-key")===u&&(f=e)})),f)try{var h=f.offsetTop-o.offsetTop;i.setAttribute("height",Math.abs(h)+6),n.top=-8+(h>0?0:h)+"px";var p=h>0?"M30,0 Q-10,"+Math.round(h/2)+" 26,"+(h-4):"M30,"+-h+" Q-10,"+Math.round(-h/2)+" 26,4";s.setAttribute("d",p),i.style.display=""}catch(e){}}))},se=function(e,t,r){var n=t||document.body,o="jsondiffpatch-unchanged-",i={showing:o+"showing",hiding:o+"hiding",visible:o+"visible",hidden:o+"hidden"},s=n.classList;if(s){if(!r)return s.remove(i.showing),s.remove(i.hiding),s.remove(i.visible),s.remove(i.hidden),void(!1===e&&s.add(i.hidden));!1===e?(s.remove(i.showing),s.add(i.visible),setTimeout((function(){s.add(i.hiding)}),10)):(s.remove(i.hiding),s.add(i.showing),s.remove(i.hidden));var a=setInterval((function(){ie(n)}),100);setTimeout((function(){s.remove(i.showing),s.remove(i.hiding),!1===e?(s.add(i.hidden),s.remove(i.visible)):(s.add(i.visible),s.remove(i.hidden)),setTimeout((function(){s.remove(i.visible),clearInterval(a)}),r+400)}),r)}},ae=void 0,le=Object.freeze({showUnchanged:se,hideUnchanged:function(e,t){return se(!1,e,t)},default:ne,format:function(e,t){return ae||(ae=new ne),ae.format(e,t)}}),ce=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!1,e}return s(t,e),o(t,[{key:"prepareContext",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareContext",this).call(this,e),e.indent=function(e){this.indentLevel=(this.indentLevel||0)+(void 0===e?1:e),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},e.row=function(t,r){e.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),e.out(e.indentPad),e.out('</pre><pre style="display: inline-block">'),e.out(t),e.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),e.out(r),e.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function(e,t){e.row("",'<pre class="jsondiffpatch-error">'+t+"</pre>")}},{key:"formatTextDiffString",value:function(e,t){var r=this.parseTextDiff(t);e.out('<ul class="jsondiffpatch-textdiff">');for(var n=0,o=r.length;n<o;n++){var i=r[n];e.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+i.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+i.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=i.pieces,a=0,l=s.length;a<l;a++){var c=s[a];e.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+c.text+"</span>")}e.out("</div></li>")}e.out("</ul>")}},{key:"rootBegin",value:function(e,t,r){e.out('<table class="jsondiffpatch-annotated-delta">'),"node"===t&&(e.row("{"),e.indent()),"array"===r&&e.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function(e,t){"node"===t&&(e.indent(-1),e.row("}")),e.out("</table>")}},{key:"nodeBegin",value:function(e,t,r,n,o){e.row("&quot;"+t+"&quot;: {"),"node"===n&&e.indent(),"array"===o&&e.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function(e,t,r,n,o,i){"node"===n&&e.indent(-1),e.row("}"+(i?"":","))}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(e,t,r){this.formatDeltaChildren(e,t,r)}}]),t}(te),ue=function(e){return'<pre style="display:inline-block">&quot;'+e+"&quot;</pre>"},de={added:function(e,t,r,n){var o=" <pre>([newValue])</pre>";return void 0===n?"new value"+o:"number"==typeof n?"insert at index "+n+o:"add property "+ue(n)+o},modified:function(e,t,r,n){var o=" <pre>([previousValue, newValue])</pre>";return void 0===n?"modify value"+o:"number"==typeof n?"modify at index "+n+o:"modify property "+ue(n)+o},deleted:function(e,t,r,n){var o=" <pre>([previousValue, 0, 0])</pre>";return void 0===n?"delete value"+o:"number"==typeof n?"remove index "+n+o:"delete property "+ue(n)+o},moved:function(e,t,r,n){return'move from <span title="(position to remove at original state)">index '+n+'</span> to <span title="(position to insert at final state)">index '+e[1]+"</span>"},textdiff:function(e,t,r,n){return"text diff"+(void 0===n?"":"number"==typeof n?" at index "+n:" at property "+ue(n))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},fe=function(e,t){var r=this.getDeltaType(t),n=de[r],o=n&&n.apply(n,Array.prototype.slice.call(arguments,1)),i=JSON.stringify(t,null,2);"textdiff"===r&&(i=i.split("\\n").join('\\n"+\n   "')),e.indent(),e.row(i,o),e.indent(-1)};ce.prototype.format_added=fe,ce.prototype.format_modified=fe,ce.prototype.format_deleted=fe,ce.prototype.format_moved=fe,ce.prototype.format_textdiff=fe;var he=void 0,pe=Object.freeze({default:ce,format:function(e,t){return he||(he=new ce),he.format(e,t)}}),me="add",ve="remove",ge="replace",ye="move",be=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!0,e}return s(t,e),o(t,[{key:"prepareContext",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareContext",this).call(this,e),e.result=[],e.path=[],e.pushCurrentOp=function(e){var t=e.op,r=e.value,n={op:t,path:this.currentPath()};void 0!==r&&(n.value=r),this.result.push(n)},e.pushMoveOp=function(e){var t=this.currentPath();this.result.push({op:ye,from:t,path:this.toPath(e)})},e.currentPath=function(){return"/"+this.path.join("/")},e.toPath=function(e){var t=this.path.slice();return t[t.length-1]=e,"/"+t.join("/")}}},{key:"typeFormattterErrorFormatter",value:function(e,t){e.out("[ERROR] "+t)}},{key:"rootBegin",value:function(){}},{key:"rootEnd",value:function(){}},{key:"nodeBegin",value:function(e,t,r){e.path.push(r)}},{key:"nodeEnd",value:function(e){e.path.pop()}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(e,t,r){this.formatDeltaChildren(e,t,r)}},{key:"format_added",value:function(e,t){e.pushCurrentOp({op:me,value:t[0]})}},{key:"format_modified",value:function(e,t){e.pushCurrentOp({op:ge,value:t[1]})}},{key:"format_deleted",value:function(e){e.pushCurrentOp({op:ve})}},{key:"format_moved",value:function(e,t){var r=t[1];e.pushMoveOp(r)}},{key:"format_textdiff",value:function(){throw new Error("Not implemented")}},{key:"format",value:function(e,t){var r={};return this.prepareContext(r),this.recurse(r,e,t),r.result}}]),t}(te),we=function(e){return e[e.length-1]},_e=function(e){return r=function(e,t){var r,n,o,i,s=e.path.split("/"),a=t.path.split("/");return s.length!==a.length?s.length-a.length:(r=we(s),n=we(a),o=parseInt(r,10),i=parseInt(n,10),isNaN(o)||isNaN(i)?0:i-o)},(t=e).sort(r),t;var t,r},je=function(e,t){var r=Array(t.length+1).fill().map((function(){return[]}));return e.map((function(e){var r=t.map((function(t){return t(e)})).indexOf(!0);return r<0&&(r=t.length),{item:e,position:r}})).reduce((function(e,t){return e[t.position].push(t.item),e}),r)},Ee=function(e){return"move"===e.op},Oe=function(e){return"remove"===e.op},xe=void 0,Se=function(e,t){return xe||(xe=new be),function(e){var t=je(e,[Ee,Oe]),r=c(t,3),n=r[0],o=r[1],i=r[2],s=_e(o);return[].concat(u(s),u(n),u(i))}(xe.format(e,t))},Ae=Object.freeze({default:be,partitionOps:je,format:Se,log:function(e,t){console.log(Se(e,t))}});function Pe(e){return t&&t[e]||function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t}}var ke={added:Pe("green"),deleted:Pe("red"),movedestination:Pe("gray"),moved:Pe("yellow"),unchanged:Pe("gray"),error:Pe("white.bgRed"),textDiffLine:Pe("gray")},Ce=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!1,e}return s(t,e),o(t,[{key:"prepareContext",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareContext",this).call(this,e),e.indent=function(e){this.indentLevel=(this.indentLevel||0)+(void 0===e?1:e),this.indentPad=new Array(this.indentLevel+1).join("  "),this.outLine()},e.outLine=function(){this.buffer.push("\n"+(this.indentPad||""))},e.out=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,o=t.length;n<o;n++){var i=t[n].split("\n"),s=i.join("\n"+(this.indentPad||""));this.color&&this.color[0]&&(s=this.color[0](s)),this.buffer.push(s)}},e.pushColor=function(e){this.color=this.color||[],this.color.unshift(e)},e.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function(e,t){e.pushColor(ke.error),e.out("[ERROR]"+t),e.popColor()}},{key:"formatValue",value:function(e,t){e.out(JSON.stringify(t,null,2))}},{key:"formatTextDiffString",value:function(e,t){var r=this.parseTextDiff(t);e.indent();for(var n=0,o=r.length;n<o;n++){var i=r[n];e.pushColor(ke.textDiffLine),e.out(i.location.line+","+i.location.chr+" "),e.popColor();for(var s=i.pieces,a=0,l=s.length;a<l;a++){var c=s[a];e.pushColor(ke[c.type]),e.out(c.text),e.popColor()}n<o-1&&e.outLine()}e.indent(-1)}},{key:"rootBegin",value:function(e,t,r){e.pushColor(ke[t]),"node"===t&&(e.out("array"===r?"[":"{"),e.indent())}},{key:"rootEnd",value:function(e,t,r){"node"===t&&(e.indent(-1),e.out("array"===r?"]":"}")),e.popColor()}},{key:"nodeBegin",value:function(e,t,r,n,o){e.pushColor(ke[n]),e.out(r+": "),"node"===n&&(e.out("array"===o?"[":"{"),e.indent())}},{key:"nodeEnd",value:function(e,t,r,n,o,i){"node"===n&&(e.indent(-1),e.out("array"===o?"]":"}"+(i?"":","))),i||e.outLine(),e.popColor()}},{key:"format_unchanged",value:function(e,t,r){void 0!==r&&this.formatValue(e,r)}},{key:"format_movedestination",value:function(e,t,r){void 0!==r&&this.formatValue(e,r)}},{key:"format_node",value:function(e,t,r){this.formatDeltaChildren(e,t,r)}},{key:"format_added",value:function(e,t){this.formatValue(e,t[0])}},{key:"format_modified",value:function(e,t){e.pushColor(ke.deleted),this.formatValue(e,t[0]),e.popColor(),e.out(" => "),e.pushColor(ke.added),this.formatValue(e,t[1]),e.popColor()}},{key:"format_deleted",value:function(e,t){this.formatValue(e,t[0])}},{key:"format_moved",value:function(e,t){e.out("==> "+t[1])}},{key:"format_textdiff",value:function(e,t){this.formatTextDiffString(e,t[0])}}]),t}(te),Te=void 0,Ie=function(e,t){return Te||(Te=new Ce),Te.format(e,t)},De=Object.freeze({default:Ce,format:Ie,log:function(e,t){console.log(Ie(e,t))}}),Me=Object.freeze({base:re,html:le,annotated:pe,jsonpatch:Ae,console:De}),Ne=void 0;e.DiffPatcher=X,e.formatters=Me,e.console=De,e.create=function(e){return new X(e)},e.dateReviver=function(e,t){var r=void 0;return"string"==typeof t&&(r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+-])(\d{2}):(\d{2}))$/.exec(t))?new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6],+(r[7]||0))):t},e.diff=function(){return Ne||(Ne=new X),Ne.diff.apply(Ne,arguments)},e.patch=function(){return Ne||(Ne=new X),Ne.patch.apply(Ne,arguments)},e.unpatch=function(){return Ne||(Ne=new X),Ne.unpatch.apply(Ne,arguments)},e.reverse=function(){return Ne||(Ne=new X),Ne.reverse.apply(Ne,arguments)},e.clone=function(){return Ne||(Ne=new X),Ne.clone.apply(Ne,arguments)},Object.defineProperty(e,"__esModule",{value:!0})},"object"===a(t)&&void 0!==e?s(t,r("./node_modules/jsondiffpatch/dist/empty.js")):(o=[t,r("./node_modules/jsondiffpatch/dist/empty.js")],void 0===(i="function"==typeof(n=s)?n.apply(t,o):n)||(e.exports=i))},"./node_modules/mithril-material-forms/components/button/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/types.ts");t.default={getClassNames(e){var t;const r=["mmf-button",null!==(t=e.theme)&&void 0!==t?t:i.THEME_DEFAULT,e.raised?"mmf-button--raised":"mmf-button--flat",e.disabled?"is-disabled":"is-enabled"];return e.class&&r.push(e.class),r.join(" ")},view(e){const t={...e.attrs,theme:void 0,class:this.getClassNames(e.attrs)};return o()("button",t,e.children)}}},"./node_modules/mithril-material-forms/components/checkbox/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n);t.default={view:({attrs:e})=>o()("input.mmf-checkbox",{"data-id":e.id,type:"checkbox",class:e.theme||"the-default",disabled:!0===e.disabled,checked:e.value,onchange:t=>e.onchange(t.target.checked),onfocus:e.onfocus,onblur:e.onblur})}},"./node_modules/mithril-material-forms/components/checkboxform/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultOptions",(function(){return l}));var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/checkbox/index.ts"),s=r("./node_modules/mithril-material-forms/components/label/index.ts"),a=r("./node_modules/mithril-material-forms/components/errors/index.ts");const l={id:null,title:"",disabled:!1,theme:"the-default",value:"",errors:[],description:"",placeholder:"",onchange:Function.prototype};t.default={view(e){const t={...l,...e.attrs};return o()(".mmf-form.mmf-form--checkbox.is-"+(t.disabled?"disabled":"enabled"),{class:`${Object(a.getErrorClass)(t.errors)} ${t.theme}`},o()(s.default,{...t,invertOrder:!0!==t.invertOrder},o()(i.default,{id:e.attrs.id,disabled:t.disabled,theme:t.theme,value:e.attrs.value,onchange:e.attrs.onchange,onfocus:e.attrs.onfocus,onblur:e.attrs.onblur})),o()(a.default,t),t.description&&o()(".mmf-meta",t.description),e.children)}}},"./node_modules/mithril-material-forms/components/errors/getErrorClass.ts":function(e,t,r){"use strict";function n(e){if(null==e||0===e.length)return"no-error";for(let r=0,n=e.length;r<n;r+=1){const n=e[r];if("string"==typeof(t=n).tag&&null!=t.attrs&&"object"==typeof t.attrs||"string"==typeof n)return"has-error";if(n&&"warning"!==n.severity)return"has-error"}var t;return"has-warning"}r.r(t),r.d(t,"default",(function(){return n}))},"./node_modules/mithril-material-forms/components/errors/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/errors/getErrorClass.ts");r.d(t,"getErrorClass",(function(){return i.default})),t.default={view(e){const{errors:t}=e.attrs;return null==t||0===t.length?"":o()("ul.mmf-form__errors",t.map(e=>{return"string"==typeof(t=e).tag&&null!=t.attrs&&"object"==typeof t.attrs?o()("li.mmf-form__error.mmf-form__error--"+e.attrs.severity,e):function(e){return e&&e.message}(e)?"warning"===e.severity?o()("li.mmf-form__error.mmf-form__error--warning",o.a.trust(e.message)):o()("li.mmf-form__error.mmf-form__error--error",o.a.trust(e.message)):o()("li.mmf-form__error.mmf-form__error--error",o.a.trust(e));var t}))}}},"./node_modules/mithril-material-forms/components/imagepreview/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/isEmpty.ts");const s=[16,9];function a(e){let t=e.split(":").map(parseFloat);return t=2===t.length?t:s,100*t[1]/t[0]}const l={view(e){const{attrs:t}=e;return[Object(i.default)(t.url)?o()(".mmf-preview__placeholder",t.placeholder):[t.description&&o()(".mmf-preview__description",o.a.trust(t.description)),o()(".mmf-preview__overflow-indicator")],e.children]}},c={view(e){const{attrs:t}=e;return o()(".mmf-preview__content",{style:!Object(i.default)(t.url)&&(r=t.maxRatio,`padding-bottom: ${a(r).toFixed(2)}%;`),oncreate:t.oncreate},Object(i.default)(t.url)?o()(".mmf-preview__placeholder",t.placeholder):[o()("img",{src:t.url,onload:t.onload}),t.description&&o()(".mmf-preview__description",o.a.trust(t.description)),o()(".mmf-preview__overflow-indicator")],e.children);var r}},u={updateRatio(e,t){if(null!=this.overflowContainer&&t.naturalWidth){const r=a(e),n=a(`${t.naturalWidth}:${t.naturalHeight}`);r>=n?(this.overflowContainer.style.paddingBottom=n.toFixed(2)+"%",this.overflowContainer.classList.remove("with-overflow"),this.hasOverflow=!1):(this.overflowContainer.style.paddingBottom=r.toFixed(2)+"%",this.overflowContainer.classList.add("with-overflow"),this.hasOverflow=!0)}},view(e){const t={url:null,class:"",asBackgroundImage:!1,description:null,placeholder:null,onclick:null,maxRatio:"16:9",onload:t=>this.updateRatio(e.attrs.maxRatio,t.currentTarget),oncreate:e=>{this.overflowContainer=e.dom},...e.attrs};return o()(".mmf-preview.mmf-preview--image",{class:t.class+(Object(i.default)(t.url)?"":" with-image"),style:t.asBackgroundImage&&!Object(i.default)(t.url)&&`background-image: url(${t.url});`},t.asBackgroundImage?o()(l,t,e.children):o()(c,t,e.children))}};t.default=u},"./node_modules/mithril-material-forms/components/input/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/types.ts");t.default={value:null,hasFocus:!1,view({attrs:e}){var t,r,n;let{value:s}=e;this.hasFocus&&null!=this.value&&(s=this.value),this.value=s;const a={"data-id":e.id,class:`${null!==(t=e.theme)&&void 0!==t?t:i.THEME_DEFAULT} ${null!==(r=e.class)&&void 0!==r?r:""}`,disabled:e.disabled,placeholder:e.placeholder,type:null!==(n=e.type)&&void 0!==n?n:"text",value:s,oninput:e=>this.value=e.target.value,onfocus:t=>{this.hasFocus=!0,e.onfocus&&e.onfocus(t)},onblur:t=>{this.hasFocus=!1,e.onblur&&e.onblur(t)}};return a[!0===e.instantUpdate?"onkeyup":"onchange"]=()=>e.onchange(this.value),o()("input.mmf-input",a)}}},"./node_modules/mithril-material-forms/components/inputform/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/input/index.ts"),s=r("./node_modules/mithril-material-forms/components/label/index.ts"),a=r("./node_modules/mithril-material-forms/components/inputform/sanitizeValue.ts"),l=r("./node_modules/mithril-material-forms/components/errors/index.ts"),c=r("./node_modules/mithril-material-forms/components/types.ts");const u={string:"text",integer:"number",number:"number"},d={oncreate(e){this.$form=e.dom},updateClasses(e){const t=""!==e;this.$form.classList.remove(t?"is-empty":"not-empty"),this.$form.classList.add(!1===t?"is-empty":"not-empty")},onfocus(){this.$form.classList.add("has-focus"),this.$form.classList.remove("no-focus")},onblur(e){this.$form.classList.add("no-focus"),this.$form.classList.remove("has-focus"),this.updateClasses(e)},hasFocus(){return this.$form&&this.$form.classList.contains("has-focus")},view(e){var t;const r=u[e.attrs.type]||e.attrs.type||"text",n={id:null,title:"",value:"",errors:[],description:"",placeholder:"",instantUpdate:!1,onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype,...e.attrs},d=this.hasFocus()?"has-focus":"no-focus",f=Object(l.getErrorClass)(n.errors),h=""===n.value?"is-empty":"not-empty";return o()(".mmf-form.mmf-form--input.is-"+(n.disabled?"disabled":"enabled"),{class:`${d} ${f} ${h} ${null!==(t=n.theme)&&void 0!==t?t:c.THEME_DEFAULT}`},o()(s.default,n,o()(i.default,{type:r,id:n.id,disabled:n.disabled,theme:n.theme,instantUpdate:n.instantUpdate,placeholder:n.placeholder,onchange:e=>n.onchange(Object(a.default)(r,e)),value:n.value,onfocus:e=>{this.onfocus(),n.onfocus&&n.onfocus(e)},onblur:e=>{this.onblur(e.target.value),n.onblur&&n.onblur(e)}})),o()(l.default,n),n.description&&o()(".mmf-meta",n.description),e.children)}};t.default=d},"./node_modules/mithril-material-forms/components/inputform/sanitizeValue.ts":function(e,t,r){"use strict";function n(e,t){if("number"===e){const e=parseInt(t),r=parseFloat(t);return r==t?r:isNaN(e)?t:e}return t}r.r(t),r.d(t,"default",(function(){return n}))},"./node_modules/mithril-material-forms/components/isEmpty.ts":function(e,t,r){"use strict";function n(e){return null==e||""===e}r.r(t),r.d(t,"default",(function(){return n}))},"./node_modules/mithril-material-forms/components/label/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n);t.default={view(e){const{invertOrder:t,id:r,title:n,class:i}=e.attrs;return!0===t?o()("label.order--label-last",{class:i},e.children,n&&o()("span.mmf-label",n)):o()("label.order--label-first",{class:i},n&&o()("span.mmf-label",n),e.children)}}},"./node_modules/mithril-material-forms/components/select/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n);t.default={view(e){const{attrs:t}=e,{theme:r="the-default"}=e.attrs;return o()(".mmf-select__wrapper",{class:`${r} ${!0===t.disabled?"is-disabled":"is-enabled"}`,oncreate:e=>this.$wrapper=e.dom},o()("select.mmf-select",{"data-id":t.id,value:t.value,disabled:t.disabled,class:t.class,onfocus:()=>{this.$wrapper&&this.$wrapper.classList.add("has-focus"),t.onfocus&&t.onfocus(e)},onblur:()=>{this.$wrapper&&this.$wrapper.classList.remove("has-focus"),t.onblur&&t.onblur(e)},onchange:e=>t.onchange(e.target.value)},t.options.map(e=>{return(t=e)&&void 0!==t.value?o()("option",{value:""+e.value},e.title||e.value):o()("option",{value:""+e},e);var t})))}}},"./node_modules/mithril-material-forms/components/selectform/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/select/index.ts"),s=r("./node_modules/mithril-material-forms/components/label/index.ts"),a=r("./node_modules/mithril-material-forms/components/errors/index.ts"),l=r("./node_modules/mithril-material-forms/components/types.ts");t.default={view(e){var t;const r={id:null,value:"",options:[{title:"-",value:!1}],errors:[],invertOrder:!1,description:"",onchange:Function.prototype,...e.attrs};return o()(".mmf-form.mmf-form--select.is-"+(r.disabled?"disabled":"enabled"),{class:`${null!==(t=r.theme)&&void 0!==t?t:l.THEME_DEFAULT} ${Object(a.getErrorClass)(r.errors)}`},o()(s.default,{class:"mmf-grow-2",...r,invertOrder:r.invertOrder},o()(i.default,r)),o()(a.default,r),r.description&&o()(".mmf-meta",r.description),e.children)}}},"./node_modules/mithril-material-forms/components/switch/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n);t.default={view:({attrs:e})=>o()("input.mmf-switch",{"data-id":e.id,type:"checkbox",class:e.theme||"the-default",disabled:!0===e.disabled,checked:e.value,onchange:t=>e.onchange(t.target.checked),onfocus:e.onfocus,onblur:e.onblur})}},"./node_modules/mithril-material-forms/components/switchform/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultOptions",(function(){return l}));var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/switch/index.ts"),s=r("./node_modules/mithril-material-forms/components/label/index.ts"),a=r("./node_modules/mithril-material-forms/components/errors/index.ts");const l={id:null,title:"",disabled:!1,theme:"the-default",value:"",errors:[],description:"",onchange:Function.prototype};t.default={view(e){const t={...l,...e.attrs};return o()(".mmf-form.mmf-form--switch.is-"+(t.disabled?"disabled":"enabled"),{class:`${Object(a.getErrorClass)(t.errors)} ${t.theme}`},o()(s.default,{...t,invertOrder:!0!==t.invertOrder},o()(i.default,{id:e.attrs.id,disabled:t.disabled,theme:t.theme,value:e.attrs.value,onchange:e.attrs.onchange,onfocus:e.attrs.onfocus,onblur:e.attrs.onblur})),o()(a.default,t),t.description&&o()(".mmf-meta",t.description),e.children)}}},"./node_modules/mithril-material-forms/components/textarea/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/node_modules/autosize/dist/autosize.js"),s=r.n(i),a=r("./node_modules/mithril-material-forms/components/types.ts");const l=window.requestAnimationFrame,c=Function.prototype;t.default={boolean:!1,onupdate(e){l(()=>s.a.update(e.dom))},view(e){var t,r;const n={value:"",rows:1,placeholder:"",disabled:!1,instantUpdate:!1,onblur:c,onfocus:c,onchange:c,oncreate:c,onbeforeremove:c,...e.attrs},i=!0===n.disabled;this.focus&&(n.value=this.textarea.value);const l={"data-id":n.id,value:n.value,class:`${null!==(t=n.theme)&&void 0!==t?t:a.THEME_DEFAULT} ${null!==(r=n.class)&&void 0!==r?r:""}`,rows:n.rows,disabled:i,placeholder:n.placeholder,onblur:e=>{this.focus=!1,n.onblur&&n.onblur(e)},onfocus:e=>{this.focus=!0,n.onfocus&&n.onfocus(e)},onupdate:e=>s.a.update(e.dom),oncreate:e=>{this.textarea=e.dom,n.oncreate(e),s()(e.dom),s.a.update(e.dom)},onbeforeremove:e=>{n.onbeforeremove(e),s.a.destroy(e.dom)}};return l[!0===n.instantUpdate?"onkeyup":"onchange"]=e=>n.onchange(e.target.value),o()("textarea.mmf-textarea",l)}}},"./node_modules/mithril-material-forms/components/textareaform/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/mithril-material-forms/components/errors/index.ts"),o=r("./node_modules/mithril-material-forms/components/isEmpty.ts"),i=r("./node_modules/mithril-material-forms/components/label/index.ts"),s=r("mithril"),a=r.n(s),l=r("./node_modules/mithril-material-forms/components/textarea/index.ts");t.default={oncreate(e){this.$form=e.dom,this.onblur(e.attrs.value)},onfocus(){this.$form.classList.remove("no-focus"),this.$form.classList.add("has-focus")},onblur(e){this.$form.classList.remove("has-focus"),this.$form.classList.add("no-focus"),this.updateClasses(e)},updateClasses(e){const t=!1===Object(o.default)(e);this.$form.classList.remove(t?"is-empty":"not-empty"),this.$form.classList.add(!1===t?"is-empty":"not-empty")},onupdate(e){this.updateClasses(e.attrs.value)},view(e){const t=Object.assign({id:null,title:"",value:"",errors:[],disabled:!1,description:"",placeholder:"",rows:1,theme:"the-default",instantUpdate:!1,onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype},e.attrs),r=!0===t.disabled;return a()(".mmf-form.mmf-form--textarea.is-"+(r?"disabled":"enabled"),{class:`${t.theme} ${Object(n.getErrorClass)(t.errors)}`},a()(i.default,t,a()(l.default,{id:t.id,value:t.value,disabled:r,theme:t.theme,instantUpdate:t.instantUpdate,placeholder:t.placeholder,rows:t.rows,onchange:t.onchange,onblur:e=>{this.onblur(e.target.value),t.onblur(e)},onfocus:e=>{this.onfocus(),t.onfocus(e)}})),a()(n.default,t),t.description&&a()(".mmf-meta",t.description),e.children)}}},"./node_modules/mithril-material-forms/components/types.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"THEME_DEFAULT",(function(){return n}));const n="the-default"},"./node_modules/mithril-material-forms/dist/mmf.js":function(e,t){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==s(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}({0:function(e,t){e.exports=m},1:function(e,t,r){var n,o;void 0===(o="function"==typeof(n=function(e,t){"use strict";var r,n,o="function"==typeof Map?new Map:(r=[],n=[],{has:function(e){return r.indexOf(e)>-1},get:function(e){return n[r.indexOf(e)]},set:function(e,t){-1===r.indexOf(e)&&(r.push(e),n.push(t))},delete:function(e){var t=r.indexOf(e);t>-1&&(r.splice(t,1),n.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){var t=o.get(e);t&&t.destroy()}function a(e){var t=o.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return function(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t,r=null,n=null,s=null,a=function(){e.clientWidth!==n&&d()},l=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach((function(r){e.style[r]=t[r]})),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:l,update:d}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),d()}function c(t){var r=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=r,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+r+"px",n=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function d(){u();var t=Math.round(parseFloat(e.style.height)),r=window.getComputedStyle(e,null),n="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):e.offsetHeight;if(n<t?"hidden"===r.overflowY&&(c("scroll"),u(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==r.overflowY&&(c("hidden"),u(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),s!==n){s=n;var o=i("autosize:resized");try{e.dispatchEvent(o)}catch(e){}}}}(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e}),t.default=l,e.exports=t.default})?n.apply(t,[e,t]):n)||(e.exports=o)},8:function(e,t,n){"use strict";n.r(t),n.d(t,"Button",(function(){return l})),n.d(t,"Checkbox",(function(){return c})),n.d(t,"CheckboxForm",(function(){return p})),n.d(t,"Errors",(function(){return f})),n.d(t,"Input",(function(){return m})),n.d(t,"InputForm",(function(){return g})),n.d(t,"Label",(function(){return u})),n.d(t,"Select",(function(){return y})),n.d(t,"SelectForm",(function(){return b})),n.d(t,"Textarea",(function(){return O})),n.d(t,"TextareaForm",(function(){return S})),n.d(t,"ImagePreview",(function(){return T}));var i=n(0),a=n.n(i),l={getClassNames:function(e){var t,r=["mmf-button",null!==(t=e.theme)&&void 0!==t?t:"the-default",e.raised?"mmf-button--raised":"mmf-button--flat",e.disabled?"is-disabled":"is-enabled"];return e.class&&r.push(e.class),r.join(" ")},view:function(e){var t=o(o({},e.attrs),{},{theme:void 0,class:this.getClassNames(e.attrs)});return a()("button",t,e.children)}},c={view:function(e){var t=e.attrs;return a()("input.mmf-checkbox",{"data-id":t.id,type:"checkbox",class:t.theme||"the-default",disabled:!0===t.disabled,checked:t.value,onchange:function(e){return t.onchange(e.target.checked)},onfocus:t.onfocus,onblur:t.onblur})}},u={view:function(e){var t=e.attrs,r=t.invertOrder,n=(t.id,t.title),o=t.class;return!0===r?a()("label.order--label-last",{class:o},e.children,n&&a()("span.mmf-label",n)):a()("label.order--label-first",{class:o},n&&a()("span.mmf-label",n),e.children)}};function d(e){if(null==e||0===e.length)return"no-error";for(var t=0,r=e.length;t<r;t+=1){var n=e[t];if("string"==typeof(o=n).tag&&null!=o.attrs&&"object"==s(o.attrs)||"string"==typeof n)return"has-error";if(n&&"warning"!==n.severity)return"has-error"}var o;return"has-warning"}var f={view:function(e){var t=e.attrs.errors;return null==t||0===t.length?"":a()("ul.mmf-form__errors",t.map((function(e){return"string"==typeof(t=e).tag&&null!=t.attrs&&"object"==s(t.attrs)?a()("li.mmf-form__error.mmf-form__error--"+e.attrs.severity,e):function(e){return e&&e.message}(e)?"warning"===e.severity?a()("li.mmf-form__error.mmf-form__error--warning",a.a.trust(e.message)):a()("li.mmf-form__error.mmf-form__error--error",a.a.trust(e.message)):a()("li.mmf-form__error.mmf-form__error--error",a.a.trust(e));var t})))}},h={id:null,title:"",disabled:!1,theme:"the-default",value:"",errors:[],description:"",placeholder:"",onchange:Function.prototype},p={view:function(e){var t=o(o({},h),e.attrs);return a()(".mmf-form.mmf-form--checkbox.mmf-form--"+(t.disabled?"disabled":"enabled"),{class:"".concat(d(t.errors)," ").concat(t.theme)},a()(u,o(o({},t),{},{invertOrder:!0!==t.invertOrder}),a()(c,{id:e.attrs.id,disabled:t.disabled,theme:t.theme,value:e.attrs.value,onchange:e.attrs.onchange,onfocus:e.attrs.onfocus,onblur:e.attrs.onblur})),a()(f,t),t.description&&a()(".mmf-meta",t.description),e.children)}},m={value:null,hasFocus:!1,view:function(e){var t,r,n,o=this,i=e.attrs,s=i.value;this.hasFocus&&null!=this.value&&(s=this.value),this.value=s;var l={"data-id":i.id,class:"".concat(null!==(t=i.theme)&&void 0!==t?t:"the-default"," ").concat(null!==(r=i.class)&&void 0!==r?r:""),disabled:i.disabled,placeholder:i.placeholder,type:null!==(n=i.type)&&void 0!==n?n:"text",value:s,oninput:function(e){return o.value=e.target.value},onfocus:function(e){o.hasFocus=!0,i.onfocus&&i.onfocus(e)},onblur:function(e){o.hasFocus=!1,i.onblur&&i.onblur(e)}};return l[!0===i.instantUpdate?"onkeyup":"onchange"]=function(){return i.onchange(o.value)},a()("input.mmf-input",l)}},v={string:"text",integer:"number",number:"number"},g={oncreate:function(e){this.$form=e.dom},updateClasses:function(e){var t=""!==e;this.$form.classList.remove(t?"isEmpty":"isNotEmpty"),this.$form.classList.add(!1===t?"isEmpty":"isNotEmpty")},onfocus:function(){this.$form.classList.add("hasFocus"),this.$form.classList.remove("hasNoFocus")},onblur:function(e){this.$form.classList.add("hasNoFocus"),this.$form.classList.remove("hasFocus"),this.updateClasses(e)},hasFocus:function(){return this.$form&&this.$form.classList.contains("hasFocus")},view:function(e){var t=this,r=v[e.attrs.type]||e.attrs.type||"text",n=o({id:null,title:"",value:"",errors:[],description:"",placeholder:"",theme:"the-default",instantUpdate:!1,onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype},e.attrs),i=this.hasFocus()?"hasFocus":"hasNoFocus",s=d(n.errors),l=""===n.value?"isEmpty":"isNotEmpty";return a()(".mmf-form.mmf-form--input.mmf-form--"+(n.disabled?"disabled":"enabled"),{class:"".concat(i," ").concat(s," ").concat(l," ").concat(n.theme)},a()(u,n,a()(m,{type:r,id:n.id,disabled:n.disabled,theme:n.theme,instantUpdate:n.instantUpdate,placeholder:n.placeholder,onchange:function(e){return n.onchange(function(e,t){if("number"===e){var r=parseInt(t),n=parseFloat(t);return n==t?n:isNaN(r)?t:r}return t}(r,e))},value:n.value,onfocus:function(e){t.onfocus(),n.onfocus&&n.onfocus(e)},onblur:function(e){t.onblur(e.target.value),n.onblur&&n.onblur(e)}})),a()(f,n),n.description&&a()(".mmf-meta",n.description),e.children)}},y={view:function(e){var t=this,r=e.attrs,n=e.attrs.theme,o=void 0===n?"the-default":n;return a()(".mmf-select__wrapper",{class:"".concat(o," ").concat(!0===r.disabled?"is-disabled":"is-enabled"),oncreate:function(e){return t.$wrapper=e.dom}},a()("select.mmf-select",{"data-id":r.id,value:r.value,disabled:r.disabled,class:r.class,onfocus:function(){t.$wrapper&&t.$wrapper.classList.add("has-focus"),r.onfocus&&r.onfocus(e)},onblur:function(){t.$wrapper&&t.$wrapper.classList.remove("has-focus"),r.onblur&&r.onblur(e)},onchange:function(e){return r.onchange(e.target.value)}},r.options.map((function(e){return(t=e)&&void 0!==t.value?a()("option",{value:""+e.value},e.title||e.value):a()("option",{value:""+e},e);var t}))))}},b={view:function(e){var t=o({id:null,value:"",options:[{title:"-",value:!1}],errors:[],theme:"the-default",invertOrder:!1,description:"",placeholder:"",onchange:Function.prototype},e.attrs);return a()(".mmf-form.mmf-form--select.mmf-form--"+(t.disabled?"disabled":"enabled"),{class:"".concat(t.theme," ").concat(d(t.errors))},a()(u,o(o({class:"mmf-grow-2"},t),{},{invertOrder:t.invertOrder}),a()(y,t)),a()(f,t),t.description&&a()(".mmf-meta",t.description),e.children)}},w=n(1),_=n.n(w),j=window.requestAnimationFrame,E=Function.prototype,O={boolean:!1,onupdate:function(e){j((function(){return _.a.update(e.dom)}))},view:function(e){var t=this,r=o({value:"",rows:1,placeholder:"",disabled:!1,instantUpdate:!1,onblur:E,onfocus:E,onchange:E,oncreate:E,theme:"the-default",onbeforeremove:E},e.attrs),n=!0===r.disabled;this.focus&&(r.value=this.textarea.value);var i={"data-id":r.id,value:r.value,class:"".concat(r.theme," ").concat(r.class),rows:r.rows,disabled:n,placeholder:r.placeholder,onblur:function(e){t.focus=!1,r.onblur&&r.onblur(e)},onfocus:function(e){t.focus=!0,r.onfocus&&r.onfocus(e)},onupdate:function(e){return _.a.update(e.dom)},oncreate:function(e){t.textarea=e.dom,r.oncreate(e),_()(e.dom),_.a.update(e.dom)},onbeforeremove:function(e){r.onbeforeremove(e),_.a.destroy(e.dom)}};return i[!0===r.instantUpdate?"onkeyup":"onchange"]=function(e){return r.onchange(e.target.value)},a()("textarea.mmf-textarea",i)}};function x(e){return null==e||""===e}var S={oncreate:function(e){this.$form=e.dom,this.onblur(e.attrs.value)},onfocus:function(){this.$form.classList.remove("hasNoFocus"),this.$form.classList.add("hasFocus")},onblur:function(e){this.$form.classList.remove("hasFocus"),this.$form.classList.add("hasNoFocus"),this.updateClasses(e)},updateClasses:function(e){var t=!1===x(e);this.$form.classList.remove(t?"isEmpty":"isNotEmpty"),this.$form.classList.add(!1===t?"isEmpty":"isNotEmpty")},onupdate:function(e){this.updateClasses(e.attrs.value)},view:function(e){var t=this,n=r({id:null,title:"",value:"",errors:[],disabled:!1,description:"",placeholder:"",rows:1,theme:"the-default",instantUpdate:!1,onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype},e.attrs),o=!0===n.disabled;return a()(".mmf-form.mmf-form--textarea.mmf-form--"+(o?"disabled":"enabled"),{class:"".concat(n.theme," ").concat(d(n.errors))},a()(u,n,a()(O,{id:n.id,value:n.value,disabled:o,theme:n.theme,instantUpdate:n.instantUpdate,placeholder:n.placeholder,rows:n.rows,onchange:n.onchange,onblur:function(e){t.onblur(e.target.value),n.onblur(e)},onfocus:function(e){t.onfocus(),n.onfocus(e)}})),a()(f,n),n.description&&a()(".mmf-meta",n.description),e.children)}},A=[16,9];function P(e){var t=e.split(":").map(parseFloat);return 100*(t=2===t.length?t:A)[1]/t[0]}var k={view:function(e){var t=e.attrs;return[x(t.url)?a()(".mmf-preview__placeholder",t.placeholder):[t.description&&a()(".mmf-preview__description",a.a.trust(t.description)),a()(".mmf-preview__overflow-indicator")],e.children]}},C={view:function(e){var t,r=e.attrs;return a()(".mmf-preview__content",{style:!x(r.url)&&(t=r.maxRatio,"padding-bottom: ".concat(P(t).toFixed(2),"%;")),oncreate:r.oncreate},x(r.url)?a()(".mmf-preview__placeholder",r.placeholder):[a()("img",{src:r.url,onload:r.onload}),r.description&&a()(".mmf-preview__description",a.a.trust(r.description)),a()(".mmf-preview__overflow-indicator")],e.children)}},T={updateRatio:function(e,t){if(null!=this.overflowContainer&&t.naturalWidth){var r=P(e),n=P("".concat(t.naturalWidth,":").concat(t.naturalHeight));r>=n?(this.overflowContainer.style.paddingBottom=n.toFixed(2)+"%",this.overflowContainer.classList.remove("with-overflow"),this.hasOverflow=!1):(this.overflowContainer.style.paddingBottom=r.toFixed(2)+"%",this.overflowContainer.classList.add("with-overflow"),this.hasOverflow=!0)}},view:function(e){var t=this,r=o({url:null,class:"",asBackgroundImage:!1,description:null,placeholder:null,onclick:null,maxRatio:"16:9",onload:function(r){return t.updateRatio(e.attrs.maxRatio,r.currentTarget)},oncreate:function(e){t.overflowContainer=e.dom}},e.attrs);return a()(".mmf-preview.mmf-preview--image",{class:r.class+(x(r.url)?"":" with-image"),style:r.asBackgroundImage&&!x(r.url)&&"background-image: url(".concat(r.url,");")},r.asBackgroundImage?a()(k,r,e.children):a()(C,r,e.children))}}}})},"./node_modules/mithril-material-forms/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/mithril-material-forms/components/button/index.ts");r.d(t,"Button",(function(){return n.default}));var o=r("./node_modules/mithril-material-forms/components/checkbox/index.ts");r.d(t,"Checkbox",(function(){return o.default}));var i=r("./node_modules/mithril-material-forms/components/checkboxform/index.ts");r.d(t,"CheckboxForm",(function(){return i.default}));var s=r("./node_modules/mithril-material-forms/components/errors/index.ts");r.d(t,"Errors",(function(){return s.default}));var a=r("./node_modules/mithril-material-forms/components/input/index.ts");r.d(t,"Input",(function(){return a.default}));var l=r("./node_modules/mithril-material-forms/components/inputform/index.ts");r.d(t,"InputForm",(function(){return l.default}));var c=r("./node_modules/mithril-material-forms/components/label/index.ts");r.d(t,"Label",(function(){return c.default}));var u=r("./node_modules/mithril-material-forms/components/select/index.ts");r.d(t,"Select",(function(){return u.default}));var d=r("./node_modules/mithril-material-forms/components/selectform/index.ts");r.d(t,"SelectForm",(function(){return d.default}));var f=r("./node_modules/mithril-material-forms/components/switch/index.ts");r.d(t,"Switch",(function(){return f.default}));var h=r("./node_modules/mithril-material-forms/components/switchform/index.ts");r.d(t,"SwitchForm",(function(){return h.default}));var p=r("./node_modules/mithril-material-forms/components/textarea/index.ts");r.d(t,"Textarea",(function(){return p.default}));var m=r("./node_modules/mithril-material-forms/components/textareaform/index.ts");r.d(t,"TextareaForm",(function(){return m.default}));var v=r("./node_modules/mithril-material-forms/components/imagepreview/index.ts");r.d(t,"ImagePreview",(function(){return v.default}))},"./node_modules/mithril-material-forms/node_modules/autosize/dist/autosize.js":function(e,t,r){var n,o,i;o=[e,t],void 0===(i="function"==typeof(n=function(e,t){"use strict";var r,n,o="function"==typeof Map?new Map:(r=[],n=[],{has:function(e){return r.indexOf(e)>-1},get:function(e){return n[r.indexOf(e)]},set:function(e,t){-1===r.indexOf(e)&&(r.push(e),n.push(t))},delete:function(e){var t=r.indexOf(e);t>-1&&(r.splice(t,1),n.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t,r=null,n=null,s=null,a=function(){e.clientWidth!==n&&d()},l=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach((function(r){e.style[r]=t[r]})),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:l,update:d}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),d()}function c(t){var r=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=r,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+r+"px",n=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function d(){u();var t=Math.round(parseFloat(e.style.height)),r=window.getComputedStyle(e,null),n="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):e.offsetHeight;if(n<t?"hidden"===r.overflowY&&(c("scroll"),u(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==r.overflowY&&(c("hidden"),u(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),s!==n){s=n;var o=i("autosize:resized");try{e.dispatchEvent(o)}catch(e){}}}}function a(e){var t=o.get(e);t&&t.destroy()}function l(e){var t=o.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return s(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default})?n.apply(t,o):n)||(e.exports=i)},"./node_modules/nanoevents/index.js":function(e,t,r){"use strict";function n(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,"createNanoEvents",(function(){return i}));var i=function(){return{events:{},emit:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i,s=n(this.events[e]||[]);try{for(s.s();!(i=s.n()).done;){var a=i.value;a.apply(void 0,r)}}catch(e){s.e(e)}finally{s.f()}},on:function(e,t){var r=this;return(this.events[e]=this.events[e]||[]).push(t),function(){return r.events[e]=r.events[e].filter((function(e){return e!==t}))}}}}},"./node_modules/process/browser.js":function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||u||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./node_modules/sortablejs/modular/sortable.esm.js":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.r(t),r.d(t,"MultiDrag",(function(){return wt})),r.d(t,"Sortable",(function(){return Ue})),r.d(t,"Swap",(function(){return ct}));function u(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var d=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),f=u(/Edge/i),h=u(/firefox/i),p=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),m=u(/iP(ad|od|hone)/i),v=u(/chrome/i)&&u(/android/i),g={capture:!1,passive:!1};function y(e,t,r){e.addEventListener(t,r,!d&&g)}function b(e,t,r){e.removeEventListener(t,r,!d&&g)}function w(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function j(e,t,r,n){if(e){r=r||document;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&w(e,t):w(e,t))||n&&e===r)return e;if(e===r)break}while(e=_(e))}return null}var E,O=/\s+/g;function x(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(O," ").replace(" "+t+" "," ");e.className=(n+(r?" "+t:"")).replace(O," ")}}function S(e,t,r){var n=e&&e.style;if(n){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),void 0===t?r:r[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=r+("string"==typeof r?"":"px")}}function A(e,t){var r="";if("string"==typeof e)r=e;else do{var n=S(e,"transform");n&&"none"!==n&&(r=n+" "+r)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(r)}function P(e,t,r){if(e){var n=e.getElementsByTagName(t),o=0,i=n.length;if(r)for(;o<i;o++)r(n[o],o);return n}return[]}function k(){var e=document.scrollingElement;return e||document.documentElement}function C(e,t,r,n,o){if(e.getBoundingClientRect||e===window){var i,s,a,l,c,u,f;if(e!==window&&e!==k()?(s=(i=e.getBoundingClientRect()).top,a=i.left,l=i.bottom,c=i.right,u=i.height,f=i.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(t||r)&&e!==window&&(o=o||e.parentNode,!d))do{if(o&&o.getBoundingClientRect&&("none"!==S(o,"transform")||r&&"static"!==S(o,"position"))){var h=o.getBoundingClientRect();s-=h.top+parseInt(S(o,"border-top-width")),a-=h.left+parseInt(S(o,"border-left-width")),l=s+i.height,c=a+i.width;break}}while(o=o.parentNode);if(n&&e!==window){var p=A(o||e),m=p&&p.a,v=p&&p.d;p&&(l=(s/=v)+(u/=v),c=(a/=m)+(f/=m))}return{top:s,left:a,bottom:l,right:c,width:f,height:u}}}function T(e,t,r){for(var n=R(e,!0),o=C(e)[t];n;){var i=C(n)[r];if(!("top"===r||"left"===r?o>=i:o<=i))return n;if(n===k())break;n=R(n,!1)}return!1}function I(e,t,r){for(var n=0,o=0,i=e.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==Ue.ghost&&i[o]!==Ue.dragged&&j(i[o],r.draggable,e,!1)){if(n===t)return i[o];n++}o++}return null}function D(e,t){for(var r=e.lastElementChild;r&&(r===Ue.ghost||"none"===S(r,"display")||t&&!w(r,t));)r=r.previousElementSibling;return r||null}function M(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ue.clone||t&&!w(e,t)||r++;return r}function N(e){var t=0,r=0,n=k();if(e)do{var o=A(e),i=o.a,s=o.d;t+=e.scrollLeft*i,r+=e.scrollTop*s}while(e!==n&&(e=e.parentNode));return[t,r]}function R(e,t){if(!e||!e.getBoundingClientRect)return k();var r=e,n=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var o=S(r);if(r.clientWidth<r.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!r.getBoundingClientRect||r===document.body)return k();if(n||t)return r;n=!0}}}while(r=r.parentNode);return k()}function $(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function L(e,t){return function(){if(!E){var r=arguments,n=this;1===r.length?e.call(n,r[0]):e.apply(n,r),E=setTimeout((function(){E=void 0}),t)}}}function F(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function V(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function U(e,t){S(e,"position","absolute"),S(e,"top",t.top),S(e,"left",t.left),S(e,"width",t.width),S(e,"height",t.height)}function B(e){S(e,"position",""),S(e,"top",""),S(e,"left",""),S(e,"width",""),S(e,"height","")}var z="Sortable"+(new Date).getTime();function H(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==S(e,"display")&&e!==Ue.ghost){t.push({target:e,rect:C(e)});var r=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=A(e,!0);n&&(r.top-=n.f,r.left-=n.e)}e.fromRect=r}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var r in e)if(e.hasOwnProperty(r))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[r][n])return Number(r);return-1}(t,{target:e}),1)},animateAll:function(r){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof r&&r());var o=!1,i=0;t.forEach((function(e){var t=0,r=e.target,s=r.fromRect,a=C(r),l=r.prevFromRect,c=r.prevToRect,u=e.rect,d=A(r,!0);d&&(a.top-=d.f,a.left-=d.e),r.toRect=a,r.thisAnimationDuration&&$(l,a)&&!$(s,a)&&(u.top-a.top)/(u.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,r,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*n.animation}(u,l,c,n.options)),$(a,s)||(r.prevFromRect=s,r.prevToRect=a,t||(t=n.options.animation),n.animate(r,u,a,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),t),r.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof r&&r()}),i):"function"==typeof r&&r(),t=[]},animate:function(e,t,r,n){if(n){S(e,"transition",""),S(e,"transform","");var o=A(this.el),i=o&&o.a,s=o&&o.d,a=(t.left-r.left)/(i||1),l=(t.top-r.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,S(e,"transform","translate3d("+a+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),S(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),S(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){S(e,"transition",""),S(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var q=[],W={initializeByDefault:!0},K={mount:function(e){for(var t in W)W.hasOwnProperty(t)&&!(t in e)&&(e[t]=W[t]);q.push(e)},pluginEvent:function(e,t,r){var n=this;this.eventCanceled=!1,r.cancel=function(){n.eventCanceled=!0};var o=e+"Global";q.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][o]&&t[n.pluginName][o](a({sortable:t},r)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](a({sortable:t},r)))}))},initializePlugins:function(e,t,r,n){for(var o in q.forEach((function(n){var o=n.pluginName;if(e.options[o]||n.initializeByDefault){var i=new n(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,s(r,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);void 0!==i&&(e.options[o]=i)}},getEventProperties:function(e,t){var r={};return q.forEach((function(n){"function"==typeof n.eventProperties&&s(r,n.eventProperties.call(t[n.pluginName],e))})),r},modifyOption:function(e,t,r){var n;return q.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(n=o.optionListeners[t].call(e[o.pluginName],r))})),n}};function J(e){var t=e.sortable,r=e.rootEl,n=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,h=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,v=e.putSortable,g=e.extraEventProperties;if(t=t||r&&r[z]){var y,b=t.options,w="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||d||f?(y=document.createEvent("Event")).initEvent(n,!0,!0):y=new CustomEvent(n,{bubbles:!0,cancelable:!0}),y.to=s||r,y.from=l||r,y.item=o||r,y.clone=i,y.oldIndex=c,y.newIndex=u,y.oldDraggableIndex=h,y.newDraggableIndex=p,y.originalEvent=m,y.pullMode=v?v.lastPutMode:void 0;var _=a({},g,K.getEventProperties(n,t));for(var j in _)y[j]=_[j];r&&r.dispatchEvent(y),b[w]&&b[w].call(t,y)}}var Y=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.evt,o=l(r,["evt"]);K.pluginEvent.bind(Ue)(e,t,a({dragEl:G,parentEl:Z,ghostEl:Q,rootEl:ee,nextEl:te,lastDownEl:re,cloneEl:ne,cloneHidden:oe,dragStarted:ge,putSortable:ue,activeSortable:Ue.active,originalEvent:n,oldIndex:ie,oldDraggableIndex:ae,newIndex:se,newDraggableIndex:le,hideGhostForTarget:$e,unhideGhostForTarget:Le,cloneNowHidden:function(){oe=!0},cloneNowShown:function(){oe=!1},dispatchSortableEvent:function(e){X({sortable:t,name:e,originalEvent:n})}},o))};function X(e){J(a({putSortable:ue,cloneEl:ne,targetEl:G,rootEl:ee,oldIndex:ie,oldDraggableIndex:ae,newIndex:se,newDraggableIndex:le},e))}var G,Z,Q,ee,te,re,ne,oe,ie,se,ae,le,ce,ue,de,fe,he,pe,me,ve,ge,ye,be,we,_e,je=!1,Ee=!1,Oe=[],xe=!1,Se=!1,Ae=[],Pe=!1,ke=[],Ce="undefined"!=typeof document,Te=m,Ie=f||d?"cssFloat":"float",De=Ce&&!v&&!m&&"draggable"in document.createElement("div"),Me=function(){if(Ce){if(d)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ne=function(e,t){var r=S(e),n=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=I(e,0,t),i=I(e,1,t),s=o&&S(o),a=i&&S(i),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(o).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+C(i).width;if("flex"===r.display)return"column"===r.flexDirection||"column-reverse"===r.flexDirection?"vertical":"horizontal";if("grid"===r.display)return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!i||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return o&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=n&&"none"===r[Ie]||i&&"none"===r[Ie]&&l+c>n)?"vertical":"horizontal"},Re=function(e){function t(e,r){return function(n,o,i,s){var a=n.options.group.name&&o.options.group.name&&n.options.group.name===o.options.group.name;if(null==e&&(r||a))return!0;if(null==e||!1===e)return!1;if(r&&"clone"===e)return e;if("function"==typeof e)return t(e(n,o,i,s),r)(n,o,i,s);var l=(r?n:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var r={},n=e.group;n&&"object"==o(n)||(n={name:n}),r.name=n.name,r.checkPull=t(n.pull,!0),r.checkPut=t(n.put),r.revertClone=n.revertClone,e.group=r},$e=function(){!Me&&Q&&S(Q,"display","none")},Le=function(){!Me&&Q&&S(Q,"display","")};Ce&&document.addEventListener("click",(function(e){if(Ee)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ee=!1,!1}),!0);var Fe=function(e){if(G){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,i=e.clientY,Oe.some((function(e){if(!D(e)){var t=C(e),r=e[z].options.emptyInsertThreshold,n=o>=t.left-r&&o<=t.right+r,a=i>=t.top-r&&i<=t.bottom+r;return r&&n&&a?s=e:void 0}})),s);if(t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[z]._onDragOver(r)}}var o,i,s},Ve=function(e){G&&G.parentNode[z]._isOutsideThisEl(e.target)};function Ue(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=s({},t),e[z]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ne(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ue.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in K.initializePlugins(this,e,r),r)!(n in t)&&(t[n]=r[n]);for(var o in Re(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&De,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?y(e,"pointerdown",this._onTapStart):(y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Oe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),s(this,H())}function Be(e,t,r,n,o,i,s,a){var l,c,u=e[z],h=u.options.onMove;return!window.CustomEvent||d||f?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=r,l.draggedRect=n,l.related=o||t,l.relatedRect=i||C(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),h&&(c=h.call(u,l,s)),c}function ze(e){e.draggable=!1}function He(){Pe=!1}function qe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,n=0;r--;)n+=t.charCodeAt(r);return n.toString(36)}function We(e){return setTimeout(e,0)}function Ke(e){return clearTimeout(e)}Ue.prototype={constructor:Ue,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ye=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,G):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,n=this.options,o=n.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=n.filter;if(function(e){ke.length=0;var t=e.getElementsByTagName("input"),r=t.length;for(;r--;){var n=t[r];n.checked&&ke.push(n)}}(r),!G&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||n.disabled||l.isContentEditable||(a=j(a,n.draggable,r,!1))&&a.animated||re===a)){if(ie=M(a),ae=M(a,n.draggable),"function"==typeof c){if(c.call(this,e,a,this))return X({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:r,fromEl:r}),Y("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=j(l,n.trim(),r,!1))return X({sortable:t,rootEl:n,name:"filter",targetEl:a,fromEl:r,toEl:r}),Y("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());n.handle&&!j(l,n.handle,r,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,r){var n,o=this,i=o.el,s=o.options,a=i.ownerDocument;if(r&&!G&&r.parentNode===i){var l=C(r);if(ee=i,Z=(G=r).parentNode,te=G.nextSibling,re=r,ce=s.group,Ue.dragged=G,de={target:G,clientX:(t||e).clientX,clientY:(t||e).clientY},me=de.clientX-l.left,ve=de.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,G.style["will-change"]="all",n=function(){Y("delayEnded",o,{evt:e}),Ue.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!h&&o.nativeDraggable&&(G.draggable=!0),o._triggerDragStart(e,t),X({sortable:o,name:"choose",originalEvent:e}),x(G,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){P(G,e.trim(),ze)})),y(a,"dragover",Fe),y(a,"mousemove",Fe),y(a,"touchmove",Fe),y(a,"mouseup",o._onDrop),y(a,"touchend",o._onDrop),y(a,"touchcancel",o._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,G.draggable=!0),Y("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(f||d))n();else{if(Ue.eventCanceled)return void this._onDrop();y(a,"mouseup",o._disableDelayedDrag),y(a,"touchend",o._disableDelayedDrag),y(a,"touchcancel",o._disableDelayedDrag),y(a,"mousemove",o._delayedDragTouchMoveHandler),y(a,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&y(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(n,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){G&&ze(G),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?y(document,"pointermove",this._onTouchMove):y(document,t?"touchmove":"mousemove",this._onTouchMove):(y(G,"dragend",this),y(ee,"dragstart",this._onDragStart));try{document.selection?We((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(je=!1,ee&&G){Y("dragStarted",this,{evt:t}),this.nativeDraggable&&y(document,"dragover",Ve);var r=this.options;!e&&x(G,r.dragClass,!1),x(G,r.ghostClass,!0),Ue.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(fe){this._lastX=fe.clientX,this._lastY=fe.clientY,$e();for(var e=document.elementFromPoint(fe.clientX,fe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(fe.clientX,fe.clientY))!==t;)t=e;if(G.parentNode[z]._isOutsideThisEl(e),t)do{if(t[z]){if(t[z]._onDragOver({clientX:fe.clientX,clientY:fe.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Le()}},_onTouchMove:function(e){if(de){var t=this.options,r=t.fallbackTolerance,n=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=Q&&A(Q,!0),s=Q&&i&&i.a,a=Q&&i&&i.d,l=Te&&_e&&N(_e),c=(o.clientX-de.clientX+n.x)/(s||1)+(l?l[0]-Ae[0]:0)/(s||1),u=(o.clientY-de.clientY+n.y)/(a||1)+(l?l[1]-Ae[1]:0)/(a||1);if(!Ue.active&&!je){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Q){i?(i.e+=c-(he||0),i.f+=u-(pe||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");S(Q,"webkitTransform",d),S(Q,"mozTransform",d),S(Q,"msTransform",d),S(Q,"transform",d),he=c,pe=u,fe=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Q){var e=this.options.fallbackOnBody?document.body:ee,t=C(G,!0,Te,!0,e),r=this.options;if(Te){for(_e=e;"static"===S(_e,"position")&&"none"===S(_e,"transform")&&_e!==document;)_e=_e.parentNode;_e!==document.body&&_e!==document.documentElement?(_e===document&&(_e=k()),t.top+=_e.scrollTop,t.left+=_e.scrollLeft):_e=k(),Ae=N(_e)}x(Q=G.cloneNode(!0),r.ghostClass,!1),x(Q,r.fallbackClass,!0),x(Q,r.dragClass,!0),S(Q,"transition",""),S(Q,"transform",""),S(Q,"box-sizing","border-box"),S(Q,"margin",0),S(Q,"top",t.top),S(Q,"left",t.left),S(Q,"width",t.width),S(Q,"height",t.height),S(Q,"opacity","0.8"),S(Q,"position",Te?"absolute":"fixed"),S(Q,"zIndex","100000"),S(Q,"pointerEvents","none"),Ue.ghost=Q,e.appendChild(Q),S(Q,"transform-origin",me/parseInt(Q.style.width)*100+"% "+ve/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,n=e.dataTransfer,o=r.options;Y("dragStart",this,{evt:e}),Ue.eventCanceled?this._onDrop():(Y("setupClone",this),Ue.eventCanceled||((ne=V(G)).draggable=!1,ne.style["will-change"]="",this._hideClone(),x(ne,this.options.chosenClass,!1),Ue.clone=ne),r.cloneId=We((function(){Y("clone",r),Ue.eventCanceled||(r.options.removeCloneOnHide||ee.insertBefore(ne,G),r._hideClone(),X({sortable:r,name:"clone"}))})),!t&&x(G,o.dragClass,!0),t?(Ee=!0,r._loopId=setInterval(r._emulateDragOver,50)):(b(document,"mouseup",r._onDrop),b(document,"touchend",r._onDrop),b(document,"touchcancel",r._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(r,n,G)),y(document,"drop",r),S(G,"transform","translateZ(0)")),je=!0,r._dragStartId=We(r._dragStarted.bind(r,t,e)),y(document,"selectstart",r),ge=!0,p&&S(document.body,"user-select","none"))},_onDragOver:function(e){var t,r,n,o,i=this.el,s=e.target,l=this.options,c=l.group,u=Ue.active,d=ce===c,f=l.sort,h=ue||u,p=this,m=!1;if(!Pe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=j(s,l.draggable,i,!0),R("dragOver"),Ue.eventCanceled)return m;if(G.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return L(!1);if(Ee=!1,u&&!l.disabled&&(d?f||(n=!ee.contains(G)):ue===this||(this.lastPutMode=ce.checkPull(this,u,G,e))&&c.checkPut(this,u,G,e))){if(o="vertical"===this._getDirection(e,s),t=C(G),R("dragOverValid"),Ue.eventCanceled)return m;if(n)return Z=ee,$(),this._hideClone(),R("revert"),Ue.eventCanceled||(te?ee.insertBefore(G,te):ee.appendChild(G)),L(!0);var v=D(i,l.draggable);if(!v||function(e,t,r){var n=C(D(r.el,r.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,o,this)&&!v.animated){if(v===G)return L(!1);if(v&&i===e.target&&(s=v),s&&(r=C(s)),!1!==Be(ee,i,G,t,s,r,e,!!s))return $(),i.appendChild(G),Z=i,V(),L(!0)}else if(s.parentNode===i){r=C(s);var g,y,b,w=G.parentNode!==i,_=!function(e,t,r){var n=r?e.left:e.top,o=r?e.right:e.bottom,i=r?e.width:e.height,s=r?t.left:t.top,a=r?t.right:t.bottom,l=r?t.width:t.height;return n===s||o===a||n+i/2===s+l/2}(G.animated&&G.toRect||t,s.animated&&s.toRect||r,o),E=o?"top":"left",O=T(s,"top","top")||T(G,"top","top"),A=O?O.scrollTop:void 0;if(ye!==s&&(y=r[E],xe=!1,Se=!_&&l.invertSwap||w),0!==(g=function(e,t,r,n,o,i,s,a){var l=n?e.clientY:e.clientX,c=n?r.height:r.width,u=n?r.top:r.left,d=n?r.bottom:r.right,f=!1;if(!s)if(a&&we<c*o){if(!xe&&(1===be?l>u+c*i/2:l<d-c*i/2)&&(xe=!0),xe)f=!0;else if(1===be?l<u+we:l>d-we)return-be}else if(l>u+c*(1-o)/2&&l<d-c*(1-o)/2)return function(e){return M(G)<M(e)?1:-1}(t);if((f=f||s)&&(l<u+c*i/2||l>d-c*i/2))return l>u+c/2?1:-1;return 0}(e,s,r,o,_?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Se,ye===s))){var P=M(G);do{P-=g,b=Z.children[P]}while(b&&("none"===S(b,"display")||b===Q))}if(0===g||b===s)return L(!1);ye=s,be=g;var k=s.nextElementSibling,I=!1,N=Be(ee,i,G,t,s,r,e,I=1===g);if(!1!==N)return 1!==N&&-1!==N||(I=1===N),Pe=!0,setTimeout(He,30),$(),I&&!k?i.appendChild(G):s.parentNode.insertBefore(G,I?k:s),O&&F(O,0,A-O.scrollTop),Z=G.parentNode,void 0===y||Se||(we=Math.abs(y-C(s)[E])),V(),L(!0)}if(i.contains(G))return L(!1)}return!1}function R(l,c){Y(l,p,a({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:n,dragRect:t,targetRect:r,canSort:f,fromSortable:h,target:s,completed:L,onMove:function(r,n){return Be(ee,i,G,t,r,C(r),e,n)},changed:V},c))}function $(){R("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function L(t){return R("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(p),p!==h&&(x(G,ue?ue.options.ghostClass:u.options.ghostClass,!1),x(G,l.ghostClass,!0)),ue!==p&&p!==Ue.active?ue=p:p===Ue.active&&ue&&(ue=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){R("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===G&&!G.animated||s===i&&!s.animated)&&(ye=null),l.dragoverBubble||e.rootEl||s===document||(G.parentNode[z]._isOutsideThisEl(e.target),!t&&Fe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function V(){se=M(G),le=M(G,l.draggable),X({sortable:p,name:"change",toEl:i,newIndex:se,newDraggableIndex:le,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Fe),b(document,"mousemove",Fe),b(document,"touchmove",Fe)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;se=M(G),le=M(G,r.draggable),Y("drop",this,{evt:e}),Z=G&&G.parentNode,se=M(G),le=M(G,r.draggable),Ue.eventCanceled||(je=!1,Se=!1,xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ke(this.cloneId),Ke(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&S(document.body,"user-select",""),S(G,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(ee===Z||ue&&"clone"!==ue.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),G&&(this.nativeDraggable&&b(G,"dragend",this),ze(G),G.style["will-change"]="",ge&&!je&&x(G,ue?ue.options.ghostClass:this.options.ghostClass,!1),x(G,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:Z,newIndex:null,newDraggableIndex:null,originalEvent:e}),ee!==Z?(se>=0&&(X({rootEl:Z,name:"add",toEl:Z,fromEl:ee,originalEvent:e}),X({sortable:this,name:"remove",toEl:Z,originalEvent:e}),X({rootEl:Z,name:"sort",toEl:Z,fromEl:ee,originalEvent:e}),X({sortable:this,name:"sort",toEl:Z,originalEvent:e})),ue&&ue.save()):se!==ie&&se>=0&&(X({sortable:this,name:"update",toEl:Z,originalEvent:e}),X({sortable:this,name:"sort",toEl:Z,originalEvent:e})),Ue.active&&(null!=se&&-1!==se||(se=ie,le=ae),X({sortable:this,name:"end",toEl:Z,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Y("nulling",this),ee=G=Z=Q=te=ne=re=oe=de=fe=ge=se=le=ie=ae=ye=be=ue=ce=Ue.dragged=Ue.ghost=Ue.clone=Ue.active=null,ke.forEach((function(e){e.checked=!0})),ke.length=he=pe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":G&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],r=this.el.children,n=0,o=r.length,i=this.options;n<o;n++)j(e=r[n],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||qe(e));return t},sort:function(e){var t={},r=this.el;this.toArray().forEach((function(e,n){var o=r.children[n];j(o,this.options.draggable,r,!1)&&(t[e]=o)}),this),e.forEach((function(e){t[e]&&(r.removeChild(t[e]),r.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return j(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(void 0===t)return r[e];var n=K.modifyOption(this,e,t);r[e]=void 0!==n?n:t,"group"===e&&Re(r)},destroy:function(){Y("destroy",this);var e=this.el;e[z]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Oe.splice(Oe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!oe){if(Y("hideClone",this),Ue.eventCanceled)return;S(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),oe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(oe){if(Y("showClone",this),Ue.eventCanceled)return;ee.contains(G)&&!this.options.group.revertClone?ee.insertBefore(ne,G):te?ee.insertBefore(ne,te):ee.appendChild(ne),this.options.group.revertClone&&this.animate(G,ne),S(ne,"display",""),oe=!1}}else this._hideClone()}},Ce&&y(document,"touchmove",(function(e){(Ue.active||je)&&e.cancelable&&e.preventDefault()})),Ue.utils={on:y,off:b,css:S,find:P,is:function(e,t){return!!j(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},throttle:L,closest:j,toggleClass:x,clone:V,index:M,nextTick:We,cancelNextTick:Ke,detectDirection:Ne,getChild:I},Ue.get=function(e){return e[z]},Ue.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ue.utils=a({},Ue.utils,e.utils)),K.mount(e)}))},Ue.create=function(e,t){return new Ue(e,t)},Ue.version="1.10.2";var Je,Ye,Xe,Ge,Ze,Qe,et=[],tt=!1;function rt(){et.forEach((function(e){clearInterval(e.pid)})),et=[]}function nt(){clearInterval(Qe)}var ot,it=L((function(e,t,r,n){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=k(),u=!1;Ye!==r&&(Ye=r,rt(),Je=t.scroll,o=t.scrollFn,!0===Je&&(Je=R(r,!0)));var d=0,f=Je;do{var h=f,p=C(h),m=p.top,v=p.bottom,g=p.left,y=p.right,b=p.width,w=p.height,_=void 0,j=void 0,E=h.scrollWidth,O=h.scrollHeight,x=S(h),A=h.scrollLeft,P=h.scrollTop;h===c?(_=b<E&&("auto"===x.overflowX||"scroll"===x.overflowX||"visible"===x.overflowX),j=w<O&&("auto"===x.overflowY||"scroll"===x.overflowY||"visible"===x.overflowY)):(_=b<E&&("auto"===x.overflowX||"scroll"===x.overflowX),j=w<O&&("auto"===x.overflowY||"scroll"===x.overflowY));var T=_&&(Math.abs(y-i)<=a&&A+b<E)-(Math.abs(g-i)<=a&&!!A),I=j&&(Math.abs(v-s)<=a&&P+w<O)-(Math.abs(m-s)<=a&&!!P);if(!et[d])for(var D=0;D<=d;D++)et[D]||(et[D]={});et[d].vx==T&&et[d].vy==I&&et[d].el===h||(et[d].el=h,et[d].vx=T,et[d].vy=I,clearInterval(et[d].pid),0==T&&0==I||(u=!0,et[d].pid=setInterval(function(){n&&0===this.layer&&Ue.active._onTouchMove(Ze);var t=et[this.layer].vy?et[this.layer].vy*l:0,r=et[this.layer].vx?et[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Ue.dragged.parentNode[z],r,t,e,Ze,et[this.layer].el)||F(et[this.layer].el,r,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=R(f,!1)));tt=u}}),30),st=function(e){var t=e.originalEvent,r=e.putSortable,n=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=r||o;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:n,putSortable:r}))}};function at(){}function lt(){}function ct(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;ot=t},dragOverValid:function(e){var t=e.completed,r=e.target,n=e.onMove,o=e.activeSortable,i=e.changed,s=e.cancel;if(o.options.swap){var a=this.sortable.el,l=this.options;if(r&&r!==a){var c=ot;!1!==n(r)?(x(r,l.swapClass,!0),ot=r):ot=null,c&&c!==ot&&x(c,l.swapClass,!1)}i(),t(!0),s()}},drop:function(e){var t=e.activeSortable,r=e.putSortable,n=e.dragEl,o=r||this.sortable,i=this.options;ot&&x(ot,i.swapClass,!1),ot&&(i.swap||r&&r.options.swap)&&n!==ot&&(o.captureAnimationState(),o!==t&&t.captureAnimationState(),function(e,t){var r,n,o=e.parentNode,i=t.parentNode;if(!o||!i||o.isEqualNode(t)||i.isEqualNode(e))return;r=M(e),n=M(t),o.isEqualNode(i)&&r<n&&n++;o.insertBefore(t,o.children[r]),i.insertBefore(e,i.children[n])}(n,ot),o.animateAll(),o!==t&&t.animateAll())},nulling:function(){ot=null}},s(e,{pluginName:"swap",eventProperties:function(){return{swapItem:ot}}})}at.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var n=I(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:st},s(at,{pluginName:"revertOnSpill"}),lt.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:st},s(lt,{pluginName:"removeOnSpill"});var ut,dt,ft,ht,pt,mt=[],vt=[],gt=!1,yt=!1,bt=!1;function wt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?y(document,"pointerup",this._deselectMultiDrag):(y(document,"mouseup",this._deselectMultiDrag),y(document,"touchend",this._deselectMultiDrag)),y(document,"keydown",this._checkKeyDown),y(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,r){var n="";mt.length&&dt===e?mt.forEach((function(e,t){n+=(t?", ":"")+e.textContent})):n=r.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ft=t},delayEnded:function(){this.isMultiDrag=~mt.indexOf(ft)},setupClone:function(e){var t=e.sortable,r=e.cancel;if(this.isMultiDrag){for(var n=0;n<mt.length;n++)vt.push(V(mt[n])),vt[n].sortableIndex=mt[n].sortableIndex,vt[n].draggable=!1,vt[n].style["will-change"]="",x(vt[n],this.options.selectedClass,!1),mt[n]===ft&&x(vt[n],this.options.chosenClass,!1);t._hideClone(),r()}},clone:function(e){var t=e.sortable,r=e.rootEl,n=e.dispatchSortableEvent,o=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||mt.length&&dt===t&&(_t(!0,r),n("clone"),o()))},showClone:function(e){var t=e.cloneNowShown,r=e.rootEl,n=e.cancel;this.isMultiDrag&&(_t(!1,r),vt.forEach((function(e){S(e,"display","")})),t(),pt=!1,n())},hideClone:function(e){var t=this,r=(e.sortable,e.cloneNowHidden),n=e.cancel;this.isMultiDrag&&(vt.forEach((function(e){S(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),r(),pt=!0,n())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&dt&&dt.multiDrag._deselectMultiDrag(),mt.forEach((function(e){e.sortableIndex=M(e)})),mt=mt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,r=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){mt.forEach((function(e){e!==ft&&S(e,"position","absolute")}));var n=C(ft,!1,!0,!0);mt.forEach((function(e){e!==ft&&U(e,n)})),yt=!0,gt=!0}r.animateAll((function(){yt=!1,gt=!1,t.options.animation&&mt.forEach((function(e){B(e)})),t.options.sort&&jt()}))}},dragOver:function(e){var t=e.target,r=e.completed,n=e.cancel;yt&&~mt.indexOf(t)&&(r(!1),n())},revert:function(e){var t=e.fromSortable,r=e.rootEl,n=e.sortable,o=e.dragRect;mt.length>1&&(mt.forEach((function(e){n.addAnimationState({target:e,rect:yt?C(e):o}),B(e),e.fromRect=o,t.removeAnimationState(e)})),yt=!1,function(e,t){mt.forEach((function(r,n){var o=t.children[r.sortableIndex+(e?Number(n):0)];o?t.insertBefore(r,o):t.appendChild(r)}))}(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(e){var t=e.sortable,r=e.isOwner,n=e.insertion,o=e.activeSortable,i=e.parentEl,s=e.putSortable,a=this.options;if(n){if(r&&o._hideClone(),gt=!1,a.animation&&mt.length>1&&(yt||!r&&!o.options.sort&&!s)){var l=C(ft,!1,!0,!0);mt.forEach((function(e){e!==ft&&(U(e,l),i.appendChild(e))})),yt=!0}if(!r)if(yt||jt(),mt.length>1){var c=pt;o._showClone(t),o.options.animation&&!pt&&c&&vt.forEach((function(e){o.addAnimationState({target:e,rect:ht}),e.fromRect=ht,e.thisAnimationDuration=null}))}else o._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,r=e.isOwner,n=e.activeSortable;if(mt.forEach((function(e){e.thisAnimationDuration=null})),n.options.animation&&!r&&n.multiDrag.isMultiDrag){ht=s({},t);var o=A(ft,!0);ht.top-=o.f,ht.left-=o.e}},dragOverAnimationComplete:function(){yt&&(yt=!1,jt())},drop:function(e){var t=e.originalEvent,r=e.rootEl,n=e.parentEl,o=e.sortable,i=e.dispatchSortableEvent,s=e.oldIndex,a=e.putSortable,l=a||this.sortable;if(t){var c=this.options,u=n.children;if(!bt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),x(ft,c.selectedClass,!~mt.indexOf(ft)),~mt.indexOf(ft))mt.splice(mt.indexOf(ft),1),ut=null,J({sortable:o,rootEl:r,name:"deselect",targetEl:ft,originalEvt:t});else{if(mt.push(ft),J({sortable:o,rootEl:r,name:"select",targetEl:ft,originalEvt:t}),t.shiftKey&&ut&&o.el.contains(ut)){var d,f,h=M(ut),p=M(ft);if(~h&&~p&&h!==p)for(p>h?(f=h,d=p):(f=p,d=h+1);f<d;f++)~mt.indexOf(u[f])||(x(u[f],c.selectedClass,!0),mt.push(u[f]),J({sortable:o,rootEl:r,name:"select",targetEl:u[f],originalEvt:t}))}else ut=ft;dt=l}if(bt&&this.isMultiDrag){if((n[z].options.sort||n!==r)&&mt.length>1){var m=C(ft),v=M(ft,":not(."+this.options.selectedClass+")");if(!gt&&c.animation&&(ft.thisAnimationDuration=null),l.captureAnimationState(),!gt&&(c.animation&&(ft.fromRect=m,mt.forEach((function(e){if(e.thisAnimationDuration=null,e!==ft){var t=yt?C(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),jt(),mt.forEach((function(e){u[v]?n.insertBefore(e,u[v]):n.appendChild(e),v++})),s===M(ft))){var g=!1;mt.forEach((function(e){e.sortableIndex===M(e)||(g=!0)})),g&&i("update")}mt.forEach((function(e){B(e)})),l.animateAll()}dt=l}(r===n||a&&"clone"!==a.lastPutMode)&&vt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,vt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||dt!==this.sortable||e&&j(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;mt.length;){var t=mt[0];x(t,this.options.selectedClass,!1),mt.shift(),J({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},s(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[z];t&&t.options.multiDrag&&!~mt.indexOf(e)&&(dt&&dt!==t&&(dt.multiDrag._deselectMultiDrag(),dt=t),x(e,t.options.selectedClass,!0),mt.push(e))},deselect:function(e){var t=e.parentNode[z],r=mt.indexOf(e);t&&t.options.multiDrag&&~r&&(x(e,t.options.selectedClass,!1),mt.splice(r,1))}},eventProperties:function(){var e=this,t=[],r=[];return mt.forEach((function(n){var o;t.push({multiDragElement:n,index:n.sortableIndex}),o=yt&&n!==ft?-1:yt?M(n,":not(."+e.options.selectedClass+")"):M(n),r.push({multiDragElement:n,index:o})})),{items:c(mt),clones:[].concat(vt),oldIndicies:t,newIndicies:r}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function _t(e,t){vt.forEach((function(r,n){var o=t.children[r.sortableIndex+(e?Number(n):0)];o?t.insertBefore(r,o):t.appendChild(r)}))}function jt(){mt.forEach((function(e){e!==ft&&e.parentNode&&e.parentNode.removeChild(e)}))}Ue.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):this.options.supportPointer?y(document,"pointermove",this._handleFallbackAutoScroll):t.touches?y(document,"touchmove",this._handleFallbackAutoScroll):y(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),nt(),rt(),clearTimeout(E),E=void 0},nulling:function(){Ze=Ye=Je=tt=Qe=Xe=Ge=null,et.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var r=this,n=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(n,o);if(Ze=e,t||f||d||p){it(e,this.options,i,t);var s=R(i,!0);!tt||Qe&&n===Xe&&o===Ge||(Qe&&nt(),Qe=setInterval((function(){var i=R(document.elementFromPoint(n,o),!0);i!==s&&(s=i,rt()),it(e,r.options,i,t)}),10),Xe=n,Ge=o)}else{if(!this.options.bubbleScroll||R(i,!0)===k())return void rt();it(e,this.options,R(i,!1),!1)}}},s(e,{pluginName:"scroll",initializeByDefault:!0})}),Ue.mount(lt,at),t.default=Ue},"./node_modules/valid-url/index.js":function(e,t,r){(function(e){!function(e){"use strict";e.exports.is_uri=r,e.exports.is_http_uri=n,e.exports.is_https_uri=o,e.exports.is_web_uri=i,e.exports.isUri=r,e.exports.isHttpUri=n,e.exports.isHttpsUri=o,e.exports.isWebUri=i;var t=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function r(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var r,n,o,i,s,a="",l="";if(a=(r=t(e))[1],n=r[2],o=r[3],i=r[4],s=r[5],a&&a.length&&o.length>=0){if(n&&n.length){if(0!==o.length&&!/^\//.test(o))return}else if(/^\/\//.test(o))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(a.toLowerCase()))return l+=a+":",n&&n.length&&(l+="//"+n),l+=o,i&&i.length&&(l+="?"+i),s&&s.length&&(l+="#"+s),l}}}function n(e,n){if(r(e)){var o,i,s,a,l="",c="",u="",d="";if(l=(o=t(e))[1],c=o[2],i=o[3],s=o[4],a=o[5],l){if(n){if("https"!=l.toLowerCase())return}else if("http"!=l.toLowerCase())return;if(c)return/:(\d+)$/.test(c)&&(u=c.match(/:(\d+)$/)[0],c=c.replace(/:\d+$/,"")),d+=l+":",d+="//"+c,u&&(d+=u),d+=i,s&&s.length&&(d+="?"+s),a&&a.length&&(d+="#"+a),d}}}function o(e){return n(e,!0)}function i(e){return n(e)||o(e)}}(e)}).call(this,r("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/webpack/buildin/global.js":function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/Controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return T}));var n,o=r("./src/utils/createElement.ts"),i=r("./src/utils/addItem.ts"),s=r("./node_modules/json-schema-library/lib/addValidator.js"),a=r.n(s),l=r("./src/utils/createProxy.ts"),c=r("./src/services/dataservice/index.ts"),u=r("./node_modules/gson-pointer/index.js"),d=r.n(u),f=r("./src/utils/i18n.ts"),h=r("./src/services/InstanceService.ts"),p=r("./node_modules/json-schema-library/index.js"),m=r.n(p),v=r("./src/services/LocationService.ts"),g=r("./src/plugin/index.ts"),y=r("./src/services/SchemaService.ts"),b=r("./src/utils/selectEditor.ts"),w=r("./src/store/global.ts"),_=r("./src/store/index.ts"),j=r("./src/utils/UISchema.ts"),E=r("./src/services/ValidationService.ts"),O=r("./src/editors/oneofeditor/index.ts"),x=r("./src/editors/arrayeditor/index.ts"),S=r("./src/editors/objecteditor/index.ts"),A=r("./src/editors/valueeditor/index.ts"),P=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},k=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};const{JsonEditor:C}=m.a.cores;class T{constructor(e={type:"object"},t={},r={}){this.destroyed=!1,this.disabled=!1,this.plugins=[],n.set(this,void 0),e=j.default.extendSchema(e),this.options={editors:[...g.default.getEditors(),O.default,x.default,S.default,A.default],...r},this.editors=this.options.editors,this.store=new _.default,this.core=new C,P(this,n,Object(l.default)(this.options.proxy)),g.default.getValidators().forEach(([e,...t])=>{try{if("format"===e)return this.addFormatValidator(...t);if("keyword"===e)return this.addKeywordValidator(...t);throw new Error(`Unknown validation type '${e}'`)}catch(e){console.log("Error:",e.message)}return!1}),this.services={instances:new h.default(this),location:new v.default,data:new c.default(this.store),schema:new y.default(e,t,this.core),validation:new E.default(this.store,e,this.core)},this.service("data").watch(e=>{switch(e.type){case"data:update:container":this.services.instances.updateContainer(e.value.pointer,this,e.value.changes);break;case"data:update:after":{let{pointer:t}=e.value;this.service("schema").setData(this.service("data").get()),t.includes("/")&&(t=t.replace(/\/[^/]+$/,"")),setTimeout(()=>{const e=this.service("data").getDataByReference();!0!==this.destroyed&&this.service("validation").validate(e,t)});break}case"data:update:done":setTimeout(()=>this.notifyPlugins("onModifiedData",e.value))}}),this.setData(t),this.resetUndoRedo();const o=this;this.service("validation").setErrorHandler(e=>Object(f.translateError)(o,e)),this.validateAll(),Array.isArray(r.plugins)&&(this.plugins=r.plugins.map(e=>e.initialize(this)))}service(e){return this.services[e]}getPlugin(e){return this.plugins.find(t=>t.id===e)}notifyPlugins(e,...t){this.plugins.forEach(r=>{r[e]&&r[e](...t)})}addFormatValidator(e,t){a.a.format(this.core,e,t)}addKeywordValidator(e,t,r){a.a.keyword(this.core,e,t,r)}resetUndoRedo(){this.service("data").resetUndoRedo()}setActive(e=!0){const t=!1===e;this.disabled!==t&&(this.disabled=t,this.service("instances").setActive(!this.disabled))}isActive(){return!this.disabled}createElement(e,t){return Object(o.default)(e,t)}createEditor(e,t,r){if(function(e){if(null==e||"#"!==e[0])throw new Error("Invalid json(schema)-pointer: "+e)}(e),null==t)throw new Error(`Missing ${null==e?"pointer":"element"} in createEditor`);const n={pointer:e,disabled:this.disabled,...j.default.copyOptions(e,this),...r};n.attrs={...n.attrs};const o=Object(b.default)(this.editors,e,this,n);if(!1===o)return;if(void 0===o)return void(this.options.log&&console.warn("Could not resolve an editor for "+e,this.service("schema").get(e)));this.plugins.filter(e=>e.onEditorOptions).forEach(t=>t.onEditorOptions(e,n));const i=new o(e,this,n),s=i.getElement();return t.appendChild(s),this.services.instances.add(i),i.update({type:"active",value:!n.disabled}),this.plugins.filter(e=>e.onCreateEditor).forEach(t=>t.onCreateEditor(e,i,n)),i}destroyEditor(e){var t;if(!e)return;this.plugins.filter(e=>e.onDestroyEditor).forEach(t=>t.onDestroyEditor(e.getPointer(),e)),this.services.instances.remove(e);const r=e.getElement();null===(t=null==r?void 0:r.parentNode)||void 0===t||t.removeChild(r),e.destroy()}addItemTo(e,t=0){Object(i.default)(this.service("data"),this.service("schema"),this.services.location,e,t),this.services.location.focusInputElement(d.a.join(e,""+t,!0))}proxy(){return k(this,n)}setData(e,t){e=this.service("schema").addDefaultData(e),this.service("data").set("#",e,t)}getData(e="#"){return this.service("data").get(e)}setSchema(e){e=j.default.extendSchema(e),this.service("validation").set(e),this.service("schema").setSchema(e)}getSchema(e){return this.service("schema").get(e)}getStates(){return[this.store.getState(),Object(w.getState)()]}getParentEditor(e){let t=e.getElement();for(;null!==t.parentNode&&t.parentNode!==document.body;)if(t=t.parentNode,t.dataset.point)return this.service("instances").editorFromElement(t)}getRootEditor(e){let t=e.getElement(),r=t;for(;null!==t.parentNode&&t.parentNode!==document.body;)t=t.parentNode,t.dataset.point&&(r=t);return this.service("instances").editorFromElement(r)}validateAll(){setTimeout(()=>!0!==this.destroyed&&this.service("validation").validate(this.service("data").getDataByReference()))}destroy(){this.destroyed=!0,Object.keys(this.services).forEach(e=>this.services[e].destroy())}}n=new WeakMap},"./src/components/actions/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"renderAction",(function(){return s}));var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/index.ts");function s(e){return o()(i.Button,{class:e.classNames,disabled:e.disabled(),onclick:()=>e.action()},o()("i.mmf-icon",e.icon),e.title&&o()("span",e.title))}},"./src/components/container/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"CHILD_CONTAINER_SELECTOR",(function(){return c}));var n=r("mithril"),o=r.n(n),i=r("./src/components/header/index.ts"),s=r("./src/components/errors/index.ts"),a=r("./src/components/description/index.ts"),l=r("./src/components/actions/index.ts");const c=".ed-children";t.default={getChildContainer(e){const t=e.querySelector(c);if(null==t)throw new Error("Container-Component hast not yet been rendered");return t},view(e){const{hideTitle:t,insertAction:r}=e.attrs;return[!0===t?null:o()(i.default,e.attrs),o()(a.default,e.attrs),e.children,o()(s.default,e.attrs),o()(c),r&&o()(".ed-separator.mmf-row",Object(l.renderAction)(r))]}}},"./src/components/description/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./src/utils/populated.ts");t.default={view:e=>Object(i.default)(e.attrs.description,o()(".ed-description.mmf-meta",o.a.trust(e.attrs.description)))}},"./src/components/errors/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n);t.default={view:e=>!1===Array.isArray(e.attrs.errors)||0===e.attrs.errors.length?null:o()("ul.ed-errors",e.attrs.errors.map(e=>o()("li",{class:"is-"+(e.severity||"error")},e.message)))}},"./src/components/header/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./src/utils/populated.ts"),s=r("./src/components/actions/index.ts");function a(e,{title:t,icon:r,disabled:n}){let o=""+(t?"with-title":"no-title");return o+=" "+(e?"with-actions":"no-actions"),o+=" "+(r?"with-icon":"no-icon"),o+=n?" is-disabled":"",o}t.default={view(e){if(e.attrs.hideHeader)return;const t={icon:"",title:"",disabled:!1,...e.attrs},{actions:r}=t,n=(null==r?void 0:r.length)>0;return o()(".ed-header",{class:a(n,t)},o()(".ed-header__title",Object(i.default)(e.attrs.icon,o()("i.mmf-icon",t.icon)),!t.hideTitle&&o()("h2",t.title),e.children),(null==r?void 0:r.length)>0&&o()(".ed-header__actions",r.map(e=>Object(s.renderAction)(e))))}}},"./src/components/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/components/container/index.ts");r.d(t,"Container",(function(){return n.default}));var o=r("./src/components/description/index.ts");r.d(t,"ContainerDescription",(function(){return o.default}));var i=r("./src/components/errors/index.ts");r.d(t,"ContainerErrors",(function(){return i.default}));var s=r("./src/components/header/index.ts");r.d(t,"ContainerHeader",(function(){return s.default}));var a=r("./src/components/overlay/index.ts");r.d(t,"Overlay",(function(){return a.default}));var l=r("./src/components/overlayselecttiles/index.ts");r.d(t,"OverlaySelectTiles",(function(){return l.default}))},"./src/components/overlay/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/index.ts"),s=r("./src/utils/i18n.ts"),a=r("./src/utils/isEmpty.ts");t.default={view(e){const{header:t,container:r,fullscreen:n,abortButton:l,onAbort:c,onSave:u,confirmButton:d}=e.attrs;return o()("section.ed-overlay__card",{class:n?"ed-overlay__card--fullscreen":null},!Object(a.default)(t)&&o()(".ed-card__header",o()("h1",t)),o()(".ed-card__content",{oncreate:e=>e.dom.appendChild(r)}),o()(".ed-card__footer",l&&o()(i.Button,{onclick:c},Object(s.translate)(l)),d&&o()(i.Button,{onclick:u,raised:!0},Object(s.translate)(d))))}}},"./src/components/overlayselecttiles/Tile.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n);t.default={view:e=>o()(".ed-form-box",{"data-value":e.attrs.value,"data-type":e.attrs.title.toLowerCase()},o()(".ed-form-box__content",o()(".ed-form-box__title",[e.attrs.icon?o()(".mmf-icon",e.attrs.icon):"",e.attrs.title]),o()(".ed-form-box__description",e.attrs.description)))}},"./src/components/overlayselecttiles/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./src/components/overlayselecttiles/Tile.ts");const s=e=>{};t.default={view(e){const t={value:0,options:[{title:"Keine Optionen angegeben",value:-1}],onchange:s,...e.attrs};return o()(".ed-overlay-tiles",{onclick:e=>{const r=function(e){for(;e.parentNode&&null==e.getAttribute("data-value")&&!1===e.className.includes("ed-overlay-tiles");)e=e.parentNode;return e.getAttribute("data-value")}(e.target);null!=r&&t.onchange(r)}},t.options.map(e=>o()(i.default,{active:t.value===e.value,title:e.title,icon:e.icon,description:o.a.trust(e.description),value:e.value})))}}},"./src/editors/AbstractEditor.ts":function(e,t,r){"use strict";function n(e){return"array"===e.type||"object"===e.type?e.type:"value"}r.r(t),r.d(t,"getTypeClass",(function(){return n})),r.d(t,"default",(function(){return o}));class o{constructor(e,t,r){this.pointer=e,this.controller=t,this.options=r;const o=this.getSchema();this.dom=this.controller.createElement(".ed-"+n(o),r.attrs),o.format&&this.dom.classList.add(`ed-${n(o)}--${o.format}`)}static editorOf(e,t,r){throw new Error("Missing editorOf-method in custom editor")}update(e){throw new Error("Missing implementation of method 'update' in custom editor")}getData(){return this.controller.service("data").get(this.pointer)}setData(e){return this.controller.service("data").set(this.pointer,e)}getErrors(){return this.controller.service("validation").getErrorsAndWarnings(this.pointer)}getSchema(){return this.controller.service("schema").get(this.pointer)}getPointer(){return this.pointer}getElement(){return this.dom}focus(){this.controller.service("location").setCurrent(this.pointer)}blur(){this.controller.service("location").blur(this.pointer)}destroy(){throw new Error("Missing implementation of method 'destroy' in custom editor")}}},"./src/editors/AbstractValueEditor.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var n=r("mithril"),o=r.n(n);const i={boolean:e=>"true"===e||"false"!==e&&e,integer(e){const t=parseInt(e);return!1===isNaN(t)?t:e},number(e){const t=parseFloat(e);return!1===isNaN(t)?t:e}};class s{constructor(e,t,r){this.notifyNestedChanges=!1,this.controller=t,this.options=r,this.pointer=e,this.notifyNestedChanges=r.notifyNestedChanges||this.notifyNestedChanges;const n=t.service("schema").get(e);r={viewModel:null,title:null,description:null,editorValueType:n.enum?"select":n.type,editorElementProperties:null,...r},this.dom=t.createElement(".ed-value.ed-value--"+r.editorValueType,{...r.attrs}),n.format&&this.dom.classList.add(`.ed-${r.editorValueType}--${n.type}`),this.viewModel={pointer:e,title:r.title,description:r.description,value:t.service("data").get(e),instantUpdate:r.instantUpdate,schema:n,options:r,errors:t.service("validation").getErrorsAndWarnings(e),onfocus:()=>t.service("location").setCurrent(e),onblur:()=>t.service("location").blur(e),onchange:e=>this.setValue(i[n.type]?i[n.type](e):e),...r.viewModel}}static editorOf(e,t){const r=t.service("schema").get(e);return"object"!==r.type&&"array"!==r.type}update(e){if(null!=this.viewModel){switch(e.type){case"pointer":{const t=e.value;this.viewModel.pointer=t,this.viewModel.onfocus=()=>this.controller.service("location").setCurrent(t);break}case"data:update":this.viewModel.value=this.controller.service("data").get(this.getPointer()),this.viewModel.disabled=!this.controller.isActive();break;case"validation:errors":this.viewModel.errors=e.value;break;case"active":this.viewModel.disabled=!1===e.value,this.viewModel.options&&(this.viewModel.options.disabled=this.viewModel.disabled);break;default:console.log("unknown event type",e)}this.render()}else console.log("%c abort update VALUE","background: yellow;",e)}setValue(e){this.controller.service("data").set(this.getPointer(),e)}render(){o.a.render(this.dom,o()("b","Overwrite AbstractValueEditor.render() to generate view"))}getPointer(){return this.pointer}getElement(){return this.dom}destroy(){null!=this.viewModel&&(o.a.render(this.dom,o()("i")),this.viewModel=null,this.dom=null)}}},"./src/editors/arrayeditor/ArrayItem.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EditorTarget",(function(){return d})),r.d(t,"default",(function(){return f}));var n=r("./src/components/actions/index.ts"),o=r("./src/utils/array.ts"),i=r("./node_modules/gson-pointer/index.js"),s=r.n(i),a=r("./src/components/header/index.ts"),l=r("mithril"),c=r.n(l);const u={view(e){const{disabled:t,actions:r}=e.attrs;return c()(".ed-actions",{class:t?"is-disabled":"is-enabled"},c()("i.mmf-icon.interactive","more_vert"),c()("ul",null==r?void 0:r.map(e=>c()("li",Object(n.renderAction)(e)))))}},d=".ed-item";class f{constructor(e,t,r){this.$element=t.createElement(".ed-child",r.attrs),this.controller=t,this.passActions=!0===(null==r?void 0:r.passActions),this.viewModel={...r,insert:void 0,pointer:e,length:r.length,index:f.getIndex(e),actions:this.createActions(r)},(null==r?void 0:r.insert)&&(this.viewModel.insert={icon:"add",title:r.insertTitle,disabled:()=>r.disabled,action:this.add.bind(this)}),this.updatePointer(e),this.render();const n={hideTitle:!0===r.header};this.passActions&&(n.actions=this.viewModel.actions);const o=this.$element.querySelector(d);this.editor=t.createEditor(e,o,n)}createActions(e){const t=[],{move:r,remove:n,clone:o,add:i,minItems:s,maxItems:a,moveUpTitle:l,moveDownTitle:c,removeTitle:u,cloneTitle:d,addTitle:f}=e;return r&&(t.push({icon:"arrow_upward",title:l,disabled:()=>0===this.index,action:()=>this.move(this.index-1)}),t.push({icon:"arrow_downward",title:c,disabled:()=>this.index>=this.getLength()-1,action:()=>this.move(this.index+1)})),n&&t.push({icon:"delete",title:u,disabled:()=>this.getLength()<=s,action:()=>this.remove()}),o&&t.push({icon:"content_copy",title:d,disabled:()=>this.getLength()>=a,action:()=>this.clone()}),i&&t.push({icon:"add",title:f,disabled:()=>this.getLength()>=a,action:()=>this.add()}),t}add(){o.default.addItem(this.parentPointer,this.controller,this.index)}clone(){o.default.cloneItem(this.parentPointer,this.controller,this.index)}remove(){o.default.removeItem(this.parentPointer,this.controller,this.index)}move(e){o.default.moveItem(this.parentPointer,this.controller,this.index,e)}getLength(){return this.controller.service("data").get(this.parentPointer).length}disable(e=!1){this.viewModel.disabled!==e&&(this.viewModel.disabled=e,this.render())}updatePointer(e){var t;this.index=f.getIndex(e),this.parentPointer=s.a.join(e,"..",!0),this.viewModel.index=f.getIndex(e),this.viewModel.pointer=e,this.viewModel.length=this.getLength(),this.render(),this.passActions&&(null===(t=this.editor)||void 0===t?void 0:t.render)&&this.editor.render()}getElement(){return this.$element}getPointer(){return this.viewModel.pointer}destroy(){null!=this.viewModel&&(this.viewModel=null,this.controller.destroyEditor(this.editor),this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element))}render(){const{showIndex:e,title:t,length:r,disabled:o,insert:i,header:s,actions:l}=this.viewModel;c.a.render(this.$element,[c()(".ed-separator.mmf-row",i&&Object(n.renderAction)(i)),s&&c()(a.default,{title:t,actions:l}),c()(u,{disabled:o,actions:l}),c()(d,{"data-index":`${this.index+1} / ${r}`,class:[o?"is-disabled":"",e?"with-index":""].join(" ").trim()})])}static getIndex(e){const t=s.a.join(e,"..");return parseInt(e.replace(t+"/",""))}}},"./src/editors/arrayeditor/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultOptions",(function(){return d})),r.d(t,"default",(function(){return f}));var n=r("./src/editors/arrayeditor/ArrayItem.ts"),o=r("./src/services/utils/diffpatch.ts"),i=r("mithril"),s=r.n(i),a=r("./src/components/container/index.ts"),l=r("./src/editors/AbstractEditor.ts"),c=r("./src/utils/array.ts"),u=r("./src/utils/i18n.ts");const d={add:!0,addTitle:"add",clone:!0,insert:!1,insertTitle:"insert",move:!0,remove:!0,showIndex:!1,header:!1,passActions:!1};class f extends l.default{constructor(e,t,r){super(e,t,r),this.children=[],this.dom.classList.add("with-insert-button");const n=this.getSchema();this.childOptions={...d,moveUpTitle:Object(u.translate)("array:button:moveup"),moveDownTitle:Object(u.translate)("array:button:movedown"),removeTitle:Object(u.translate)("array:button:remove"),cloneTitle:Object(u.translate)("array:button:clone"),...r,attrs:void 0,...null==r?void 0:r.array,length:this.getLength(),disabled:!1,maxItems:n.maxItems||1/0,minItems:n.minItems||0},this.viewModel={attrs:{},disabled:!0===r.disabled,errors:t.service("validation").getErrorsAndWarnings(e),pointer:e,actions:[],insertAction:{icon:"add",title:this.childOptions.addTitle,disabled:()=>this.getLength()<n.maxItems,action:()=>c.default.addItem(this.pointer,this.controller,this.getLength())},...r},this.render(),this.$items=this.dom.querySelector(a.CHILD_CONTAINER_SELECTOR),this.rebuildChildren()}static editorOf(e,t){return"array"===t.service("schema").get(e).type}createArrayItem(e){return new n.default(`${this.pointer}/${e}`,this.controller,{title:""+e,...this.childOptions})}getLength(){return this.getData().length}update(e){if(null!=this.viewModel){switch(e.type){case"data:update":this.applyPatches(e.value.patch),this.childOptions.length=this.getLength();break;case"validation:errors":this.viewModel.errors=e.value;break;case"pointer":this.viewModel.pointer=e.value,this.children.forEach((t,r)=>t.updatePointer(`${e.value}/${r}`));break;case"active":{const t=!1===e.value;this.childOptions.disabled=t,this.children.forEach(e=>e.disable(t));break}}this.render()}else console.log("%c abort update ARRAY","background: yellow;",e)}applyPatches(e){const{pointer:t,controller:r,children:i,$items:s}=this,a=Array.from(i);o.default.patch(i,e),i.forEach((e,t)=>{if(e instanceof n.default==!1){const e=this.createArrayItem(t);i[t]=e}}),a.forEach(e=>{-1===i.indexOf(e)&&e.destroy()});const l=r.service("location").getCurrent(),c={};for(let e=0,n=i.length;e<n;e+=1){const n=i[e].getPointer(),o=`${t}/${e}`;if(0===l.indexOf(n)){const e=l.replace(n,o);r.service("location").setCurrent(e)}n!==o&&(c[n]=o),i[e].updatePointer(o),s.children[e]!==i[e].getElement()&&(e+1<s.children.length?s.insertBefore(i[e].getElement(),s.children[e+1]):s.appendChild(i[e].getElement()))}}rebuildChildren(){const{children:e,$items:t}=this,r=this.getData();e.forEach(e=>e.destroy()),e.length=0,t.innerHTML="",r.forEach((r,n)=>{const o=this.createArrayItem(n);t.appendChild(o.getElement()),e.push(o)})}render(){s.a.render(this.dom,s()(a.default,this.viewModel))}destroy(){null!=this.viewModel&&(this.children.forEach(e=>e.destroy()),this.viewModel=null,s.a.render(this.dom,s()("i")))}}},"./src/editors/objecteditor/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/textareaform/index.ts"),s=r("./src/services/OverlayService.ts"),a=r("./src/components/container/index.ts"),l=r("./src/editors/AbstractEditor.ts");class c extends l.default{constructor(e,t,r){var n,o;if(super(e,t,r),this.childEditors=[],this.viewModel={pointer:e,errors:[],...r,attrs:r.attrs||{},actions:[...r.actions||[]]},(null===(n=r.object)||void 0===n?void 0:n.delete)&&this.viewModel.actions.push({icon:"delete",classNames:"ed-action--delete",disabled:()=>this.viewModel.disabled,action:this.deleteObject.bind(this)}),this.childOptions={},r.theme&&(this.childOptions.theme=r.theme),null!=(null===(o=r.object)||void 0===o?void 0:o.collapsed)){this.dom.classList.add("is-collapsible"),this.dom.classList.toggle("is-collapsed",!0===this.viewModel.collapsed);const e="visibility_off",t="visibility",r={icon:this.viewModel.collapsed?e:t,classNames:"ed-action--collapse",disabled:()=>this.viewModel.disabled,action:()=>{this.viewModel.collapsed=!this.viewModel.collapsed,r.icon=this.viewModel.collapsed?e:t,this.dom.classList.toggle("is-collapsed",!0===this.viewModel.collapsed),this.render()}};this.viewModel.actions.push(r)}this.render(),this.$children=this.dom.querySelector(a.CHILD_CONTAINER_SELECTOR),this.update({type:"data:update",value:null})}static editorOf(e,t){return"object"===t.service("schema").get(e).type}update(e){if(null!=this.viewModel){switch(e.type){case"data:update":{const{pointer:e,controller:t,childEditors:r,$children:n}=this,o=this.getData();if(r.forEach(e=>t.destroyEditor(e)),r.length=0,n.innerHTML="",null==o)break;Object.keys(o).forEach(o=>r.push(t.createEditor(`${e}/${o}`,n,this.childOptions)));break}case"validation:errors":this.viewModel.errors=e.value.map(e=>{if("no-additional-properties-error"!==e.code)return e;const t=e.message,r=e.data.property;return{severity:e.type||"error",message:o()(".ed-error.ed-error--object-property",o()("span",o.a.trust(t)),o()("a.mmf-icon.interactive",{onclick:()=>this.showProperty(r)},"visibility"),o()("a.mmf-icon.interactive",{onclick:()=>this.deleteProperty(r)},"clear"))}});break;case"pointer":this.viewModel.pointer=e.value;break;case"active":this.viewModel.disabled=!e.value}this.render()}else console.log("%c abort update OBJECT","background: yellow;",e)}deleteObject(){this.controller.service("data").delete(this.pointer)}deleteProperty(e){this.controller.service("data").delete(`${this.pointer}/${e}`)}showProperty(e){const t=this.controller.service("data").get(`${this.pointer}/${e}`);!function(e,t,r){const n=e.createElement(".overlay__item.overlay__item--json");s.default.open(n,{confirmButton:"ok"}),o.a.render(n,o()(i.default,{title:r,value:JSON.stringify(t,null,4)}))}(this.controller,t,e)}render(){o.a.render(this.dom,o()(a.default,this.viewModel))}destroy(){null!=this.viewModel&&(o.a.render(this.dom,o()("i")),this.childEditors.forEach(e=>this.controller.destroyEditor(e)),this.childEditors.length=0,this.$children.innerHTML="",this.viewModel=null)}}},"./src/editors/oneofeditor/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/selectform/index.ts"),s=r("./src/components/container/index.ts"),a=r("./src/editors/AbstractEditor.ts"),l=r("./src/utils/UISchema.ts");class c extends a.default{constructor(e,t,r){super(e,t,r),this.notifyNestedChanges=!0,this.dom.classList.add(`ed-${Object(a.getTypeClass)(this.getSchema())}--oneof`);const n=this.getSchema(),o=n.oneOfSchema;o.oneOf.forEach((e,t)=>e.title=e.title||t+".");const i=Object(l.getEditronOptions)(o)||{};console.log("options",i),this.schema=o,this.childSchema=n,this.viewModel={pointer:e,title:o.title,description:o.description},this.selectModel={...i,id:e,description:void 0,options:o.oneOf.map((e,t)=>({title:e.title,value:t})),onchange:e=>this.changeChild(o.oneOf[e]),value:this.getIndexOf(n)},this.render(),this.$childContainer=this.dom.querySelector(s.CHILD_CONTAINER_SELECTOR),this.rebuild(),this.render()}static editorOf(e,t,r){const n=t.service("schema").get(e);return n.oneOfSchema&&!n.items&&!r.renderOneOf}changeChild(e){this.controller.destroyEditor(this.childEditor);const t=this.controller.service("schema").getTemplate(e);this.controller.service("data").set(this.pointer,t)}getIndexOf(e){for(let t=0,r=this.schema.oneOf.length;t<r;t+=1)if(this.schema.oneOf[t].title===e.title)return t;return 0}update(e){switch(e.type){case"data:update":{const e=this.getSchema();if(delete e.oneOfSchema,e.title===this.childSchema.title)return;this.selectModel.value=this.getIndexOf(e),this.childSchema=e,this.rebuild();break}case"pointer":this.viewModel.pointer=e.value,this.selectModel.id=e.value;break;case"active":this.viewModel.disabled=!1===e.value,this.selectModel.disabled=!1===e.value}this.render()}rebuild(){this.controller.destroyEditor(this.childEditor),this.$childContainer.innerHTML="",this.childEditor=this.controller.createEditor(this.pointer,this.$childContainer,{renderOneOf:!0})}render(){o.a.render(this.dom,o()(s.default,this.viewModel,o()(".ed-value.ed-value--oneof",o()(i.default,this.selectModel))))}destroy(){null!=this.viewModel&&(this.viewModel=null,o.a.render(this.dom,"i"),this.controller.destroyEditor(this.childEditor),this.controller.service("data").removeObserver(this.pointer,this.update))}}},"./src/editors/valueeditor/View.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./node_modules/mithril-material-forms/components/checkboxform/index.ts"),s=r("./node_modules/mithril-material-forms/components/switchform/index.ts"),a=r("./node_modules/mithril-material-forms/components/selectform/index.ts"),l=r("./node_modules/mithril-material-forms/components/textareaform/index.ts"),c=r("./node_modules/mithril-material-forms/components/inputform/index.ts"),u=r("./src/utils/UISchema.ts");const d={string:"text",integer:"number",number:"number"};function f(e){return d[e.type]||"text"}const h={view(e){const{schema:t,options:r={},onblur:n,onfocus:d,onchange:h,errors:p,value:m,pointer:v}=e.attrs;if(t.enum&&t.enum.length>0){const i={id:v,title:r.title,description:r.description,disabled:r.disabled,theme:r.theme,errors:p,invertOrder:r.invertOrder,value:m,options:u.default.enumOptions(t),onchange:h,onblur:n,onfocus:d};return o()(a.default,i,e.children)}if("boolean"===t.type&&"switch"===t.format){const t={id:v,title:r.title,description:r.description,disabled:r.disabled,theme:r.theme,errors:p,value:m,onchange:h,onblur:n,onfocus:d};return o()(s.default,t,e.children)}if("boolean"===t.type){const t={id:v,title:r.title,description:r.description,disabled:r.disabled,theme:r.theme,errors:p,value:m,onchange:h,onblur:n,onfocus:d};return o()(i.default,t,e.children)}if("string"===t.type&&"html"===t.format){const t={id:v,title:r.title,description:r.description,placeholder:r.placeholder,disabled:r.disabled,theme:r.theme,errors:p,value:m,onchange:h,onblur:n,onfocus:d};return o()(l.default,t,e.children)}if("string"===t.type&&"textarea"===t.format){const t={id:v,title:r.title,description:r.description,placeholder:r.placeholder,disabled:r.disabled,theme:r.theme,errors:p,rows:r["textarea:rows"]||1,value:m,onchange:h,onblur:n,onfocus:d};return o()(l.default,t,e.children)}const g={id:v,title:r.title,description:r.description,placeholder:r.placeholder,disabled:r.disabled,theme:r.theme,errors:p,instantUpdate:r.instantUpdate,type:f(t),value:m,onchange:h,onblur:n,onfocus:d};return o()(c.default,g,e.children)}};t.default=h},"./src/editors/valueeditor/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r("mithril"),o=r.n(n),i=r("./src/editors/valueeditor/View.ts"),s=r("./src/editors/AbstractValueEditor.ts");class a extends s.default{static editorOf(e,t){const r=t.service("schema").get(e);return"object"!==r.type&&"array"!==r.type}constructor(e,t,r){super(e,t,r),this.render()}render(){o.a.render(this.dom,o()(i.default,this.viewModel))}}},"./src/plugin/delegationplugin/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"DelegationTarget",(function(){return n})),r.d(t,"default",(function(){return d}));var n,o=r("mithril"),i=r.n(o),s=r("./src/editors/AbstractEditor.ts"),a=r("./node_modules/mithril-material-forms/index.ts"),l=r("./src/services/OverlayService.ts"),c=r("./src/utils/i18n.ts");class u extends s.default{constructor(e,t,r){r.isDelegated=!0,super(e,t,r),this.render()}static editorOf(e,t,r){return null!=r.delegate&&!0!==r.isDelegated}update(e){console.log("update delegation pliugin",e)}delegate(e,t){throw new Error("notify has not been implemented in 'DelegationEditor'")}render(){var e;i.a.render(this.dom,i()(".editron-delegate.editron-delegate--"+this.getSchema().type,i()(a.Button,{onclick:()=>this.delegate(this.pointer,this.options)},Object(c.translate)((null===(e=this.options.delegate)||void 0===e?void 0:e.buttonText)||"open"))))}destroy(){i.a.render(this.dom,i()("o"))}}!function(e){e.Overlay="overlay"}(n||(n={}));class d{constructor(e={}){this.id="delegation-plugin",this.onDelegation=e.onDelegation||this.onDelegation,this.dom=document.createElement("div")}initialize(e){this.controller=e;class t extends u{}return t.prototype.delegate=this.delegate.bind(this),this.controller.editors.unshift(t),this}delegateToOverlay(e){return l.default.open(e.getElement(),{abortButton:!1}).then(()=>this.controller.destroyEditor(e))}delegate(e,t){var r;this.current&&this.controller.destroyEditor(this.current),this.current=this.controller.createEditor(e,this.dom,{isDelegated:!0}),(null===(r=null==t?void 0:t.delegate)||void 0===r?void 0:r.delegateTo)!==n.Overlay?this.onDelegation&&this.onDelegation({controller:this.controller,pointer:e,editor:this.current}):this.delegateToOverlay(this.current)}}},"./src/plugin/index.ts":function(e,t,r){"use strict";r.r(t);const n=[],o=[];t.default={editor(e){console.log("register editor "+e.name),n.push(e)},validator(e,t,r){o.push(["format",t,r])},keywordValidator(e,t,r){o.push(["keyword",e,t,r])},getEditors:()=>n,getValidators:()=>o}},"./src/plugin/remotedataplugin/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultOptions",(function(){return c})),r.d(t,"default",(function(){return u}));var n=r("./node_modules/gson-pointer/index.js"),o=r.n(n),i=r("./node_modules/json-schema-library/lib/utils/render.js"),s=r.n(i),a=r("./src/utils/isEmpty.ts"),l=r("./src/utils/UISchema.ts");const c={overwrite:!1,proxyMethod:"json",addToHistory:!1};class u{constructor(){this.id="remote-data-plugin",this.remotes={}}initialize(e){return this.controller=e,this.onModifiedData([{type:"add",pointer:"#"}]),this}onModifiedData(e){e.forEach(e=>{if("add"===e.type){const t=this.controller.service("schema").get(e.pointer),r=Object(l.getEditronOptions)(t);(null==r?void 0:r.remoteData)&&this.createLink(e.pointer,null==r?void 0:r.remoteData)}else"delete"===e.type&&this.remotes[e.pointer]&&this.destroyLink(e.pointer)})}createLink(e,t){const r={...c,...t};if(null==r.requestParam||"string"!=typeof r.requestParam)return void console.warn("editron remote-data-plugin: Expected option 'requestParam' to be a string. Given: "+r.requestParam);if(null==r.requestParamValues||"string"!=typeof r.requestParamValues)return void console.warn("editron remote-data-plugin: Expected option 'requestParamValues' to be a string. Given: "+r.requestParamValues);if(null==r.responseMapping||"object"!=typeof r.responseMapping)return void console.warn("editron remote-data-plugin: Expected option 'responseMapping' to be an object. Given: "+r.responseMapping);const{controller:n}=this,i=o.a.join(e,r.requestParamValues),s=async()=>this.setRemoteData(e,r);n.service("data").observe(i,s,!0),this.setRemoteData(e,r),this.remotes[e]={options:r,removeObserver:()=>{n.service("data").removeObserver(i,s)}}}destroyLink(e){this.remotes[e]&&(this.remotes[e].removeObserver(),this.remotes[e]=null)}async setRemoteData(e,t){const{controller:r}=this,n=r.service("data").getDataByReference(),i=o.a.join(e,t.requestParamValues);let l=r.service("data").get(i);if(null==l||""===l)return;"object"!=typeof l&&(l={[i.split("/").pop()]:l});const c=s()(t.requestParam,l),u=await r.proxy().get(t.proxyMethod,{source:c});Object.keys(t.responseMapping).forEach(i=>{const s=o.a.join(e,t.responseMapping[i]),l=o.a.get(n,s);if(!0!==t.overwrite&&!Object(a.default)(l))return;const c=o.a.get(u,i);r.service("data").set(s,c,{addToHistory:t.addToHistory})})}}},"./src/plugin/selectionplugin/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));class n{constructor(e){this.id="selection-plugin",this.dom=document.createElement("div"),this.onSelect=e.onSelect,this.onDeselect=e.onDeselect}initialize(e){return this.controller=e,document.body.addEventListener("click",()=>this.deselect()),this}deselect(){if(this.currentSelection){const e=this.currentSelection;e.getElement().classList.remove("selected"),this.onDeselect({pointer:e.getPointer(),editor:e,options:e.__selectionPlugin.options}),this.currentSelection=null}}select(e,t){e.stopPropagation(),this.currentSelection!==t&&(this.deselect(),this.currentSelection=t,this.currentSelection.getElement().classList.add("selected"),this.onSelect({pointer:t.getPointer(),editor:t,options:t.__selectionPlugin.options}))}onCreateEditor(e,t,r){r&&r.selectable&&(t.__selectionPlugin={options:r,select:e=>this.select(e,t)},t.getElement().addEventListener("click",t.__selectionPlugin.select))}onDestroyEditor(e,t){t.__selectionPlugin&&(t.getElement().removeEventListener("click",t.__selectionPlugin.select),t.__selectionPlugin=void 0,this.currentSelection===t&&(this.currentSelection=null))}}},"./src/plugin/sortableplugin/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"onAddSortable",(function(){return l})),r.d(t,"onEndSortable",(function(){return c})),r.d(t,"default",(function(){return u}));var n=r("./src/components/container/index.ts"),o=r("./node_modules/sortablejs/modular/sortable.esm.js");r.d(t,"Sortable",(function(){return o.default}));var i=r("./src/utils/array.ts"),s=r("./node_modules/gson-pointer/index.js"),a=r.n(s);function l(e,t,r){const{from:n,newIndex:o,item:i}=r,s=t.service("schema").get(e);if(i.parentNode.removeChild(i),null==n.dataset.parent){let r;console.log("Add -- create new child from data-property");try{r=JSON.parse(i.dataset.content),r=t.service("schema").core.getTemplate([r],s)[0]}catch(e){return void console.log("abort - drag element requires attribute 'data-content' with a valid json-string")}const n=t.service("data").get(e);n.splice(o,0,r),t.service("data").set(e,n)}}function c(e,t,r){const{to:n,from:o,oldIndex:s,newIndex:l}=r;if(n===o&&s===l)return void console.log("drag had no effect");const c=n.dataset.parent,u=o.dataset.parent;if(n===o||null!=c&&c===u)return s===l&&n!==o?void o.insertBefore(r.item,o.childNodes[s]):void i.default.moveItem(e,t,s,l);if(n!==o){if(null==c)return void console.log("undefined `toPointer` on",n);if(null==u)return void console.log("undefined `fromPointer` on",o);const e=t.service("data").get(c),r=t.service("data").get(u);e.splice(l,0,r[s]),r.splice(s,1);const i=t.service("data").get();a.a.set(i,u,r),a.a.set(i,c,e),t.service("data").set("#",i)}}class u{constructor(){this.id="sortable-plugin"}initialize(e){return this.controller=e,this}onCreateEditor(e,t,r){var i,s;const a=null==r?void 0:r.sortable;if(null==a)return;const{controller:u}=this;if("array"!==(null===(i=u.getSchema(e))||void 0===i?void 0:i.type))return;const d=t.getElement().querySelector(n.CHILD_CONTAINER_SELECTOR);if(null==d)return void console.log(`sortable plugin - children-container with '${n.CHILD_CONTAINER_SELECTOR}' not found`);let f;d.dataset.parent=e;const h=new o.default(d,{group:null!==(s=a.group)&&void 0!==s?s:e,handle:a.handle,onStart:()=>f=!0,onUnchoose:t=>{const{to:r,from:n,oldIndex:o,newIndex:i}=t;!1===f&&r===n&&null==i&&u.service("location").setCurrent(`${e}/${o}`),f=!1},onAdd:t=>l(e,u,t),onEnd:t=>c(e,u,t)});t.__sortablePlugin={options:a,$children:d,sortable:h}}onChangePointer(e,t,r){if(r.__sortablePlugin){const n=r.__sortablePlugin.options;this.onDestroyEditor(e,r),this.onCreateEditor(t,r,{sortable:n})}}onDestroyEditor(e,t){t.__sortablePlugin&&(t.__sortablePlugin.sortable.destroy(),t.__sortablePlugin.$children.dataset.parent=null,t.__sortablePlugin=void 0)}}},"./src/plugin/syncplugin/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r("./node_modules/gson-pointer/index.js"),o=r.n(n),i=r("./src/utils/isEmpty.ts"),s=r("./src/utils/UISchema.ts");class a{constructor(){this.id="sync-plugin",this.hooks={}}initialize(e){return this.controller=e,this.onModifiedData([{type:"add",pointer:"#"}]),this}copyData(e,t,r){const{mappingFromTo:n,addToHistory:s}=t,{controller:a}=this,l=Object.keys(n),c=a.getData();l.forEach(t=>{const s=o.a.join(e,t),a=o.a.get(c,s),l=o.a.join(e,n[t]),u=o.a.get(c,l);(r[s]===u||Object(i.default)(u))&&(r[s]=a,o.a.set(c,l,a))}),a.setData(c,{addToHistory:s})}onModifiedData(e){e.forEach(e=>{if("add"===e.type){const t=this.controller.service("schema").get(e.pointer),r=Object(s.getEditronOptions)(t);(null==r?void 0:r.sync)&&this.startSync(e.pointer,r.sync)}else"delete"===e.type&&this.hooks[e.pointer]&&this.stopSync(e.pointer)})}startSync(e,t){if(null==t)return;if(null==t.mappingFromTo||"object"!=typeof t.mappingFromTo)return void console.warn("editron sync-plugin: expected property 'mappingFromTo' in sync-plugin options. Given: "+t.mappingFromTo);const{controller:r}=this,n=Object.keys(t.mappingFromTo).map(t=>o.a.join(e,t)),i={},s=r.getData(),a=[];n.forEach(n=>{i[n]=o.a.get(s,n);const l=()=>this.copyData(e,t,i);r.service("data").observe(n,l,!0),a.push([n,l])}),this.copyData(e,t,i),this.hooks[e]={removeObservers:()=>a.forEach(([e,t])=>r.service("data").removeObserver(e,t)),options:t}}stopSync(e){var t;null===(t=this.hooks[e])||void 0===t||t.removeObservers(),this.hooks[e]=void 0}}},"./src/services/InstanceService.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r("./src/services/dataservice/change.ts");class o{constructor(e){this.instances=[],this.controller=e}add(e){const t=e.getPointer();e.getElement().setAttribute("data-point",t),e.update=e.update.bind(e),e.pointer=t,this.controller.service("data").observe(t,e.update,e.notifyNestedChanges),this.controller.service("validation").observe(t,e.update,e.notifyNestedErrors),this.instances.push(e)}findFrom(e){return this.instances.filter(t=>t.getPointer().startsWith(e))}editorFromElement(e){return this.instances.find(t=>t.dom===e)}find(e){return this.instances.filter(e)}remove(e){this.controller.service("data").removeObserver(e.pointer,e.update),this.controller.service("validation").removeObserver(e.pointer,e.update),this.instances=this.instances.filter(t=>t!==e)}updateContainer(e,t,r){const o=[];for(let e=0,i=r.length;e<i;e+=1){const i=r[e];Object(n.isMoveChange)(i)?o.push({...i,editors:this.findFrom(i.pointer)}):Object(n.isDeleteChange)(i)&&this.findFrom(i.pointer).forEach(e=>t.destroyEditor(e))}o.forEach(e=>{const{pointer:r,to:n,editors:o}=e;o.forEach(e=>{const o=e.pointer,i=e.getPointer().replace(r,n);this.controller.service("data").removeObserver(e.pointer,e.update).observe(i,e.update,e.notifyNestedChanges),this.controller.service("validation").removeObserver(e.pointer,e.update).observe(i,e.update,e.notifyNestedChanges),e.pointer=i,e.update({type:"pointer",value:i}),e.pointer=i,e.getElement().setAttribute("data-point",i),t.plugins.forEach(t=>{t.onChangePointer&&t.onChangePointer(o,i,e)})})})}setActive(e){this.instances.forEach(t=>t.update({type:"active",value:e}))}destroy(){this.instances.forEach(e=>e.destroy()),this.instances.length=0}getInstancesPerPointer(){const e={};return this.instances.forEach(t=>{const r=t.getPointer();e[r]=e[r]||[],!1===e[r].includes(t)?e[r].push(t):console.log("multiple instances on",t.getPointer(),t)}),e}}},"./src/services/LocationService.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultOptions",(function(){return s})),r.d(t,"default",(function(){return a}));var n=r("./node_modules/gson-pointer/index.js"),o=r.n(n),i=r("./src/store/global.ts");const s={rootElement:document.body,scrollTopOffset:0,pagePattern:"(^#?/[^/]+)"};class a{constructor(e={}){this.PAGE_EVENT="page",this.TARGET_EVENT="target",this.watcher=[],this.options={...s,...e},this.setCurrent(""),Object(i.watch)(e=>{if("global"===e.type&&"ui"===e.value.modelId){const{changes:t}=e.value;t.currentPage&&this.notifyWatcher({type:"location:page",value:t.currentPage}),t.currentPointer&&this.notifyWatcher({type:"location:target",value:t.currentPointer})}})}goto(e,t=this.options.rootElement){const r=e.match(new RegExp(this.options.pagePattern));if(!r)return;console.log("goto",e);const n=r.pop(),{currentPage:s}=Object(i.getState)().ui;s!==n&&i.dispatch.ui.setCurrentPage(o.a.join(n,!0)),i.dispatch.ui.setCurrentPointer(o.a.join(e,!0)),this.focus(t)}setCurrent(e){e!==this.getCurrent()&&(i.dispatch.ui.setCurrentPointer(e),this.notifyWatcher({type:"focus",value:e}))}getCurrent(){return Object(i.getState)().ui.currentPointer}focusInputElement(e,t=this.options.rootElement){const r=t.querySelector(`[data-id="${e}"]`);r&&(r.dispatchEvent(new Event("focus")),r.focus&&r.focus())}focus(e=this.options.rootElement){clearTimeout(this.timeout);const t=Object(i.getState)().ui.currentPointer,r=e.querySelector(`[data-point="${t}"]`);null!=r?this.timeout=setTimeout(()=>{const{scrollTopOffset:n}=this.options,o=r.getBoundingClientRect(),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);o.top<n||o.bottom>i?window.scrollTo(0,o.top+n):console.log("skip scrolling - already in viewport",i,o.top),this.focusInputElement(t,e),this.timeout=null},25):console.log(`Location:focus - target ${t} not found`)}blur(e){Object(i.getState)().ui.currentPointer===e&&(i.dispatch.ui.setCurrentPage(""),this.notifyWatcher({type:"blur",value:e}))}watch(e){return!1===this.watcher.includes(e)&&this.watcher.push(e),this}notifyWatcher(e){return this.watcher.forEach(t=>t(e)),this}removeWatcher(e){return this.watcher=this.watcher.filter(t=>t!==e),this}}},"./src/services/OverlayService.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultOptions",(function(){return l})),r.d(t,"OverlayAction",(function(){return c}));var n=r("mithril"),o=r.n(n),i=r("./src/components/overlay/index.ts"),s=r("./src/utils/createElement.ts"),a=r("./src/store/global.ts");const l={abortButton:"cancel",confirmButton:"ok",fullscreen:!1,onSave:()=>u.close(c.Confirm),onAbort:()=>u.close(c.Abort)};var c;!function(e){e[e.Abort=0]="Abort",e[e.Close=1]="Close",e[e.Confirm=2]="Confirm"}(c||(c={}));const u={$element:void 0,resolve:void 0,open(e,t){u.removePanel();const r=u.getElement();return e.classList.add("ed-overlay__item"),u.render(e,{...l,...t}),document.body.appendChild(r),a.dispatch.ui.showOverlay(!0),new Promise(e=>u.resolve=e)},close(e=c.Close){u.removePanel(e),u.removeOverlay()},removePanel(e=c.Close){u.resolve&&(u.resolve(e),u.resolve=void 0,o.a.render(u.getElement(),o()("i")))},removeOverlay(){a.dispatch.ui.showOverlay(!1);const e=u.getElement();e.parentNode&&e.parentNode.removeChild(e)},getElement:()=>(null==u.$element&&(u.$element=Object(s.default)(".ed-overlay"),u.$element.addEventListener("click",e=>{e.target===u.$element&&u.close()})),u.$element),render(e,t){o.a.render(u.getElement(),o()(i.default,{container:e,onremove:()=>u.close(),...t}))}};Object(a.watch)(e=>{var t,r;!1===(null===(r=null===(t=e.value)||void 0===t?void 0:t.changes)||void 0===r?void 0:r.overlayIsVisible)&&u.close()}),t.default=u},"./src/services/SchemaService.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r("./src/services/utils/copy.ts"),o=r("./node_modules/json-schema-library/index.js"),i=r.n(o);const{getChildSchemaSelection:s}=i.a,{JsonEditor:a}=i.a.cores;class l{constructor(e={type:"object"},t={},r=new a){this.cache={},this.core=r,this.setSchema(e),this.setData(t)}addDefaultData(e=this.data,t=this.schema){return this.core.getTemplate(e,t)}getTemplate(e){return this.core.getTemplate(void 0,e)}getChildSchemaSelection(e,t){const r=this.get(e);return s(this.core,t,r)}setData(e){this.data=this.addDefaultData(e),this.resetCache()}setSchema(e){this.core.setSchema(e),this.schema=this.core.getSchema(),this.resetCache()}resetCache(){this.cache={}}get(e,t){if(t){const r=i.a.getSchema(this.core,e,t,this.schema);return Object(n.default)(r)}if(void 0===this.cache[e]){const t=i.a.getSchema(this.core,e,this.data,this.schema);if(!0===t.variableSchema)return t;this.cache[e]=Object(n.default)(t)}return this.cache[e]}destroy(){this.setData(null),this.setSchema(null)}}},"./src/services/ValidationService.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r("./src/services/utils/BubblingCollectionObservable.ts"),o=r("./node_modules/json-schema-library/index.js"),i=r.n(o),s=r("./src/store/index.ts"),a=r("./src/services/utils/Validation.ts");const{JsonEditor:l}=i.a.cores;class c{constructor(e,t={type:"object"},r=new l){if(this.observer=new n.default,!(e instanceof s.default))throw new Error("Given state in ValidationService must be of instance 'State'");this.core=r,this.set(t),this.store=e,this.setErrorHandler(e=>e)}setErrorHandler(e){this.errorHandler=e}validate(e,t="#"){this.currentValidation&&this.currentValidation.cancel(),this.observer.clearEvents(t);let r=[];return"#"!==t&&(r=this.store.get("errors").filter(e=>null==e.data.pointer||!1===e.data.pointer.startsWith(t))),this.store.dispatch.errors.set(r),this.currentValidation=new a.default(e,t,this.errorHandler),this.currentValidation.start(this.core,(e,t)=>{const n=r.concat(t);this.store.dispatch.errors.set(n),this.observer.notify(e.data.pointer,e)},e=>{const t=r.concat(e);this.store.dispatch.errors.set(t),this.currentValidation=null})}set(e){this.core.setSchema(e),this.schema=this.core.getSchema()}get(){return this.schema}observe(e,t,r=!1){return this.observer.observe(e,t,r),t}removeObserver(e,t){return this.observer.removeObserver(e,t),this}notify(e,t){this.observer.notify(e,t)}getErrorsAndWarnings(e,t=!1){const r=this.store.get("errors");if(null==e)return r;const n=new RegExp(`^${e}${t?"":"$"}`);return r.filter(e=>n.test(e.data.pointer))}getErrors(e,t=!1){return this.getErrorsAndWarnings(e,t).filter(e=>"warning"!==e.severity)}getWarnings(e,t=!1){return this.getErrorsAndWarnings(e,t).filter(e=>"warning"===e.severity)}destroy(){this.set(null),this.observer=null}}},"./src/services/dataservice/change.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isAddChange",(function(){return l})),r.d(t,"isDeleteChange",(function(){return c})),r.d(t,"isMoveChange",(function(){return u})),r.d(t,"isValueChange",(function(){return d})),r.d(t,"sortChanges",(function(){return f})),r.d(t,"changesWithChildPointers",(function(){return h})),r.d(t,"changesFromPatchResult",(function(){return p})),r.d(t,"getArrayChangeList",(function(){return m})),r.d(t,"getObjectChangeList",(function(){return v}));var n=r("./src/services/utils/diffpatch.ts"),o=r("./node_modules/gson-pointer/index.js"),i=r.n(o),s=r("./src/utils/UISchema.ts"),a=r("./src/services/dataservice/pointersOf.ts");const l=e=>"add"===(null==e?void 0:e.type),c=e=>"delete"===(null==e?void 0:e.type),u=e=>"move"===(null==e?void 0:e.type),d=e=>"update"===(null==e?void 0:e.type);function f(e,t){if(e.type===t.type)return t.pointer.length-e.pointer.length;if("delete"===e.type)return-1;if("delete"===t.type)return 1;if("move"===e.type)return-1;if("move"===t.type)return 1;if("add"===e.type)return-1;if("add"===t.type)return 1;throw new Error(`Uncaught comparisson ${e.type}:${t.type}`)}function h(e,t,r){const n=[];return e.forEach(e=>{"add"===e.type?Object(a.default)(i.a.get(r,e.pointer),e.pointer).forEach(e=>{n.push({type:"add",pointer:e})}):"delete"===e.type?Object(a.default)(i.a.get(t,e.pointer),e.pointer).forEach(e=>{n.push({type:"delete",pointer:e})}):"move"===e.type?(Object(a.default)(i.a.get(t,e.pointer),e.pointer).forEach(t=>{n.push({type:"delete",pointer:t,to:t.replace(e.pointer,e.to)})}),Object(a.default)(i.a.get(r,e.to),e.to).forEach(t=>{n.push({type:"add",pointer:t,from:t.replace(e.to,e.pointer)})})):n.push(e)}),n.sort(f),n}function p(e,t,r){if("array"===t)return m(e,r);if("object"===t)return v(e);if(Array.isArray(e.patch))return[{type:"update",pointer:e.pointer}];throw new Error("Unknown patchResult: "+JSON.stringify(e))}function m(e,t){const r=[],o=e.pointer;let a=i.a.get(t,o);if(!1===Array.isArray(a))return r;a=a.map((e,t)=>`${o}/${t}`);const l=n.default.patch(Array.from(a),e.patch);for(let e=0,t=a.length;e<t;e+=1)if(!1===l.includes(a[e])){const t={type:"delete",pointer:a[e]};r.push(t)}for(let e=0,t=l.length;e<t;e+=1){let t;const n=l[e];!1!==(n!==`${o}/${e}`)&&(t=Object(s.isPointer)(n)?{type:"move",pointer:n,to:`${o}/${e}`}:{type:"add",pointer:`${o}/${e}`},r.push(t))}return r}function v(e){const t=[],{pointer:r}=e,n=Object.keys(e.patch);for(let o=0,i=n.length;o<i;o+=1){const i=n[o],s=e.patch[i];if(1===s.length)t.push({type:"add",pointer:`${r}/${i}`});else if(0===s[2])t.push({type:"delete",pointer:`${r}/${i}`});else if(3===s[2])throw console.log("object property movement",e),new Error(`Property movement currently unsupported (${JSON.stringify(s)})`)}return t}},"./src/services/dataservice/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var n=r("./src/services/utils/copy.ts"),o=r("./src/services/utils/diffpatch.ts"),i=r("./src/services/utils/createDiff.ts"),s=r("./node_modules/json-schema-library/lib/getTypeOf.js"),a=r.n(s),l=r("./node_modules/gson-pointer/index.js"),c=r.n(l),u=r("./src/services/utils/isRootPointer.ts"),d=r("./src/store/index.ts"),f=r("./src/services/dataservice/change.ts");const h="data";class p{constructor(e,t){if(this.observers={},this.lastUpdate={},this.watcher=[],!(e instanceof d.default))throw new Error("Given state in DataService must be of instance 'State'");this.store=e,this.onStateChanged=this.onStateChanged.bind(this),this.store.subscribe(h,this.onStateChanged),void 0!==t&&(this.set("#",t),this.resetUndoRedo())}onStateChanged(){const{present:e}=this.store.get(h),t=Object(i.default)(this.lastUpdate,e);if(0===t.length)return;const r=[];for(let e=0,n=t.length;e<n;e+=1){const n=t[e].pointer,o=this.getDataByReference(n),i=a()(o),s=Object(f.changesFromPatchResult)(t[e],i,this.lastUpdate);"array"!==i&&"object"!==i||this.notifyWatcher({type:"data:update:container",value:{pointer:n,changes:s}}),r.push(...s);const l={pointer:n,patch:t[e].patch};this.notifyWatcher({type:"data:update:after",value:l}),this.bubbleObservers(n,{type:"data:update",value:l})}const n=Object(f.changesWithChildPointers)(r,this.lastUpdate,e);this.notifyWatcher({type:"data:update:done",value:n}),this.lastUpdate=e}resetUndoRedo(){var e;this.store.dispatch.data.clearHistory(),null===(e=this.store.previousState)||void 0===e||e.errors.pop()}get(e="#"){const t=this.getDataByReference(e);return Object(n.default)(t)}getDataByReference(e="#"){const t=this.store.store.getState();return c.a.get(t.data.present,e)}set(e,t,r){if(!1===this.isValid(e))throw new Error(`Pointer ${e} does not exist in data`);const n=this.getDataByReference(e);null!=o.default.diff(n,t)&&("#"===e&&(r={...r,addToHistory:!1}),this.notifyWatcher({type:"data:update:before",value:{pointer:e,action:"data"}}),this.store.dispatch.data.set({pointer:e,value:t,addToHistory:null==r?void 0:r.addToHistory}))}delete(e){if(Object(u.default)(e))throw new Error('Can not remove root data via delete. Use set("#/", {}) instead.');const t=c.a.split(e),r=t.pop(),n=c.a.join(t),o=this.get(n);c.a.delete(o,r),this.set(n,o)}undoCount(){return this.store.get(h).past.length}redoCount(){return this.store.get(h).future.length}undo(){this.notifyWatcher({type:"data:update:before",value:{pointer:"#",action:"undo"}}),this.store.dispatch.data.undo()}redo(){this.notifyWatcher({type:"data:update:before",value:{pointer:"#",action:"redo"}}),this.store.dispatch.data.redo()}notifyWatcher(e){this.watcher.forEach(t=>t(e))}watch(e){return!1===this.watcher.includes(e)&&this.watcher.push(e),e}removeWatcher(e){this.watcher=this.watcher.filter(t=>t!==e)}observe(e,t,r=!1){return t.bubbleEvents=r,this.observers[e]=this.observers[e]||[],this.observers[e].push(t),t}removeObserver(e,t){return this.observers[e]&&this.observers[e].length>0&&(this.observers[e]=this.observers[e].filter(e=>e!==t)),this}notify(e,t){if(null==this.observers[e]||0===this.observers[e].length)return;const r=this.observers[e];for(let n=0,o=r.length;n<o;n+=1)!0!==r[n].bubbleEvents&&t.value.pointer!==e||r[n](t)}bubbleObservers(e,t){const r=c.a.split(e);for(;r.length;)this.notify(c.a.join(r,!0),t),r.length-=1;this.notify("#",t)}isValid(e){return Object(u.default)(e)||void 0!==c.a.get(this.getDataByReference(),e)}destroy(){this.store.unsubscribe(h,this.onStateChanged)}}},"./src/services/dataservice/pointersOf.ts":function(e,t,r){"use strict";function n(e,t="#",r=[]){return null==e||(r.push(t),Array.isArray(e)?e.forEach((e,o)=>{n(e,`${t}/${o}`,r)}):"object"==typeof e&&Object.keys(e).forEach(o=>"_id"!==o&&n(e[o],`${t}/${o}`,r))),r}r.r(t),r.d(t,"default",(function(){return n}))},"./src/services/utils/BubblingCollectionObservable.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/gson-pointer/index.js"),o=r.n(n);t.default=class{constructor(){this.observers={},this.eventCollection={},this.bubbleCollection={}}observe(e,t,r=!1){return this.observers[e]=this.observers[e]||[],!1===this.observers[e].includes(t)&&(t.receiveChildEvents=r,this.observers[e].push(t)),t}removeObserver(e,t){if(null==this.observers[e])return;const r=this.observers[e].indexOf(t);-1!==r&&this.observers[e].splice(r,1)}reset(){const e={};Object.keys(this.eventCollection).concat(Object.keys(this.bubbleCollection)).forEach(t=>{e[t]=!0}),this.eventCollection={},this.bubbleCollection={},Object.keys(e).forEach(e=>this._notify(e,e,[])),this.eventCollection={},this.bubbleCollection={}}clearEvents(e,t=!0){let r=!1;t&&Object.keys(this.eventCollection).forEach(t=>{t.startsWith(e)&&t!==e&&this.eventCollection[t].length>0&&(r=!0,this.eventCollection[t].length=0,this.bubbleCollection[t]={},this._notify(t,t,this.eventCollection[t]))});const n=this.eventCollection[e];Array.isArray(n)&&n.length>0&&(r=!0,n.length=0,this.bubbleCollection[e]={}),r&&this._notifyAll(e,n)}_notifyAll(e,t){const r=o.a.split(e);for(;r.length>0;){const n=o.a.join(r,!0);this._notify(n,e,t),r.pop()}this._notify("#",e,t)}notify(e,t){this.eventCollection[e]=this.eventCollection[e]||[],this.eventCollection[e].push(t),this._notifyAll(e,this.eventCollection[e])}_notify(e,t,r=[]){null!=this.observers[e]&&this.observers[e].forEach(n=>{if(!1===n.receiveChildEvents&&e===t)return void n({type:"validation:errors",value:r});if(!1===n.receiveChildEvents&&e!==t)return;this.bubbleCollection[e]=this.bubbleCollection[e]||{};const o=this.bubbleCollection[e];o[t]=r;n({type:"validation:errors",value:Object.keys(o).reduce((e,t)=>e.concat(o[t]),[])})})}}},"./src/services/utils/Validation.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r("./node_modules/gson-pointer/index.js"),o=r.n(n),i=r("./node_modules/json-schema-library/lib/validateAsync.js"),s=r.n(i);class a{constructor(e,t,r){this.canceled=!1,this.errors=[],this.data=e,this.pointer=t,this.errorHandler=r}start(e,t,r){this.cbDone=r,this.cbError=t;const n=this.pointer;let i=this.data,a=e.getSchema();return"#"!==n&&(a=e.getSchema(n,i),i=o.a.get(i,n)),s()(e,i,{schema:a,pointer:n,onError:this.onError.bind(this)}).then(e=>(this.onDone(e),e)).catch(e=>(this.onFail(e),[]))}onError(e){this.canceled||(e=this.errorHandler(e),this.errors.push(e),this.cbError(e,this.errors))}onDone(e){this.canceled||(this.errors.length!==e.length&&console.error("Inconsistent validation errors. Not all errors were emitted by validateAsync()"),this.cbDone(this.errors))}onFail(e){this.canceled||(console.error("Validation failed",e),this.cbDone(this.errors))}cancel(){this.canceled=!0}}},"./src/services/utils/copy.ts":function(e,t,r){"use strict";function n(e){return void 0===e||!1===Array.isArray(e)&&"object"!=typeof e?e:JSON.parse(JSON.stringify(e))}r.r(t),r.d(t,"default",(function(){return n}))},"./src/services/utils/createDiff.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"diffToPatches",(function(){return l})),r.d(t,"default",(function(){return c}));var n=r("./src/services/utils/diffpatch.ts"),o=r("./node_modules/gson-pointer/index.js"),i=r.n(o);function s(e,t){return e.pointer<t.pointer?-1:e.pointer>t.pointer?1:0}function a(e,t,r=[]){const n=Object.keys(t),o="a"===t._t;return n.forEach(n=>{if("_t"===n)return;const i=t[n];if(s=i,!Array.isArray(s))return void a(`${e}/${n}`,i,r);var s;const l=1===t[n].length,c=0===t[n][2],u={pointer:`${e}/${n}`,change:i,isArrayItem:o,changedProperty:!o&&(l||c)};r.push(u)}),r}function l(e){const t={};return a("#",e).forEach(e=>{const{pointer:r,change:n,isArrayItem:o,changedProperty:s}=e;if(o){const e=i.a.join(r,".."),o=r.replace(e+"/","");return t[e]=t[e]||{_t:"a"},void(t[e][o]=n)}if(s){const e=i.a.join(r,".."),o=r.replace(e+"/","");return t[e]=t[e]||{},void(t[e][o]=n)}t[e.pointer]=n}),Object.keys(t).map(e=>({pointer:e,patch:t[e]})).sort(s)}function c(e,t){const r=n.default.diff(e,t);return null==r?[]:l(r)}},"./src/services/utils/diffpatch.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/jsondiffpatch/dist/jsondiffpatch.umd.js");const o={objectHash:e=>e._id,arrays:{detectMove:!0,includeValueOnMove:!1}},i=new n.DiffPatcher(o);i.options=o,t.default=i},"./src/services/utils/ensureItemIDs.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/json-schema-library/lib/getTypeOf.js"),o=r.n(n);function i(e){return Array.isArray(e)?(i.config.addMissingItemIDs(e),e.forEach(e=>i(e))):"object"===o()(e)&&Object.keys(e).forEach(t=>i(e[t])),e}i.config={ID_PROPERTY:"_id",addMissingItemIDs:function(e){e.forEach((e,t)=>{if(null==e._id){const r=o()(e);"object"!==r&&"array"!==r||(e._id=i.config.generateId(t))}})},generateId:function(e){return`${e}${Math.random()}${Date.now()}`}},t.default=i},"./src/services/utils/isRootPointer.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/gson-pointer/lib/isRoot.js"),o=r.n(n);t.default=o.a},"./src/store/global.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"dispatch",(function(){return a})),r.d(t,"getState",(function(){return l})),r.d(t,"watch",(function(){return u})),r.d(t,"removeWatcher",(function(){return d}));var n=r("./node_modules/@rematch/core/dist/umd/rematch.js"),o=r("./src/store/models/ui.ts"),i=r("./src/services/utils/diffpatch.ts");const s=Object(n.init)({models:{ui:o.default}}),a=s.dispatch,l=s.getState;let c=[];function u(e){return c.push(e),e}function d(e){c=c.filter(t=>t!==e)}const f=s.getState(),h=Object.keys(f),p={};h.forEach(e=>{p[e]=JSON.stringify(f[e])}),s.subscribe(()=>{const e=s.getState();h.forEach(t=>{const r=JSON.stringify(e[t]);if(r===p[t])return;const n=i.default.diff(JSON.parse(p[t]),e[t]);if(null==n)return;p[t]=r;const o={};var s;Object.keys(n).map(r=>o[r]=e[t][r]),s={type:"global",value:{modelId:t,changes:o}},c.forEach(e=>e(s))})})},"./src/store/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r("./node_modules/nanoevents/index.js"),o=r("./node_modules/@rematch/core/dist/umd/rematch.js"),i=r("./src/store/models/data.ts"),s=r("./src/store/models/errors.ts");const a={data:i.default,errors:s.default};class l{constructor(){this.emitter=Object(n.createNanoEvents)(),this.store=Object(o.init)({models:a}),this.dispatch=this.store.dispatch,this.getState=this.store.getState,this.store.subscribe(()=>this.onChange(this.store.getState()))}onChange(e){e!==this.previousState&&(Object.keys(e).forEach(t=>{var r;const n=e[t];(null===(r=this.previousState)||void 0===r?void 0:r[t])!==n&&this.emitter.emit(t,n)}),this.previousState=e)}get(e){return this.store.getState()[e]}subscribe(e,t){this.emitter.on(e,t)}unsubscribe(e,t){var r,n;this.emitter.events[e]=null!==(n=null===(r=this.emitter.events[e])||void 0===r?void 0:r.filter(e=>e!==t))&&void 0!==n?n:[]}}},"./src/store/models/data.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"initialState",(function(){return l}));var n=r("./src/services/utils/copy.ts"),o=r("./src/services/utils/ensureItemIDs.ts"),i=r("./node_modules/gson-pointer/index.js"),s=r.n(i),a=r("./src/services/utils/isRootPointer.ts");const l={undoSize:50,past:[],present:null,future:[]};t.default={state:l,reducers:{clearHistory:e=>({...e,past:[],future:[]}),removeLastUndo(e){const t=Array.from(e.past);return t.pop(),{...e,past:t}},undo(e){if(0===e.past.length)return e;const t=Object(n.default)(e);return t.future.push(t.present),t.present=t.past.pop(),t},redo(e){if(0===e.future.length)return e;const t=Object(n.default)(e);return t.past.push(t.present),t.present=t.future.pop(),t},set(e,t){const{pointer:r="#"}=t,i=Object(o.default)(t.value),l=Object(n.default)(e);if(!1!==t.addToHistory&&null!=l.present)for(l.past.push(Object(n.default)(l.present)),l.future.length=0;l.past.length>e.undoSize;)l.past.shift();return Object(a.default)(r)?(l.present=Object(n.default)(i),l):(s.a.set(l.present,r,Object(n.default)(i)),l)}}}},"./src/store/models/errors.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"initialState",(function(){return n}));const n=[];t.default={state:n,reducers:{set:(e,t=[])=>t}}},"./src/store/models/ui.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"initialState",(function(){return n}));const n={currentPointer:"",currentPage:"",overlayIsVisible:!1};t.default={state:n,reducers:{setCurrentPage:(e,t)=>({...e,currentPage:t}),setCurrentPointer:(e,t)=>({...e,currentPointer:t}),showOverlay:(e,t)=>({...e,overlayIsVisible:t})}}},"./src/utils/UISchema.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EDITRON_OPTION_PROPERTY",(function(){return c})),r.d(t,"getEditronOptions",(function(){return u})),r.d(t,"isPointer",(function(){return d}));var n=r("./node_modules/gson-pointer/index.js"),o=r.n(n),i=r("./src/utils/populated.ts"),s=r("./node_modules/json-schema-library/index.js"),a=r.n(s);const{eachSchema:l}=a.a,c="editron:ui";function u(e){return e[c]}function d(e){return"string"==typeof e&&/^(#?\/.+|\.?\.\/.+)/.test(e)}function f(e,t,r){if(!1===Object(i.default)(r)||!1===d(r))return null;let n=r;"#"!==n[0]&&(n=o.a.join(e,n));const s=t.service("data").get(n);return Object(i.default)(s,s,null)}function h(e,t,r){if(Array.isArray(r))for(let n=0;n<r.length;n+=1){const o=r[n];if(d(o)){const r=f(e,t,o);if(Object(i.default)(r))return r}else if(Object(i.default)(o))return o}return r}function p(e,t,...r){if(0===r.length)throw new Error("Expected at least one options property to be given in getOption");const n=t.service("schema").get(e),o=n["editron:ui"]||{};for(let s=0;s<r.length;s+=1){const a=o[r[s]],l=(d(a)?f:h)(e,t,a);if(Object(i.default)(l))return l;if(Object(i.default)(n[r[s]]))return n[r[s]]}return null}function m(e,t){const r=t.service("schema").get(e),n=p(e,t,"title")||"";return r.minLength&&n?n.replace(/\s*\*\s*$/,"")+" *":n}t.default={UI_PROPERTY:"editron:ui",getOption:p,copyOptions:function(e,t){const r=t.service("schema").get(e),n={hidden:!1,description:r.description,...r.options,...r["editron:ui"]};return n.title=m(e,t),Object.keys(n).forEach(r=>{n[r]=h(e,t,n[r])}),n},extendSchema:function(e){return e=JSON.parse(JSON.stringify(e)),l(e,e=>{e.$ref&&null==e["editron:ui"]||(e["editron:ui"]={hidden:!1,title:e.title||"",description:e.description||"",...e.options,...e["editron:ui"]})}),e},getBreadcrumps:function(e,t){const r=[];for(;"#"!==e;)r.unshift({title:p(e,t,"title"),pointer:e}),e=o.a.join(e,"..");return r},getTitle:m,enumOptions:function(e){let t;return t=e["editron:ui"].enum?e.enum.map((t,r)=>({title:e["editron:ui"].enum[r]||e.enum[r],value:e.enum[r]})):e.options&&e.options.enum_titles?e.enum.map((t,r)=>({title:e.options.enum_titles[r]||e.enum[r],value:e.enum[r]})):e.enum,t},getDefaultOption:function(e,t){return e["editron:ui"]&&e["editron:ui"][t]||""}}},"./src/utils/addItem.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),o=r.n(n),i=r("./src/utils/createElement.ts"),s=r("./src/services/OverlayService.ts"),a=r("./src/components/overlayselecttiles/index.ts"),l=r("./src/utils/UISchema.ts");t.default=function(e,t,r,n,c=0){const u=e.get(n);if("array"!==t.get(n).type)throw new Error(`Can not add item to a non-array (${n})`);const d=t.getChildSchemaSelection(n,c);if(1===d.length)return void v(0,t,e);const f=Object(i.default)(".overlay__item"),h=d.map((e,t)=>({icon:l.default.getDefaultOption(e,"icon"),title:l.default.getDefaultOption(e,"title"),description:l.default.getDefaultOption(e,"description"),value:t})),p=Object(l.getEditronOptions)(t.get(n)),m={header:"",...null==p?void 0:p.overlay};function v(e,t,r){const o=d[e],i=t.getTemplate(o);u.splice(c,0,i),r.set(n,u)}o.a.render(f,o()(a.default,{value:0,options:h,onchange:o=>{v(parseInt(o,10),t,e),s.default.close(),r.goto(`${n}/${c}`)}})),s.default.open(f,{header:m.header,confirmButton:!1})}},"./src/utils/array.ts":function(e,t,r){"use strict";r.r(t),t.default={addItem(e,t,r){t.addItemTo(e,r)},removeItem(e,t,r){const n=t.service("data").get(e);n.splice(r,1),t.service("data").set(e,n)},cloneItem(e,t,r){const n=t.service("data").get(e),o=n[r],i=JSON.stringify(o,(e,t)=>"_id"!==e?t:void 0);n.splice(r,0,JSON.parse(i)),t.service("data").set(e,n)},moveItem(e,t,r,n){if(n<0)return;const o=t.service("data").get(e);null!=o[r]&&null!=o[n]&&(o.splice(n,0,o.splice(r,1)[0]),t.service("data").set(e,o))},moveElement(e,t,r){e.splice(r,0,e.splice(t,1)[0])}}},"./src/utils/createElement.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r("mithril"),o=r.n(n);function i(e,t){const r=o()(e,t),n=document.createElement(r.tag);return Object.keys(r.attrs).forEach(e=>{"className"===e?r.attrs[e].split(" ").forEach(e=>n.classList.add(e)):null!=r.attrs[e]&&""!==r.attrs[e]&&n.setAttribute(e,r.attrs[e])}),n}},"./src/utils/createProxy.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r("./node_modules/@technik-sde/foxy/dist/foxy.js");const o={handlers:[n.handler.unsplash,n.handler.image,n.handler.video]};function i(e={}){if("Foxy"===e.constructor.name)return e;const t={...o,...e};if(Array.isArray(t.handlers))return new n.Foxy(t);throw new Error("Failed initializing proxy from: "+JSON.stringify(e))}},"./src/utils/i18n.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"translate",(function(){return i})),r.d(t,"translateError",(function(){return s})),r.d(t,"addLanguage",(function(){return a}));var n=r("./node_modules/json-schema-library/lib/utils/render.js"),o=r.n(n);function i(e,t){return"string"==typeof i.strings[e]?null==t?i.strings[e]:o()(i.strings[e],t):"function"==typeof i.strings[e]?i.strings[e](t):e}function s(e,t){return"string"==typeof s.strings[t.code]?t.message=null==t.data?s.strings[t.code]:o()(s.strings[t.code],t.data):"function"==typeof s.strings[t.code]&&(t.message=s.strings[t.code](e,t)),t}function a(e,t){const r=null==t&&"[object Object]"===Object.prototype.toString.call(e)?e:t;Object.assign(s.strings,r.errors),Object.assign(i.strings,r.strings)}i.strings={"array:button:moveup":"move up","array:button:movedown":"move down","array:button:remove":"remove","array:button:clone":"duplicate"},s.strings={}},"./src/utils/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/utils/i18n.ts");r.d(t,"i18n",(function(){return n}));var o=r("./src/utils/addItem.ts");r.d(t,"addItem",(function(){return o.default}));var i=r("./src/utils/array.ts");r.d(t,"array",(function(){return i.default}));var s=r("./src/utils/createElement.ts");r.d(t,"createElement",(function(){return s.default}));var a=r("./src/utils/isNodeContext.ts");r.d(t,"isNodeContext",(function(){return a.default}));var l=r("./src/utils/populated.ts");r.d(t,"populated",(function(){return l.default}));var c=r("./src/utils/selection.ts");r.d(t,"selection",(function(){return c.default}));var u=r("./src/utils/selectEditor.ts");r.d(t,"selectEditor",(function(){return u.default}));var d=r("./src/utils/UISchema.ts");r.d(t,"UISchem",(function(){return d.default}))},"./src/utils/isEmpty.ts":function(e,t,r){"use strict";function n(e){return null==e||""===e||"object"==typeof e&&0===Object.keys(e).length||Array.isArray(e)&&0===e.length}r.r(t),r.d(t,"default",(function(){return n}))},"./src/utils/isNodeContext.ts":function(e,t,r){"use strict";r.r(t),function(e){function n(){return"object"==typeof e&&"object"==typeof e.versions&&void 0!==e.versions.node}r.d(t,"default",(function(){return n}))}.call(this,r("./node_modules/process/browser.js"))},"./src/utils/populated.ts":function(e,t,r){"use strict";function n(e,t,r){let n=!0;return null==e||""===e||"#"===e?n=!1:"string"==typeof e?n=e.replace(/<[^>]+>/g,"").replace(/[^A-Za-z0-9]/g,"").length>0:Array.isArray(e)?n=e.length>0:"[object Object]"===Object.prototype.toString.call(e)&&(n=Object.keys(e).length>0),void 0===t&&void 0===r?n:n?t:r}r.r(t),r.d(t,"default",(function(){return n}))},"./src/utils/selectEditor.ts":function(e,t,r){"use strict";r.r(t),t.default=function(e,t,r,n){if(/_id$/.test(t))return!1;if("error"===r.service("schema").get(t).type)return!1;if(!0===n.hidden)return!1;for(let o=0,i=e.length;o<i;o+=1)if(e[o].editorOf(t,r,n))return e[o]}},"./src/utils/selection.ts":function(e,t,r){"use strict";r.r(t);function n(e,t){const r="down"===t||"right"===t?1:-1;if((e=>"function"==typeof e.mayBlur)(e))return e.mayBlur(t);if("INPUT"===e.tagName&&"number"===e.type)return!1;if("INPUT"===e.tagName&&"checkbox"===e.type)return!0;if("SELECT"===e.tagName)return!1;if("INPUT"===e.tagName){const r=e;return"up"===t||"down"===t||("left"===t&&0===r.selectionStart||"right"===t&&r.value.length===r.selectionEnd)}if("TEXTAREA"===e.tagName){const t=e;return""===e.value||(-1===r&&0===t.selectionStart||1===r&&t.value.length===t.selectionEnd)}return!0}function o(e,t=document.body){const r=e.service("location").getCurrent();if("#"===r)return console.log("abort empty selection",r,"active element",document.activeElement),!1;const n=t.querySelector(`[data-id='${r}'] label input`);return null!=n&&(n!==document.activeElement&&console.log("selection: active input is not the same as current editor",n,document.activeElement),n)}function i(e){return Array.from(e.querySelectorAll("input,textarea,select"))}function s(e,t="down",{parent:r=document.body}={}){const n=o(e,r);if(!1===n)return!1;const s=i(r),a="down"===t||"right"===t?1:-1,l=s.indexOf(n);if(-1===l)return!1;const c=s[l+a];return!(!c||!c.focus)&&c}t.default={focusNextInput:function(e,t="down",r={}){const{force:i=!1,parent:a=document.body}=r,l=o(e,a);if(!1===l)return!1;if(!1===i&&!1===n(l,t))return!0;const c=s(e,t,r);return!!c&&(c.focus(),!0)},getNextInput:s,getAvailableInputs:i,getActiveInput:o,mayBlur:n}},0:function(e,t,r){e.exports=r},mithril:function(e,t){e.exports=m}});