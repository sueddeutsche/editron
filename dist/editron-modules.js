/*! For license information please see editron-modules.js.LICENSE.txt */
var editronModules=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}({"./editron.scss":function(e,t,r){e.exports=r.p+"editron.css"},"./editron.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/Controller.ts"),i=r("./src/components/index.ts");r.d(t,"components",(function(){return i}));var o=r("./src/editors/index.ts");r.d(t,"editors",(function(){return o.default}));var s=r("./src/services/index.ts");r.d(t,"services",(function(){return s}));var a=r("./src/utils/index.ts");r.d(t,"utils",(function(){return a}));var l=r("./src/plugin/index.ts");r.d(t,"plugin",(function(){return l.default})),t.default=n.default},"./node_modules/@technik-sde/foxy/dist/foxy.js":function(e,t,r){(function(e){var r,n,i,o;function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof self&&self,o=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==l(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";r.r(t),r.d(t,"Foxy",(function(){return n})),r.d(t,"handler",(function(){return u})),r.d(t,"utils",(function(){return i}));var n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.handlers=t.handlers||[]}var t,r,n;return t=e,(r=[{key:"addHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null==this.handlers[t]&&this.handlers.push(e),this.handlers.splice(t,0,e)}},{key:"removeHandler",value:function(e){this.handlers=this.handlers.filter((function(t){return t!==e}))}},{key:"getImageURL",value:function(e){return this.get("getImageURL",e)}},{key:"getImageInfo",value:function(e){return this.get("getImageInfo",e)}},{key:"getVideoURL",value:function(e){return this.get("getVideoURL",e)}},{key:"getVideoInfo",value:function(e){return this.get("getVideoInfo",e)}},{key:"getURL",value:function(e){return this.get("getURL",e)}},{key:"get",value:function(e,t){var r=this.findHandler(e,t);return null==r?Promise.reject(new Error("There is no handler for method '".concat(e,"(").concat(JSON.stringify(t),")'"))):r[e](t)}},{key:"isSupported",value:function(e){return this.handlers.some((function(t){return t.use(e)}))}},{key:"findHandler",value:function(e,t){return this.handlers.find((function(r){return"function"==typeof r[e]&&!0===r.use(t)}))}}])&&a(t.prototype,r),n&&a(t,n),e}(),i={loadImageInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={src:e,image:new Image,type:"",width:0,height:0};return fetch(e,t).then((function(e){return e.blob()})).then((function(e){return r.type=e.type.replace(/^[^/]+\//,""),URL.createObjectURL(e)})).then((function(e){return new Promise((function(t,n){r.image.addEventListener("load",(function(){return t()})),r.image.addEventListener("error",n),r.image.src=e}))})).then((function(){return r.width=r.image.naturalWidth,r.height=r.image.naturalHeight,r}))},loadVideoInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={src:e,width:0,height:0,video:document.createElement("video"),duration:0,poster:""};return fetch(e,t).then((function(e){return e.blob()})).then((function(e){return r.type=e.type.replace(/^[^/]+\//,""),URL.createObjectURL(e)})).then((function(e){return new Promise((function(t,n){r.video.addEventListener("error",n),r.video.addEventListener("loadedmetadata",(function(){var e=r.video;r.width=e.videoWidth,r.height=e.videoHeight,r.duration=e.duration,r.poster=e.poster,t(r)}));var i=document.createElement("source");i.setAttribute("src",e),r.video.appendChild(i)}))}))},isHandler:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&"function"==typeof e.use}},o=/^https:\/\/images\.unsplash\.com\/photo-\d{13}-[0-9a-f]{12}/;function l(e){var t=e.source.replace(/\?.*$/,""),r=new URLSearchParams(e.source.replace(/^.*\?/,""));return e.width&&r.set("w",e.width),e.height&&r.set("h",e.height),e.quality&&r.set("q",e.quality),e.fit&&r.set("fit",e.fit),e.auto&&r.set("auto",e.auto),"".concat(t,"?").concat(r.toString())}var u={unsplash:{use:function(e){return o.test(e.source)},getImageURL:function(e){return Promise.resolve(l(e))},getImageInfo:function(e){return i.loadImageInfo(l(e))}},image:{use:function(e){return/^https?:\/\//.test(e.source)},getImageURL:function(e){return Promise.resolve(e.source)},getImageInfo:function(e){return i.loadImageInfo(e.source)}},video:{use:function(e){return/^https?:\/\//.test(e.source)},getVideoURL:function(e){return Promise.resolve(e.source)},getVideoInfo:function(e){return i.loadVideoInfo(e.source)}}}}])},"object"==l(t)&&"object"==l(e)?e.exports=o():(n=[],void 0===(i="function"==typeof(r=o)?r.apply(t,n):r)||(e.exports=i))}).call(this,r("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/autosize/dist/autosize.js":function(e,t,r){var n,i,o;i=[e,t],void 0===(o="function"==typeof(n=function(e,t){"use strict";var r,n,i="function"==typeof Map?new Map:(r=[],n=[],{has:function(e){return r.indexOf(e)>-1},get:function(e){return n[r.indexOf(e)]},set:function(e,t){-1===r.indexOf(e)&&(r.push(e),n.push(t))},delete:function(e){var t=r.indexOf(e);t>-1&&(r.splice(t,1),n.splice(t,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var t,r=null,n=null,s=null,a=function(){e.clientWidth!==n&&f()},l=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",f,!1),e.removeEventListener("keyup",f,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",f,!1),Object.keys(t).forEach((function(r){e.style[r]=t[r]})),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",f,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",f,!1),e.addEventListener("autosize:update",f,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:l,update:f}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),f()}function u(t){var r=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=r,e.style.overflowY=t}function c(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),i=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+r+"px",n=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function f(){c();var t=Math.round(parseFloat(e.style.height)),r=window.getComputedStyle(e,null),n="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):e.offsetHeight;if(n<t?"hidden"===r.overflowY&&(u("scroll"),c(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==r.overflowY&&(u("hidden"),c(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),s!==n){s=n;var i=o("autosize:resized");try{e.dispatchEvent(i)}catch(e){}}}}function a(e){var t=i.get(e);t&&t.destroy()}function l(e){var t=i.get(e);t&&t.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(e){return e}).destroy=function(e){return e},u.update=function(e){return e}):((u=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return s(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},u.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=u,e.exports=t.default})?n.apply(t,i):n)||(e.exports=o)},"./node_modules/deepmerge/dist/cjs.js":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){return function(e){return!!e&&"object"===n(e)}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?f((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function a(e,t,r){return e.concat(t).map((function(e){return s(e,r)}))}function l(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function u(e,t){try{return t in e}catch(e){return!1}}function c(e,t,r){var n={};return r.isMergeableObject(e)&&l(e).forEach((function(t){n[t]=s(e[t],r)})),l(t).forEach((function(i){(function(e,t){return u(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(u(e,i)&&r.isMergeableObject(t[i])?n[i]=function(e,t){if(!t.customMerge)return f;var r=t.customMerge(e);return"function"==typeof r?r:f}(i,r)(e[i],t[i],r):n[i]=s(t[i],r))})),n}function f(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||i,r.cloneUnlessOtherwiseSpecified=s;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):c(e,t,r):s(t,r)}f.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return f(e,r,t)}),{})};var d=f;e.exports=d},"./node_modules/diff_match_patch/lib/diff_match_patch.js":function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Diff_DualThreshold=32,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=function(){for(var e=0,t=1,r=2;t!=r;)e++,t=r,r<<=1;return e}()}function i(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}n.prototype.diff_main=function(e,t,r){if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return[[0,e]];void 0===r&&(r=!0);var n=r,i=this.diff_commonPrefix(e,t),o=e.substring(0,i);e=e.substring(i),t=t.substring(i),i=this.diff_commonSuffix(e,t);var s=e.substring(e.length-i);e=e.substring(0,e.length-i),t=t.substring(0,t.length-i);var a=this.diff_compute(e,t,n);return o&&a.unshift([0,o]),s&&a.push([0,s]),this.diff_cleanupMerge(a),a},n.prototype.diff_compute=function(e,t,r){var n;if(!e)return[[1,t]];if(!t)return[[-1,e]];var i=e.length>t.length?e:t,o=e.length>t.length?t:e,s=i.indexOf(o);if(-1!=s)return n=[[1,i.substring(0,s)],[0,o],[1,i.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=-1),n;i=o=null;var a,l=this.diff_halfMatch(e,t);if(l){var u=l[0],c=l[1],f=l[2],d=l[3],h=l[4],p=this.diff_main(u,f,r),m=this.diff_main(c,d,r);return p.concat([[0,h]],m)}(r&&(e.length<100||t.length<100)&&(r=!1),r)&&(e=(j=this.diff_linesToChars(e,t))[0],t=j[1],a=j[2]);if((n=this.diff_map(e,t))||(n=[[-1,e],[1,t]]),r){this.diff_charsToLines(n,a),this.diff_cleanupSemantic(n),n.push([0,""]);for(var v=0,g=0,y=0,b="",_="";v<n.length;){switch(n[v][0]){case 1:y++,_+=n[v][1];break;case-1:g++,b+=n[v][1];break;case 0:if(g>=1&&y>=1){var j=this.diff_main(b,_,!1);n.splice(v-g-y,g+y),v=v-g-y;for(var O=j.length-1;O>=0;O--)n.splice(v,0,j[O]);v+=j.length}y=0,g=0,b="",_=""}v++}n.pop()}return n},n.prototype.diff_linesToChars=function(e,t){var r=[],n={};function i(e){for(var t="",i=0,o=-1,s=r.length;o<e.length-1;){-1==(o=e.indexOf("\n",i))&&(o=e.length-1);var a=e.substring(i,o+1);i=o+1,(n.hasOwnProperty?n.hasOwnProperty(a):void 0!==n[a])?t+=String.fromCharCode(n[a]):(t+=String.fromCharCode(s),n[a]=s,r[s++]=a)}return t}return r[0]="",[i(e),i(t),r]},n.prototype.diff_charsToLines=function(e,t){for(var r=0;r<e.length;r++){for(var n=e[r][1],i=[],o=0;o<n.length;o++)i[o]=t[n.charCodeAt(o)];e[r][1]=i.join("")}},n.prototype.diff_map=function(e,t){var r,n,i,o=(new Date).getTime()+1e3*this.Diff_Timeout,s=e.length,a=t.length,l=s+a-1,u=2*this.Diff_DualThreshold<l,c=[],f=[],d={},h={};d[1]=0,h[1]=0;for(var p={},m=!1,v=(s+a)%2,g=0;g<l;g++){if(this.Diff_Timeout>0&&(new Date).getTime()>o)return null;c[g]={};for(var y=-g;y<=g;y+=2){for(n=(r=y==-g||y!=g&&d[y-1]<d[y+1]?d[y+1]:d[y-1]+1)-y,u&&(i=r+","+n,v&&void 0!==p[i]&&(m=!0),v||(p[i]=g));!m&&r<s&&n<a&&e.charAt(r)==t.charAt(n);)r++,n++,u&&(i=r+","+n,v&&void 0!==p[i]&&(m=!0),v||(p[i]=g));if(d[y]=r,c[g][r+","+n]=!0,r==s&&n==a)return this.diff_path1(c,e,t);if(m)return f=f.slice(0,p[i]+1),this.diff_path1(c,e.substring(0,r),t.substring(0,n)).concat(this.diff_path2(f,e.substring(r),t.substring(n)))}if(u){f[g]={};for(y=-g;y<=g;y+=2){for(i=s-(r=y==-g||y!=g&&h[y-1]<h[y+1]?h[y+1]:h[y-1]+1)+","+(a-(n=r-y)),v||void 0===p[i]||(m=!0),v&&(p[i]=g);!m&&r<s&&n<a&&e.charAt(s-r-1)==t.charAt(a-n-1);)i=s-++r+","+(a-++n),v||void 0===p[i]||(m=!0),v&&(p[i]=g);if(h[y]=r,f[g][r+","+n]=!0,m)return c=c.slice(0,p[i]+1),this.diff_path1(c,e.substring(0,s-r),t.substring(0,a-n)).concat(this.diff_path2(f,e.substring(s-r),t.substring(a-n)))}}}return null},n.prototype.diff_path1=function(e,t,r){for(var n=[],i=t.length,o=r.length,s=null,a=e.length-2;a>=0;a--)for(;;){if(void 0!==e[a][i-1+","+o]){i--,-1===s?n[0][1]=t.charAt(i)+n[0][1]:n.unshift([-1,t.charAt(i)]),s=-1;break}if(void 0!==e[a][i+","+(o-1)]){o--,1===s?n[0][1]=r.charAt(o)+n[0][1]:n.unshift([1,r.charAt(o)]),s=1;break}if(i--,o--,t.charAt(i)!=r.charAt(o))throw new Error("No diagonal.  Can't happen. (diff_path1)");0===s?n[0][1]=t.charAt(i)+n[0][1]:n.unshift([0,t.charAt(i)]),s=0}return n},n.prototype.diff_path2=function(e,t,r){for(var n=[],i=0,o=t.length,s=r.length,a=null,l=e.length-2;l>=0;l--)for(;;){if(void 0!==e[l][o-1+","+s]){o--,-1===a?n[i-1][1]+=t.charAt(t.length-o-1):n[i++]=[-1,t.charAt(t.length-o-1)],a=-1;break}if(void 0!==e[l][o+","+(s-1)]){s--,1===a?n[i-1][1]+=r.charAt(r.length-s-1):n[i++]=[1,r.charAt(r.length-s-1)],a=1;break}if(o--,s--,t.charAt(t.length-o-1)!=r.charAt(r.length-s-1))throw new Error("No diagonal.  Can't happen. (diff_path2)");0===a?n[i-1][1]+=t.charAt(t.length-o-1):n[i++]=[0,t.charAt(t.length-o-1)],a=0}return n},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(o,i)==t.substring(o,i)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},n.prototype.diff_halfMatch=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<10||n.length<1)return null;var i=this;function o(e,t,r){for(var n,o,s,a,l=e.substring(r,r+Math.floor(e.length/4)),u=-1,c="";-1!=(u=t.indexOf(l,u+1));){var f=i.diff_commonPrefix(e.substring(r),t.substring(u)),d=i.diff_commonSuffix(e.substring(0,r),t.substring(0,u));c.length<d+f&&(c=t.substring(u-d,u)+t.substring(u,u+f),n=e.substring(0,r-d),o=e.substring(r+f),s=t.substring(0,u-d),a=t.substring(u+f))}return c.length>=e.length/2?[n,o,s,a,c]:null}var s,a,l,u,c,f=o(r,n,Math.ceil(r.length/4)),d=o(r,n,Math.ceil(r.length/2));return f||d?(s=d?f&&f[4].length>d[4].length?f:d:f,e.length>t.length?(a=s[0],l=s[1],u=s[2],c=s[3]):(u=s[0],c=s[1],a=s[2],l=s[3]),[a,l,u,c,s[4]]):null},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],n=0,i=null,o=0,s=0,a=0;o<e.length;)0==e[o][0]?(r[n++]=o,s=a,a=0,i=e[o][1]):(a+=e[o][1].length,null!==i&&i.length<=s&&i.length<=a&&(e.splice(r[n-1],0,[-1,i]),e[r[n-1]+1][0]=1,n--,o=--n>0?r[n-1]:-1,s=0,a=0,i=null,t=!0)),o++;t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e)},n.prototype.diff_cleanupSemanticLossless=function(e){var t=/[^a-zA-Z0-9]/,r=/\s/,n=/[\r\n]/,i=/\n\r?\n$/,o=/^\r?\n\r?\n/;function s(e,s){if(!e||!s)return 5;var a=0;return(e.charAt(e.length-1).match(t)||s.charAt(0).match(t))&&(a++,(e.charAt(e.length-1).match(r)||s.charAt(0).match(r))&&(a++,(e.charAt(e.length-1).match(n)||s.charAt(0).match(n))&&(a++,(e.match(i)||s.match(o))&&a++))),a}for(var a=1;a<e.length-1;){if(0==e[a-1][0]&&0==e[a+1][0]){var l=e[a-1][1],u=e[a][1],c=e[a+1][1],f=this.diff_commonSuffix(l,u);if(f){var d=u.substring(u.length-f);l=l.substring(0,l.length-f),u=d+u.substring(0,u.length-f),c=d+c}for(var h=l,p=u,m=c,v=s(l,u)+s(u,c);u.charAt(0)===c.charAt(0);){l+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var g=s(l,u)+s(u,c);g>=v&&(v=g,h=l,p=u,m=c)}e[a-1][1]!=h&&(h?e[a-1][1]=h:(e.splice(a-1,1),a--),e[a][1]=p,m?e[a+1][1]=m:(e.splice(a+1,1),a--))}a++}},n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],n=0,i="",o=0,s=!1,a=!1,l=!1,u=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.Diff_EditCost&&(l||u)?(r[n++]=o,s=l,a=u,i=e[o][1]):(n=0,i=""),l=u=!1):(-1==e[o][0]?u=!0:l=!0,i&&(s&&a&&l&&u||i.length<this.Diff_EditCost/2&&s+a+l+u==3)&&(e.splice(r[n-1],0,[-1,i]),e[r[n-1]+1][0]=1,n--,i="",s&&a?(l=u=!0,n=0):(o=--n>0?r[n-1]:-1,l=u=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,r=0,n=0,i=0,o="",s="";r<e.length;)switch(e[r][0]){case 1:i++,s+=e[r][1],r++;break;case-1:n++,o+=e[r][1],r++;break;case 0:0!==n||0!==i?(0!==n&&0!==i&&(0!==(t=this.diff_commonPrefix(s,o))&&(r-n-i>0&&0==e[r-n-i-1][0]?e[r-n-i-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),r++),s=s.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(s,o))&&(e[r][1]=s.substring(s.length-t)+e[r][1],s=s.substring(0,s.length-t),o=o.substring(0,o.length-t))),0===n?e.splice(r-n-i,n+i,[1,s]):0===i?e.splice(r-n-i,n+i,[-1,o]):e.splice(r-n-i,n+i,[-1,o],[1,s]),r=r-n-i+(n?1:0)+(i?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,i=0,n=0,o="",s=""}""===e[e.length-1][1]&&e.pop();var a=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),a=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),a=!0)),r++;a&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var r,n=0,i=0,o=0,s=0;for(r=0;r<e.length&&(1!==e[r][0]&&(n+=e[r][1].length),-1!==e[r][0]&&(i+=e[r][1].length),!(n>t));r++)o=n,s=i;return e.length!=r&&-1===e[r][0]?s:s+(t-o)},n.prototype.diff_prettyHtml=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e[n][0],o=e[n][1],s=o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"&para;<BR>");switch(i){case 1:t[n]='<INS STYLE="background:#E6FFE6;" TITLE="i='+r+'">'+s+"</INS>";break;case-1:t[n]='<DEL STYLE="background:#FFE6E6;" TITLE="i='+r+'">'+s+"</DEL>";break;case 0:t[n]='<SPAN TITLE="i='+r+'">'+s+"</SPAN>"}-1!==i&&(r+=o.length)}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)-1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,r=0,n=0,i=0;i<e.length;i++){var o=e[i][0],s=e[i][1];switch(o){case 1:r+=s.length;break;case-1:n+=s.length;break;case 0:t+=Math.max(r,n),r=0,n=0}}return t+=Math.max(r,n)},n.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case-1:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/\x00/g,"%00").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var r=[],n=0,i=0,o=(t=t.replace(/%00/g,"\0")).split(/\t/g),s=0;s<o.length;s++){var a=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{r[n++]=[1,decodeURI(a)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var l=parseInt(a,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+a);var u=e.substring(i,i+=l);"="==o[s].charAt(0)?r[n++]=[0,u]:r[n++]=[-1,u];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return r},n.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap(e,t,r):-1},n.prototype.match_bitap=function(e,t,r){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet(t),i=this;function o(e,n){var o=e/t.length,s=Math.abs(r-n);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,r);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,r+t.length))&&(s=Math.min(o(0,a),s)));var l,u,c=1<<t.length-1;a=-1;for(var f,d=t.length+e.length,h=0;h<t.length;h++){for(l=0,u=d;l<u;)o(h,r+u)<=s?l=u:d=u,u=Math.floor((d-l)/2+l);d=u;var p=Math.max(1,r-u+1),m=Math.min(r+u,e.length)+t.length,v=Array(m+2);v[m+1]=(1<<h)-1;for(var g=m;g>=p;g--){var y=n[e.charAt(g-1)];if(v[g]=0===h?(v[g+1]<<1|1)&y:(v[g+1]<<1|1)&y|(f[g+1]|f[g])<<1|1|f[g+1],v[g]&c){var b=o(h,g-1);if(b<=s){if(s=b,!((a=g-1)>r))break;p=Math.max(1,2*r-a)}}}if(o(h+1,r)>s)break;f=v}return a},n.prototype.match_alphabet=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},n.prototype.patch_addContext=function(e,t){if(0!=t.length){for(var r=t.substring(e.start2,e.start2+e.length1),n=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,r=t.substring(e.start2-n,e.start2+e.length1+n);n+=this.Patch_Margin;var i=t.substring(e.start2-n,e.start2);i&&e.diffs.unshift([0,i]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+n);o&&e.diffs.push([0,o]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+o.length,e.length2+=i.length+o.length}},n.prototype.patch_make=function(e,t,n){var o,s;if("string"==typeof e&&"string"==typeof t&&void 0===n)o=e,(s=this.diff_main(o,t,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&"object"==r(e)&&void 0===t&&void 0===n)s=e,o=this.diff_text1(s);else if("string"==typeof e&&t&&"object"==r(t)&&void 0===n)o=e,s=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=r(n))throw new Error("Unknown call format to patch_make.");o=e,s=n}if(0===s.length)return[];for(var a=[],l=new i,u=0,c=0,f=0,d=o,h=o,p=0;p<s.length;p++){var m=s[p][0],v=s[p][1];switch(u||0===m||(l.start1=c,l.start2=f),m){case 1:l.diffs[u++]=s[p],l.length2+=v.length,h=h.substring(0,f)+v+h.substring(f);break;case-1:l.length1+=v.length,l.diffs[u++]=s[p],h=h.substring(0,f)+h.substring(f+v.length);break;case 0:v.length<=2*this.Patch_Margin&&u&&s.length!=p+1?(l.diffs[u++]=s[p],l.length1+=v.length,l.length2+=v.length):v.length>=2*this.Patch_Margin&&u&&(this.patch_addContext(l,d),a.push(l),l=new i,u=0,d=h,c=f)}1!==m&&(c+=v.length),-1!==m&&(f+=v.length)}return u&&(this.patch_addContext(l,d),a.push(l)),a},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],o=new i;o.diffs=[];for(var s=0;s<n.diffs.length;s++)o.diffs[s]=n.diffs[s].slice();o.start1=n.start1,o.start2=n.start2,o.length1=n.length1,o.length2=n.length2,t[r]=o}return t},n.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var n=0,i=[],o=0;o<e.length;o++){var s,a,l=e[o].start2+n,u=this.diff_text1(e[o].diffs),c=-1;if(u.length>this.Match_MaxBits?-1!=(s=this.match_main(t,u.substring(0,this.Match_MaxBits),l))&&(-1==(c=this.match_main(t,u.substring(u.length-this.Match_MaxBits),l+u.length-this.Match_MaxBits))||s>=c)&&(s=-1):s=this.match_main(t,u,l),-1==s)i[o]=!1,n-=e[o].length2-e[o].length1;else if(i[o]=!0,n=s-l,u==(a=-1==c?t.substring(s,s+u.length):t.substring(s,c+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[o].diffs)+t.substring(s+u.length);else{var f=this.diff_main(u,a,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(f)/u.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(f);for(var d,h=0,p=0;p<e[o].diffs.length;p++){var m=e[o].diffs[p];0!==m[0]&&(d=this.diff_xIndex(f,h)),1===m[0]?t=t.substring(0,s+d)+m[1]+t.substring(s+d):-1===m[0]&&(t=t.substring(0,s+d)+t.substring(s+this.diff_xIndex(f,h+m[1].length))),-1!==m[0]&&(h+=m[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),i]},n.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",n=1;n<=t;n++)r+=String.fromCharCode(n);for(n=0;n<e.length;n++)e[n].start1+=t,e[n].start2+=t;var i=e[0],o=i.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,r]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>o[0][1].length){var s=t-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],i.start1-=s,i.start2-=s,i.length1+=s,i.length2+=s}if(0==(o=(i=e[e.length-1]).diffs).length||0!=o[o.length-1][0])o.push([0,r]),i.length1+=t,i.length2+=t;else if(t>o[o.length-1][1].length){s=t-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,s),i.length1+=s,i.length2+=s}return r},n.prototype.patch_splitMax=function(e){for(var t=0;t<e.length;t++)if(e[t].length1>this.Match_MaxBits){var r=e[t];e.splice(t--,1);for(var n=this.Match_MaxBits,o=r.start1,s=r.start2,a="";0!==r.diffs.length;){var l=new i,u=!0;for(l.start1=o-a.length,l.start2=s-a.length,""!==a&&(l.length1=l.length2=a.length,l.diffs.push([0,a]));0!==r.diffs.length&&l.length1<n-this.Patch_Margin;){var c=r.diffs[0][0],f=r.diffs[0][1];1===c?(l.length2+=f.length,s+=f.length,l.diffs.push(r.diffs.shift()),u=!1):-1===c&&1==l.diffs.length&&0==l.diffs[0][0]&&f.length>2*n?(l.length1+=f.length,o+=f.length,u=!1,l.diffs.push([c,f]),r.diffs.shift()):(f=f.substring(0,n-l.length1-this.Patch_Margin),l.length1+=f.length,o+=f.length,0===c?(l.length2+=f.length,s+=f.length):u=!1,l.diffs.push([c,f]),f==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(f.length))}a=(a=this.diff_text2(l.diffs)).substring(a.length-this.Patch_Margin);var d=this.diff_text1(r.diffs).substring(0,this.Patch_Margin);""!==d&&(l.length1+=d.length,l.length2+=d.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([0,d])),u||e.splice(++t,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var r=(e=e.replace(/%00/g,"\0")).split("\n"),n=0;n<r.length;){var o=r[n].match(/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/);if(!o)throw new Error("Invalid patch string: "+r[n]);var s=new i;for(t.push(s),s.start1=parseInt(o[1],10),""===o[2]?(s.start1--,s.length1=1):"0"==o[2]?s.length1=0:(s.start1--,s.length1=parseInt(o[2],10)),s.start2=parseInt(o[3],10),""===o[4]?(s.start2--,s.length2=1):"0"==o[4]?s.length2=0:(s.start2--,s.length2=parseInt(o[4],10)),n++;n<r.length;){var a=r[n].charAt(0);try{var l=decodeURI(r[n].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==a)s.diffs.push([-1,l]);else if("+"==a)s.diffs.push([1,l]);else if(" "==a)s.diffs.push([0,l]);else{if("@"==a)break;if(""!==a)throw new Error('Invalid patch mode "'+a+'" in: '+l)}n++}}return t},i.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/\x00/g,"%00").replace(/%20/g," ")},t.diff_match_patch=n,t.patch_obj=i,t.DIFF_DELETE=-1,t.DIFF_INSERT=1,t.DIFF_EQUAL=0},"./node_modules/gson-conform/lib/asArray.js":function(e,t,r){"use strict";e.exports=function(e){return Array.isArray(e)?e:"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map((function(t){return e[t]})):[]}},"./node_modules/gson-conform/lib/forEach.js":function(e,t,r){"use strict";e.exports=function(e,t){Array.isArray(e)?e.forEach(t):"[object Object]"===Object.prototype.toString.call(e)&&Object.keys(e).forEach((function(r){t(e[r],r,e)}))}},"./node_modules/gson-conform/lib/index.js":function(e,t,r){"use strict";t.values=r("./node_modules/gson-conform/lib/values.js"),t.asArray=r("./node_modules/gson-conform/lib/asArray.js"),t.forEach=r("./node_modules/gson-conform/lib/forEach.js"),t.keyOf=r("./node_modules/gson-conform/lib/keyOf.js"),t.keys=r("./node_modules/gson-conform/lib/keys.js")},"./node_modules/gson-conform/lib/keyOf.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-conform/lib/forEach.js");e.exports=function(e,t){var r=null;return n(e,(function(e,n){t===e&&(r=n)})),r}},"./node_modules/gson-conform/lib/keys.js":function(e,t,r){"use strict";e.exports=function(e){var t;if(Array.isArray(e))t=e.map((function(e,t){return t}));else{if("[object Object]"===Object.prototype.toString.call(e))return Object.keys(e);t=[]}return t}},"./node_modules/gson-conform/lib/values.js":function(e,t,r){"use strict";e.exports=function(e){return Array.isArray(e)?e:"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map((function(t){return e[t]})):null!=e?[e]:[]}},"./node_modules/gson-pointer/index.js":function(e,t,r){"use strict";t.get=r("./node_modules/gson-pointer/lib/get.js"),t.set=r("./node_modules/gson-pointer/lib/set.js"),t.delete=r("./node_modules/gson-pointer/lib/delete.js"),t.join=r("./node_modules/gson-pointer/lib/join.js"),t.split=r("./node_modules/gson-pointer/lib/split.js"),t.isRoot=r("./node_modules/gson-pointer/lib/isRoot.js")},"./node_modules/gson-pointer/lib/delete.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/split.js"),i=r("./node_modules/gson-pointer/lib/get.js"),o=r("./node_modules/gson-pointer/lib/removeUndefinedItems.js");e.exports=function(e,t,r){var s=n(t),a=s.pop(),l=i(e,s);return l&&delete l[a],Array.isArray(l)&&!0!==r&&o(l),e}},"./node_modules/gson-pointer/lib/get.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/split.js"),i=r("./node_modules/gson-pointer/lib/isRoot.js");e.exports=function(e,t,r){if(null==t||null==e)return r;if(i(t))return e;var o=function e(t,r){var n=r.shift();if(void 0===t)return;if(void 0!==n)return e(t[n],r);return t}(e,n(t));return void 0===o?r:o}},"./node_modules/gson-pointer/lib/isRoot.js":function(e,t){e.exports=function(e){return"#"===e||""===e}},"./node_modules/gson-pointer/lib/join.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/split.js"),i=(Object.prototype.toString,Array.prototype.join,/\/+/g),o=/~/g,s=/\//g;function a(e,t){if(0===e.length)return t?"#":"";e.join("/");for(var r=0,n=e.length;r<n;r+=1)e[r]=e[r].replace(o,"~0").replace(s,"~1"),t&&(e[r]=encodeURIComponent(e[r]));return((t?"#/":"/")+e.join("/")).replace(i,"/")}e.exports=function(e){var t=[];if(Array.isArray(e))return a(e,!0===arguments[1]);for(var r=arguments[arguments.length-1],i="boolean"==typeof r?r:e&&"#"===e[0],o=0,s=arguments.length;o<s;o+=1)t.push.apply(t,n(arguments[o]));var l=[];for(o=0,s=t.length;o<s;o+=1)if(".."===t[o]){if(0===l.length)return i?"#":"";l.pop()}else l.push(t[o]);return a(l,i)}},"./node_modules/gson-pointer/lib/removeUndefinedItems.js":function(e,t,r){"use strict";e.exports=function(e){for(var t=0,r=0;t+r<e.length;)void 0===e[t+r]&&(r+=1),e[t]=e[t+r],t+=1;return e.length=e.length-r,e}},"./node_modules/gson-pointer/lib/set.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/split.js"),i=/^\[.*\]$/,o=/^\[(.+)\]$/;function s(e,t,r){var n=t.match(o);"[]"===t&&Array.isArray(e)?e.push(r):n?e[n.pop()]=r:e[t]=r}function a(e,t,r){if(null!=e[t])return e[t];var n=r?[]:{};return s(e,t,n),n}e.exports=function(e,t,r){if(null==t)return e;var o=n(t);if(0===o.length)return e;null==e&&(e=i.test(o[0])?[]:{});for(var l=e;o.length>1;)l=a(l,o.shift(),i.test(o[0]));return s(l,o.pop(),r),e}},"./node_modules/gson-pointer/lib/split.js":function(e,t,r){"use strict";var n=r("./node_modules/gson-pointer/lib/isRoot.js"),i=/~1/g,o=/~0/g,s=/\/+/g,a=/(^[#/]*|\/+$)/g;function l(e){return e.replace(i,"/").replace(o,"~")}function u(e){return l(decodeURIComponent(e))}e.exports=function(e){if(null==e||"string"!=typeof e||n(e))return Array.isArray(e)?e:[];for(var t=e.indexOf("#")>=0?u:l,r=(e=(e=e.replace(s,"/")).replace(a,"")).split("/"),i=0,o=r.length;i<o;i+=1)r[i]=t(r[i]);return r}},"./node_modules/gson-query/lib/common.js":function(e,t){var r=/^\{.*\}$/;function n(e){return(e=(e=e.replace(/^\{|\/\{/g,"§{")).replace(/\}\/|\}$/g,"}§")).split("§")}t.rIsRegExp=r,t.convertToRegExp=function(e){return new RegExp(e.replace(/^\{|\}$/g,""))},t.splitRegExp=n,t.parsePointer=function(e){var t,i,o;if(-1===(e=function(e){return(e=e.toString()).replace(/[#/]*/,"")}(e)).indexOf("{"))return e.split("/");for(o=[],t=n(e);null!=(i=t.shift());)""!==i&&(r.test(i)?o.push(i):o.push.apply(o,i.split("/")));return o}},"./node_modules/gson-query/lib/delete.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js").delete,i=r("./node_modules/gson-pointer/lib/removeUndefinedItems.js"),o=r("./node_modules/gson-query/lib/get.js");e.exports=function(e,t){var r=o(e,t,o.ALL);return r.forEach((function(t){n(e,t[3],!0)})),r.forEach((function(e){Array.isArray(e[2])&&i(e[2])})),e}},"./node_modules/gson-query/lib/filter.js":function(e,t,r){var n=r("./node_modules/gson-conform/lib/index.js"),i=r("./node_modules/gson-query/lib/common.js"),o=function(e,t){return function(r){return f(e[r],t)}},s=function(e,t,r){return function(n){return!!r.test(n)&&f(e[n],t)}},a={false:!1,true:!0,null:null};var l=/(\{[^}]*\})/g,u=/§§§\d+§§§/g;function c(e,t){if(e&&t){var r,a,c=function(e){if(-1===e.indexOf("?")||-1===e.indexOf("{"))return e.split("?",2);for(var t={},r=e.replace(l,(function(e,r,n){var i="§§§"+n+"§§§";return t[i]=e,i})).split("?",2),n=0;n<r.length;n+=1)r[n]=r[n].replace(u,(function(e){return t[e]}));return r}(t),d=c[0],h=c[1];if("*"===d||"**"===d)return(r=n.keys(e)).filter(o(e,h));if(i.rIsRegExp.test(d))return r=n.keys(e),a=i.convertToRegExp(d),r.filter(s(e,h,a));if(e[d]&&f(e[d],h))return[d]}return[]}function f(e,t){if(!t)return!0;if(!e)return!1;for(var r,n,i,o=!0,s=t.replace(/(&&)/g,"§$1§").replace(/(\|\|)/g,"§$1§").split("§"),l=!1,u=0,c=s.length;u<c;u+=2)s[u].indexOf(":!")>-1?(i=!1,n=s[u].split(":!")):-1===s[u].indexOf(":")?(i=!1,n=[s[u],void 0]):(i=!0,n=s[u].split(":")),r=n[0],n="undefined"===(n=n[1])?void 0:void 0===a[n]?n:a[n],n=i?n===e[r]:n!==e[r]&&(void 0!==e[r]||void 0===r),o=l?o||n:o&&n,l="||"===s[u+1];return o}t.values=function(e,t){return c(e,t).map((function(t){return e[t]}))},t.keys=c,t.valid=f},"./node_modules/gson-query/lib/get.js":function(e,t,r){var n=r("./node_modules/gson-query/lib/run.js");function i(e,t,r){var o=r===i.MAP?{}:[],s=function(e,t){if("function"==typeof e)return function(r,n,i,o){t.push(e(i[n],n,i,o))};switch(e){case i.ALL:return function(e,r,n,i){t.push([n[r],r,n,i])};case i.MAP:return function(e,r,n,i){t[i]=e};case i.POINTER:return function(e,r,n,i){t.push(i)};case i.VALUE:default:return function(e,r,n,i){t.push(e)}}}(r,o);return n(e,t,s),o}i.ALL="all",i.MAP="map",i.POINTER="pointer",i.VALUE="value",e.exports=i},"./node_modules/gson-query/lib/index.js":function(e,t,r){t.get=r("./node_modules/gson-query/lib/get.js"),t.run=r("./node_modules/gson-query/lib/run.js"),t.delete=r("./node_modules/gson-query/lib/delete.js"),t.filter=r("./node_modules/gson-query/lib/filter.js")},"./node_modules/gson-query/lib/run.js":function(e,t,r){var n=r("./node_modules/gson-query/lib/filter.js"),i=r("./node_modules/gson-query/lib/common.js").parsePointer,o=r("./node_modules/gson-pointer/index.js").join;e.exports=function(e,t,r){var s=i(t);""===s[0]&&s.shift(),""===s[s.length-1]&&(s.length-=1),function e(t,r,i,s){var a=r.shift();0===r.length?n.keys(t,a).forEach(function(e,t,r){return function(n){t(e[n],n,e,o(r,String(n)))}}(t,i,s)):/^\*\*/.test(a)?e(t,r.slice(0),i,s):n.keys(t,a).forEach((function(n){e(t[n],r.slice(0),i,o(s,String(n)))}));/^\*\*/.test(a)&&(r.unshift(a),n.keys(t,a).forEach((function(n){e(t[n],r.slice(0),i,o(s,String(n)))})))}(e,s,r,"#")}},"./node_modules/json-schema-library/index.js":function(e,t,r){e.exports={config:{strings:r("./node_modules/json-schema-library/lib/config/strings.js")},cores:{Interface:r("./node_modules/json-schema-library/lib/cores/CoreInterface.js"),Draft04:r("./node_modules/json-schema-library/lib/cores/Draft04.js"),JsonEditor:r("./node_modules/json-schema-library/lib/cores/JsonEditor.js")},addSchema:r("./node_modules/json-schema-library/lib/addSchema.js"),addValidator:r("./node_modules/json-schema-library/lib/addValidator.js"),compileSchema:r("./node_modules/json-schema-library/lib/compileSchema.js"),createCustomError:r("./node_modules/json-schema-library/lib/utils/createCustomError.js"),createSchemaOf:r("./node_modules/json-schema-library/lib/createSchemaOf.js"),each:r("./node_modules/json-schema-library/lib/each.js"),eachSchema:r("./node_modules/json-schema-library/lib/eachSchema.js"),getChildSchemaSelection:r("./node_modules/json-schema-library/lib/getChildSchemaSelection.js"),getSchema:r("./node_modules/json-schema-library/lib/getSchema.js"),getTemplate:r("./node_modules/json-schema-library/lib/getTemplate.js"),getTypeOf:r("./node_modules/json-schema-library/lib/getTypeOf.js"),isValid:r("./node_modules/json-schema-library/lib/isValid.js"),SchemaService:r("./node_modules/json-schema-library/lib/SchemaService.js"),step:r("./node_modules/json-schema-library/lib/step.js"),validate:r("./node_modules/json-schema-library/lib/validate.js"),validateAsync:r("./node_modules/json-schema-library/lib/validateAsync.js")}},"./node_modules/json-schema-library/lib/SchemaService.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r("./node_modules/json-schema-library/lib/getSchema.js"),o=r("./node_modules/json-schema-library/lib/cores/JsonEditor.js"),s=r("./node_modules/gson-pointer/index.js");function a(e){return JSON.parse(JSON.stringify(e))}var l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.core=new o(t),this.schema=t,this.data=r,this.cache={}}var t,r,l;return t=e,(r=[{key:"updateData",value:function(e){this.data=e,this.cache={}}},{key:"updateSchema",value:function(e){this.schema=e,this.core.setSchema(e),this.cache={}}},{key:"get",value:function(e,t){if(t)return a(i(this.core,t,this.schema,e));if("#"===e)return this.schema;if(this.cache[e])return this.cache[e];var r=s.join(e,".."),n=this.cache[r];null==n&&!0!==(n=i(this.core,this.data,this.schema,r)).variableSchema&&(this.cache[r]=a(n));var o=s.split(e).pop(),l=i(this.core,s.get(this.data,r),this.cache[r],o);return!0!==(l=a(l)).variableSchema&&(this.cache[e]=l),l}}])&&n(t.prototype,r),l&&n(t,l),e}();e.exports=l},"./node_modules/json-schema-library/lib/addSchema.js":function(e,t,r){var n=r("./node_modules/json-schema-library/remotes/index.js"),i=r("./node_modules/json-schema-library/lib/compileSchema.js");e.exports=function(e,t){t.id=t.id||e,n[e]=i(t)}},"./node_modules/json-schema-library/lib/addValidator.js":function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports={error:function(e,t,n){if("function"!=typeof n)throw new Error("Error callback 'errorCreator' must be of type function. Received ".concat(r(n)));e.errors[t]=n},format:function(e,t,n){if("function"!=typeof n)throw new Error("Validation function expected. Received ".concat(r(n)));if(null!=e.validateFormat[t])throw new Error("A format '".concat(t,"' is already registered to validation"));e.validateFormat[t]=n},keyword:function(e,t,n,i){if("function"!=typeof i)throw new Error("Validation function expected. Received ".concat(r(i)));if(null==e.typeKeywords[t])throw new Error("Unknown datatype ".concat(t,". Failed adding custom keyword validation."));!1===e.typeKeywords[t].includes(n)&&e.typeKeywords[t].push(n),e.validateKeyword[n]=i}}},"./node_modules/json-schema-library/lib/compile/getRef.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js").get,i=r("./node_modules/json-schema-library/lib/compile/splitRef.js"),o=/(#|\/)+$/g,s=r("./node_modules/json-schema-library/lib/getTypeOf.js");e.exports=function e(t,r,a){var l;if("object"===s(a)&&(a=a.__ref||a.$ref),null==a)return r;var u=a.replace(o,"");if(t.remotes[u])return(l=t.remotes[u])&&l.$ref?e(t,r,l.$ref):l;if(t.ids[a])return(l=n(r,t.ids[a]))&&l.$ref?e(t,r,l.$ref):l;var c=i(a);if(0===c.length)return r;if(1===c.length){if(a=c[0],t.remotes[a])return e(t,r,(l=t.remotes[a]).$ref);if(t.ids[a])return(l=n(r,t.ids[a]))&&l.$ref?e(t,r,l.$ref):l}if(2===c.length){var f=c[0];if(a=c[1],t.remotes[f])return t.remotes[f].getRef?t.remotes[f].getRef(a):e(t,t.remotes[f],a);if(t.ids[f])return e(t,n(r,t.ids[f]),a)}return(l=n(r,t.ids[a]||a))&&l.$ref?e(t,r,l.$ref):l}},"./node_modules/json-schema-library/lib/compile/index.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r("./node_modules/json-schema-library/lib/eachSchema.js"),o=r("./node_modules/json-schema-library/remotes/index.js"),s=r("./node_modules/json-schema-library/lib/compile/joinScope.js"),a=r("./node_modules/json-schema-library/lib/compile/getRef.js"),l=/(#|\/)+$/g;e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==e.__compiled)return e;var r={ids:{},remotes:n({},o)},u=JSON.stringify(e);if(e=JSON.parse(u),Object.defineProperty(e,"__compiled",{enumerable:!1,value:!0}),Object.defineProperty(e,"getRef",{enumerable:!1,value:a.bind(null,r,e)}),!1===t&&!1===u.includes("$ref"))return e;var c={},f=function(){return e};return i(e,(function(e,t){e.id&&(r.ids[e.id.replace(l,"")]=t);var n=(t="#".concat(t).replace(/##+/,"#")).replace(/\/[^/]+$/,""),i=t.replace(/\/[^/]+\/[^/]+$/,""),o=c[n]||c[i],a=s(o,e.id);c[t]=a,null==r.ids[a]&&(r.ids[a]=t),e.$ref&&(Object.defineProperty(e,"__ref",{enumerable:!1,value:s(a,e.$ref)}),Object.defineProperty(e,"getRoot",{enumerable:!1,value:f}))})),e}},"./node_modules/json-schema-library/lib/compile/joinScope.js":function(e,t){var r=/(#|\/)+$/,n=/#$/,i=/^[^:]+:\/\/[^/]+\//,o=/\/[^/]*$/,s=/#.*$/;e.exports=function(e,t){return null==e&&null==t?"#":null==t?e.replace(n,""):null==e?t.replace(n,""):"#"===t[0]?"".concat(e.replace(s,"")).concat(t.replace(r,"")):i.test(t)?t.replace(n,""):"".concat(e.replace(o,""),"/").concat(t.replace(n,""))}},"./node_modules/json-schema-library/lib/compile/splitRef.js":function(e,t){var r=/(#|\/)+$/g,n=["",null,"#"];e.exports=function(e){if(n.includes(e))return[];if(-1===(e=e.replace(r,"")).indexOf("#"))return[e.replace(r,"")];if(0===e.indexOf("#"))return[e.replace(r,"")];var t=e.split("#");return t[0]=t[0].replace(r,""),t[1]="#".concat(t[1].replace(r,"")),t}},"./node_modules/json-schema-library/lib/compileSchema.js":function(e,t,r){e.exports=r("./node_modules/json-schema-library/lib/compile/index.js")},"./node_modules/json-schema-library/lib/config/settings.js":function(e,t){e.exports={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,floatingPointPrecision:1e4,propertyBlacklist:["_id"]}},"./node_modules/json-schema-library/lib/config/strings.js":function(e,t){e.exports={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatUrlError:"Value `{{value}}` at `{{pointer}}` is not a valid url",FormatUriError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingOneOfPropertyError:"Value at `{{pointer}}aroperty `{{property}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",UniqueItemsError:"Expected unique items in {{pointer}}: duplicate value `{{value}}` found at {{itemPointer}} and {{duplicatePointer}}",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"}},"./node_modules/json-schema-library/lib/cores/CoreInterface.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r("./node_modules/json-schema-library/lib/resolveRef.withOverwrite.js");var i=r("./node_modules/json-schema-library/lib/compileSchema.js"),o=r("./node_modules/json-schema-library/lib/resolveAnyOf.js"),s=r("./node_modules/json-schema-library/lib/resolveAllOf.js");e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setSchema(t)}var t,r,a;return t=e,(r=[{key:"each",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]||this.rootSchema,new Error("function 'each' is not implemented")}},{key:"validate",value:function(e){return arguments.length>1&&void 0!==arguments[1]||this.rootSchema,[new Error("function 'validate' is not implemented")]}},{key:"isValid",value:function(e){return arguments.length>1&&void 0!==arguments[1]||this.rootSchema,new Error("function 'isValid' is not implemented")}},{key:"resolveAnyOf",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return o(this,e,t,r)}},{key:"resolveAllOf",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return s(this,e,t,r)}},{key:"resolveRef",value:function(e){return new Error("function 'resolveRef' is not implemented")}},{key:"resolveOneOf",value:function(e,t){return new Error("function 'resolveOneOf' is not implemented")}},{key:"getSchema",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]||this.rootSchema,new Error("function 'getSchema' is not implemented")}},{key:"getTemplate",value:function(e){return arguments.length>1&&void 0!==arguments[1]||this.rootSchema,new Error("function 'getTemplate' is not implemented")}},{key:"setSchema",value:function(e){this.rootSchema=e}},{key:"step",value:function(e,t,r){return new Error("function 'step' is not implemented")}},{key:"rootSchema",get:function(){return this.__rootSchema},set:function(e){null!=e&&(this.__rootSchema=i(e))}}])&&n(t.prototype,r),a&&n(t,a),e}()},"./node_modules/json-schema-library/lib/cores/Draft04.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=r("./node_modules/json-schema-library/lib/cores/CoreInterface.js"),f=r("./node_modules/json-schema-library/lib/step.js"),d=r("./node_modules/json-schema-library/lib/validate.js"),h=r("./node_modules/json-schema-library/lib/resolveOneOf.strict.js"),p=r("./node_modules/json-schema-library/lib/resolveRef.strict.js"),m=r("./node_modules/json-schema-library/lib/getTemplate.js"),v=r("./node_modules/json-schema-library/lib/getSchema.js"),g=r("./node_modules/json-schema-library/lib/each.js"),y=r("./node_modules/json-schema-library/lib/compileSchema.js");r("./node_modules/json-schema-library/remotes/index.js")["http://json-schema.org/draft-04/schema"]=y(r("./node_modules/json-schema-library/remotes/draft04.json"));var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,l,u=a(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).typeKeywords=JSON.parse(JSON.stringify(r("./node_modules/json-schema-library/lib/validation/typeKeywordMapping.js"))),t.validateKeyword=i({},r("./node_modules/json-schema-library/lib/validation/keyword.js")),t.validateType=i({},r("./node_modules/json-schema-library/lib/validation/type.js")),t.validateFormat=i({},r("./node_modules/json-schema-library/lib/validation/format.js")),t.errors=i({},r("./node_modules/json-schema-library/lib/validation/errors.js")),t}return t=c,(n=[{key:"each",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootSchema,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";g(this,e,t,r,n)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return d(this,e,t,r)}},{key:"isValid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return 0===this.validate(e,t,r).length}},{key:"resolveOneOf",value:function(e,t,r){return h(this,e,t,r)}},{key:"resolveRef",value:function(e){return p(e,this.rootSchema)}},{key:"getSchema",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootSchema;return v(this,e,t,r)}},{key:"getTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema;return m(this,e,t)}},{key:"step",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";return f(this,e,t,r,n)}}])&&o(t.prototype,n),l&&o(t,l),c}(c);e.exports=b},"./node_modules/json-schema-library/lib/cores/JsonEditor.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=r("./node_modules/json-schema-library/lib/cores/CoreInterface.js"),f=r("./node_modules/json-schema-library/lib/step.js"),d=r("./node_modules/json-schema-library/lib/validate.js"),h=r("./node_modules/json-schema-library/lib/resolveOneOf.fuzzy.js"),p=r("./node_modules/json-schema-library/lib/resolveRef.withOverwrite.js"),m=r("./node_modules/json-schema-library/lib/getTemplate.js"),v=r("./node_modules/json-schema-library/lib/getSchema.js"),g=r("./node_modules/json-schema-library/lib/each.js"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,l,u=a(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).typeKeywords=JSON.parse(JSON.stringify(r("./node_modules/json-schema-library/lib/validation/typeKeywordMapping.js"))),t.validateKeyword=i({},r("./node_modules/json-schema-library/lib/validation/keyword.js")),t.validateType=i({},r("./node_modules/json-schema-library/lib/validation/type.js")),t.validateFormat=i({},r("./node_modules/json-schema-library/lib/validation/format.js")),t.errors=i({},r("./node_modules/json-schema-library/lib/validation/errors.js")),t}return t=c,(n=[{key:"each",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootSchema,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";g(this,e,t,r,n)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return d(this,e,t,r)}},{key:"isValid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";return 0===this.validate(e,t,r).length}},{key:"resolveOneOf",value:function(e,t,r){return h(this,e,t,r)}},{key:"resolveRef",value:function(e){return p(e,this.rootSchema)}},{key:"getSchema",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootSchema;return v(this,e,t,r)}},{key:"getTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootSchema;return m(this,e,t)}},{key:"step",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";return f(this,e,t,r,n)}}])&&o(t.prototype,n),l&&o(t,l),c}(c);e.exports=y},"./node_modules/json-schema-library/lib/createSchemaOf.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/getTypeOf.js");e.exports=function e(t){var r={type:n(t)};return"object"===r.type&&(r.properties={},Object.keys(t).forEach((function(n){return r.properties[n]=e(t[n])}))),"array"===r.type&&1===t.length?r.items=e(t[0]):"array"===r.type&&(r.items=t.map(e)),r}},"./node_modules/json-schema-library/lib/each.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/getTypeOf.js");e.exports=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.rootSchema,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#";r(i,t,o);var s=n(t);"object"===s?Object.keys(t).forEach((function(n){var s=e.step(n,i,t,o),a=t[n];e.each(a,r,s,"".concat(o,"/").concat(n))})):"array"===s&&t.forEach((function(n,s){var a=e.step(s,i,t,o);e.each(n,r,a,"".concat(o,"/").concat(s))}))}},"./node_modules/json-schema-library/lib/eachSchema.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js"),i=r("./node_modules/json-schema-library/lib/schema/getTypeDefs.js");function o(e,t){var r=this;!0!==this.callback(e,t)&&i(e).forEach((function(e){return r.nextTypeDefs(e.def,n.join(t,e.pointer,!1))}))}function s(e,t,r){Object.keys(t.definitions).forEach((function(i){var o;(o=t.definitions[i],"[object Object]"===Object.prototype.toString.call(o))?e.nextTypeDefs(t.definitions[i],n.join(r,"definitions",i,!1)):console.log("Invalid schema in ".concat(r,"/definitions/").concat(i))}))}e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",n={callback:t,nextTypeDefs:o};n.nextTypeDefs(e,r),null!=e.definitions&&(n.callback=function(e,r){t(e,r),null!=e.definitions&&s(n,e,r)},s(n,e,r))}},"./node_modules/json-schema-library/lib/getChildSchemaSelection.js":function(e,t){e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,n=e.step(t,r,{},"#");return"error"===n.type?"one-of-error"===n.code?n.data.oneOf:n:[n]}},"./node_modules/json-schema-library/lib/getSchema.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js"),i={};function o(e,t,r,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i;if(0===r.length)return t;var a=r.shift();return(t=e.step(a,t,s,n))&&"error"===t.type?t:(s=s[a],o(e,t,r,"".concat(n,"/").concat(a),s))}e.exports=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.rootSchema,s=n.split(t);return o(e,i,s,t,r)}},"./node_modules/json-schema-library/lib/getTemplate.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,s=r("./node_modules/json-schema-library/lib/resolveOneOf.fuzzy.js"),a=r("./node_modules/json-schema-library/lib/getTypeOf.js"),l=r("./node_modules/json-schema-library/lib/utils/merge.js"),u=r("./node_modules/json-schema-library/lib/utils/copy.js"),c=r("./node_modules/json-schema-library/lib/config/settings.js");function f(e,t){if(null==t)throw new Error("Missing pointer");var r=e.$ref;return null==r||(null==o[t]||null==o[t][r]?0:o[t][r])<c.GET_TEMPLATE_RECURSION_LIMIT}function d(e,t,r){if(null==r)throw new Error("missing pointer",r);var n=t.$ref;return null==n?t:(o[r]=o[r]||{},o[r][n]=o[r][n]||0,o[r][n]+=1,e.resolveRef(t))}function h(e,t,r,i){if("object"!==a(t))return n({pointer:i},t);if(!1===f(t,i)&&null==r)return!1;var o=u(d(e,t,i));if(Array.isArray(t.anyOf)&&t.anyOf.length>0){if(f(t.anyOf[0],"".concat(i,"/anyOf/0"))){var s=d(e,t.anyOf[0],"".concat(i,"/anyOf/0"));(o=l(o,s)).pointer=t.anyOf[0].$ref||o.pointer}delete o.anyOf}if(Array.isArray(t.allOf)){for(var c=0,h=t.allOf.length;c<h;c+=1)f(t.allOf[c],"".concat(i,"/allOf/").concat(c))&&((o=l(o,d(e,t.allOf[c],"".concat(i,"/allOf/").concat(c)))).pointer=t.allOf[c].$ref||o.pointer);delete o.allOf}return o.pointer=o.pointer||t.$ref||i,o}function p(e,t,r,n){if(null==r)throw new Error("getTemplate: missing schema for data",t);if(null==n)throw new Error("Missing pointer");if(!1!==(r=h(e,r,t,n))){if(n=r.pointer,r.oneOf){var o=s(e,t,r);if(null==t&&"error"===o.type)r=r.oneOf[0];else{if("error"===o.type)return t;r=o}}if(null!=r.type){if(null!=t&&a(t)!==r.type&&(t=function(e,t){if("string"===e)return JSON.stringify(t);if("string"!=typeof t)return null;try{if(i(t=JSON.parse(t))===e)return t}catch(e){}return null}(r.type,t)),null==m[r.type])throw new Error("Unsupported type '".concat(r.type," in ").concat(JSON.stringify(r),"'"));return m[r.type](e,r,t,n)}}}var m={string:function(e,t,r){return v(t,r,"")},number:function(e,t,r){return v(t,r,0)},integer:function(e,t,r){return v(t,r,0)},boolean:function(e,t,r){return v(t,r,!1)},object:function(e,t,r,n){var i=void 0===t.default?{}:t.default,o={};return t.properties&&Object.keys(t.properties).forEach((function(s){var a=null==r||null==r[s]?i[s]:r[s];o[s]=p(e,a,t.properties[s],"".concat(n,"/properties/").concat(s))})),r&&Object.keys(r).forEach((function(e){return null==o[e]&&(o[e]=r[e])})),o},array:function(e,t,r,n){var i=void 0===t.default?[]:t.default,o=r||[];if(t.minItems=t.minItems||0,null==t.items)return o;if(Array.isArray(t.items)){for(var l=0,u=Math.min(t.minItems,t.items.length);l<u;l+=1)o[l]=p(e,null==o[l]?i[l]:o[l],t.items[l],"".concat(n,"/items/").concat(l));return o}if("object"!==a(t.items))return o;var c=h(e,t.items,r,n);if(!1===c)return o;if(n=c.pointer||n,c.oneOf&&0===o.length){for(var f=c.oneOf[0],d=0;d<t.minItems;d+=1)o[d]=p(e,null==o[d]?i[d]:o[d],f,"".concat(n,"/oneOf/0"));return o}if(c.oneOf&&o.length>0){for(var m=Math.max(t.minItems,o.length),v=0;v<m;v+=1){var g=null==o[v]?i[v]:o[v],y=s(e,g,c);o[v]=y?p(e,g,y,"".concat(n,"/oneOf/").concat(v)):g}return o}if(c.type){for(var b=0,_=Math.max(t.minItems,o.length);b<_;b+=1)o[b]=p(e,null==o[b]?i[b]:o[b],c,"".concat(n,"/items"));return o}return o}};function v(e,t,r){return null!=t?t:void 0===e.default&&Array.isArray(e.enum)?e.enum[0]:void 0===e.default?r:e.default}e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema;return o={mi:".."},p(e,t,r,"#")}},"./node_modules/json-schema-library/lib/getTypeOf.js":function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e).match(/\s([^\]]+)\]/).pop().toLowerCase()}},"./node_modules/json-schema-library/lib/isValid.js":function(e,t){e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";return 0===e.validate(t,r,n).length}},"./node_modules/json-schema-library/lib/resolveAllOf.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/copy.js"),i=r("./node_modules/json-schema-library/lib/utils/merge.js"),o=r("./node_modules/json-schema-library/lib/validation/errors.js");e.exports=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#",a=n(r),l=0;l<r.allOf.length;l+=1){var u=e.resolveRef(r.allOf[l]);if(!1===e.isValid(t,u,s))return o.allOfError({value:t,pointer:s,allOf:JSON.stringify(r.allOf)});a=i(a,u)}return delete a.allOf,a}},"./node_modules/json-schema-library/lib/resolveAnyOf.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/copy.js"),i=r("./node_modules/json-schema-library/lib/utils/merge.js"),o=r("./node_modules/json-schema-library/lib/validation/errors.js");e.exports=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#",a=!1,l=n(r),u=0;u<r.anyOf.length;u+=1){var c=e.resolveRef(r.anyOf[u]);e.isValid(t,r.anyOf[u],s)&&(a=!0,l=i(l,c))}return!1===a?o.anyOfError({value:t,pointer:s,anyOf:JSON.stringify(r.anyOf)}):(delete l.anyOf,l)}},"./node_modules/json-schema-library/lib/resolveOneOf.fuzzy.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=r("./node_modules/json-schema-library/lib/utils/filter.js"),s=r("./node_modules/json-schema-library/lib/utils/flattenArray.js"),a=r("./node_modules/json-schema-library/lib/getTypeOf.js"),l=r("./node_modules/json-schema-library/lib/config/settings.js").DECLARATOR_ONEOF;function u(e,t,r,n){if(null==r||null==t.properties)return-1;for(var i=0,o=Object.keys(t.properties),s=0;s<o.length;s+=1){var a=o[s];null!=r[a]&&e.isValid(r[a],t.properties[a],n)&&(i+=1)}return i}e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";if(null!=t&&r[l]){var c=[],f=r[l],d=t[r[l]];if(void 0===d)return e.errors.missingOneOfPropertyError({property:f,pointer:i});for(var h=0;h<r.oneOf.length;h+=1){var p=e.resolveRef(r.oneOf[h]),m=e.step(f,p,t,i);if(m&&"error"===m.type)return m;var v=s(e.validate(d,m,i));if(!((v=v.filter(o.errorOrPromise)).length>0))return r.oneOf[h];c.push.apply(c,n(v))}return e.errors.oneOfPropertyError({property:f,value:d,pointer:i,errors:c})}for(var g=[],y=0;y<r.oneOf.length;y+=1){var b=e.resolveRef(r.oneOf[y]);e.isValid(t,b,i)&&g.push(b)}if(1===g.length)return g[0];if("object"===a(t)){for(var _,j=0,O=0;O<r.oneOf.length;O+=1){var x=e.resolveRef(r.oneOf[O]),E=u(e,x,t);j<E&&(j=E,_=r.oneOf[O])}return void 0===_?e.errors.oneOfError({value:JSON.stringify(t),pointer:i,oneOf:r.oneOf}):_}return g.length>1?e.errors.multipleOneOfError({matches:g,data:t,pointer:i}):e.errors.oneOfError({value:JSON.stringify(t),pointer:i,oneOf:r.oneOf})}},"./node_modules/json-schema-library/lib/resolveOneOf.strict.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=r("./node_modules/json-schema-library/lib/utils/filter.js"),s=r("./node_modules/json-schema-library/lib/utils/flattenArray.js");e.exports=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#",a=[],l=[],u=0;u<r.oneOf.length;u+=1){var c=e.resolveRef(r.oneOf[u]),f=s(e.validate(t,c,i));(f=f.filter(o.errorOrPromise)).length>0?l.push.apply(l,n(f)):a.push(c)}return 1===a.length?a[0]:a.length>1?e.errors.multipleOneOfError({value:t,pointer:i,matches:a}):e.errors.oneOfError({value:JSON.stringify(t),pointer:i,oneOf:r.oneOf,errors:l})}},"./node_modules/json-schema-library/lib/resolveRef.strict.js":function(e,t){e.exports=function(e,t){return null==e||null==e.$ref?e:t.getRef(e)}},"./node_modules/json-schema-library/lib/resolveRef.withOverwrite.js":function(e,t){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}e.exports=function(e,t){if(null==e||null==e.$ref)return e;var n=r({},t.getRef(e),e);return delete n.$ref,Object.defineProperty(n,"__ref",{enumerable:!1,value:e.__ref}),Object.defineProperty(n,"getRoot",{enumerable:!1,value:e.getRoot}),n}},"./node_modules/json-schema-library/lib/schema/getTypeDefs.js":function(e,t,r){var n=r("./node_modules/gson-pointer/index.js"),i=r("./node_modules/gson-query/lib/index.js"),o=r("./node_modules/json-schema-library/lib/schema/getTypeId.js"),s=r("./node_modules/json-schema-library/lib/schema/types.js");e.exports=function(e){var t=[],r=o(e);if(null==r)return t;var a=s[r];return null==a.definitions||a.definitions.forEach((function(r){i.run(e,r,(function(e,r,i,s){(function(e){return"[object Object]"===Object.prototype.toString.call(e)})(e)&&o(e)&&t.push({pointer:n.join(n.split(s),!1),def:e})}))})),t}},"./node_modules/json-schema-library/lib/schema/getTypeId.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/schema/types.js"),i=Object.keys(n).filter((function(e){return!1===n[e].type}));e.exports=function(e){if(!1!=(t=e,"[object Object]"===Object.prototype.toString.call(t))){var t;if(e.enum)return"enum";if(n[e.type])return e.type;var r=i.filter((function(t){return e[t]}));if(1===r.length)return r[0];if(0!==r.length)throw new Error("Mutiple typeIds [".concat(r.join(", "),"] matched in ").concat(JSON.stringify(e)));for(var o=0,s=n.object.keywords.length;o<s;o+=1){var a=n.object.keywords[o];if(e.hasOwnProperty(a))return"object"}for(var l=0,u=n.array.keywords.length;l<u;l+=1){var c=n.array.keywords[l];if(e.hasOwnProperty(c))return"array"}}}},"./node_modules/json-schema-library/lib/schema/types.js":function(e,t){e.exports={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}}},"./node_modules/json-schema-library/lib/step.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/getTypeOf.js"),i=r("./node_modules/json-schema-library/lib/createSchemaOf.js"),o=r("./node_modules/json-schema-library/lib/validation/errors.js"),s=r("./node_modules/json-schema-library/lib/utils/merge.js"),a={array:function(e,t,r,s,a){var l=n(r.items);if("object"===l)return Array.isArray(r.items.oneOf)?e.resolveOneOf(s[t],r.items,a)||!1:Array.isArray(r.items.anyOf)?e.resolveAnyOf(s[t],r.items,a):Array.isArray(r.items.allOf)?e.resolveAllOf(s[t],r.items,a):e.resolveRef(r.items);if("array"===l){if(r.items[t])return e.resolveRef(r.items[t]);if(!1===r.additionalItems)return o.additionalItemsError({key:t,value:s[t],pointer:a});if(!0===r.additionalItems||void 0===r.additionalItems)return i(s[t]);if("object"===n(r.additionalItems))return r.additionalItems;throw new Error("Invalid schema ".concat(JSON.stringify(r,null,4)," for ").concat(JSON.stringify(s,null,4)))}return!1!==r.additionalItems&&s[t]?i(s[t]):new Error("Invalid array schema for ".concat(t," at ").concat(a))},object:function(e,t,r,a,l){if(Array.isArray(r.oneOf)){var u=e.resolveOneOf(a,r,l);if((r=s(r,u))&&"error"===r.type)return r}if(Array.isArray(r.anyOf)&&(r=e.resolveAnyOf(a,r,l))&&"error"===r.type)return r;if(Array.isArray(r.allOf)&&(r=e.resolveAllOf(a,r,l))&&"error"===r.type)return r;var c;if(r.properties&&void 0!==r.properties[t]){if((c=e.resolveRef(r.properties[t]))&&"error"===c.type)return c;if(c&&Array.isArray(c.oneOf)){var f=e.resolveOneOf(a[t],c,"".concat(l,"/").concat(t));return(f=JSON.parse(JSON.stringify(f))).variableSchema=!0,f.oneOfSchema=c,f}if(c)return c}if("object"===n(r.patternProperties))for(var d=Object.keys(r.patternProperties),h=0,p=d.length;h<p;h+=1)if(new RegExp(d[h]).test(t))return r.patternProperties[d[h]];return"object"===n(r.additionalProperties)?r.additionalProperties:!0===r.additionalProperties?i(a):o.unknownPropertyError({property:t,value:a,pointer:l})}};e.exports=function(e,t,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#",s=r.type||n(i);return a[s]?a[s](e,t,r,i,o):new Error("Unsupported schema type ".concat(r.type," for key ").concat(t))}},"./node_modules/json-schema-library/lib/utils/__.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/config/strings.js"),i=r("./node_modules/json-schema-library/lib/utils/render.js");e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=n[e]||r;return i(o,t)}},"./node_modules/json-schema-library/lib/utils/copy.js":function(e,t){e.exports=function(e){return JSON.parse(JSON.stringify(e))}},"./node_modules/json-schema-library/lib/utils/createCustomError.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/__.js");e.exports=function(e){return function(t){return{type:"error",name:e,code:(r=e,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),message:n(e,t),data:t};var r}}},"./node_modules/json-schema-library/lib/utils/filter.js":function(e,t){function r(e){return e instanceof Promise}function n(e){return e&&"error"===e.type}e.exports={isError:n,isPromise:r,errorOrPromise:function(e){return n(e)||r(e)},errorsOnly:function(e){return n(e)}}},"./node_modules/json-schema-library/lib/utils/flattenArray.js":function(e,t){e.exports=function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0;n<t.length;n+=1)Array.isArray(t[n])?e(t[n],r):r.push(t[n]);return r}},"./node_modules/json-schema-library/lib/utils/merge.js":function(e,t,r){var n=r("./node_modules/deepmerge/dist/cjs.js"),i=function(e,t){return t};e.exports=function(e,t){return n(e,t,{arrayMerge:i})}},"./node_modules/json-schema-library/lib/utils/punycode.ucs2decode.js":function(e,t){e.exports=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}},"./node_modules/json-schema-library/lib/utils/render.js":function(e,t){e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/\{\{\w+\}\}/g,(function(e){return t[e.replace(/[{}]/g,"")]}))}},"./node_modules/json-schema-library/lib/validate.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/getTypeOf.js"),i=r("./node_modules/json-schema-library/lib/utils/filter.js"),o=r("./node_modules/json-schema-library/lib/utils/flattenArray.js");function s(e,t){var r=n(e);return"number"===r&&("integer"===t||Array.isArray(t)&&t.includes("integer"))&&(r=Number.isInteger(e)?"integer":"number"),r}e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rootSchema,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";if("error"===r.type)return[r];var a=s(t,(r=e.resolveRef(r)).type),l=r.type||a;if(!(a===l||Array.isArray(l)&&l.includes(a)))return[e.errors.typeError({received:a,expected:l,value:t,pointer:n})];if(null==e.validateType[a])return[e.errors.invalidTypeError({receivedType:a,pointer:n})];var u=o(e.validateType[a](e,r,t,n));return u.filter(i.errorOrPromise)}},"./node_modules/json-schema-library/lib/validateAsync.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/filter.js"),i=r("./node_modules/json-schema-library/lib/utils/flattenArray.js");e.exports=function(e,t,r){var o=r.schema,s=void 0===o?e.rootSchema:o,a=r.pointer,l=void 0===a?"#":a,u=r.onError,c=e.validate(t,s,l);if(u){c=i(c);for(var f=function(e){return function t(r){return Array.isArray(r)?((r=i(r)).forEach(t),r):(n.isError(r)&&e(r),r)}}(u),d=0;d<c.length;d+=1)c[d]instanceof Promise?c[d].then(f):n.isError(c[d])&&u(c[d])}return Promise.all(c).then(i).then((function(e){return e.filter(n.errorsOnly)})).catch((function(e){throw console.log("Failed resolving promises",e.message),console.log(e.stack),e}))}},"./node_modules/json-schema-library/lib/validation/errors.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/utils/createCustomError.js"),i={additionalItemsError:n("AdditionalItemsError"),additionalPropertiesError:n("AdditionalPropertiesError"),anyOfError:n("AnyOfError"),allOfError:n("AllOfError"),enumError:n("EnumError"),formatUrlError:n("FormatUrlError"),formatUriError:n("FormatUriError"),formatDateTimeError:n("FormatDateTimeError"),formatEmailError:n("FormatEmailError"),formatHostnameError:n("FormatHostnameError"),formatIPV4Error:n("FormatIPV4Error"),formatIPV6Error:n("FormatIPV6Error"),formatRegExError:n("FormatRegExError"),invalidSchemaError:n("InvalidSchemaError"),invalidTypeError:n("InvalidTypeError"),maximumError:n("MaximumError"),maxItemsError:n("MaxItemsError"),maxLengthError:n("MaxLengthError"),maxPropertiesError:n("MaxPropertiesError"),minimumError:n("MinimumError"),minItemsError:n("MinItemsError"),minLengthError:n("MinLengthError"),minPropertiesError:n("MinPropertiesError"),missingDependencyError:n("MissingDependencyError"),missingOneOfPropertyError:n("MissingOneOfPropertyError"),multipleOfError:n("MultipleOfError"),multipleOneOfError:n("MultipleOneOfError"),noAdditionalPropertiesError:n("NoAdditionalPropertiesError"),notError:n("NotError"),oneOfError:n("OneOfError"),oneOfPropertyError:n("OneOfPropertyError"),patternError:n("PatternError"),patternPropertiesError:n("PatternPropertiesError"),requiredPropertyError:n("RequiredPropertyError"),typeError:n("TypeError"),undefinedValueError:n("UndefinedValueError"),uniqueItemsError:n("UniqueItemsError"),unknownPropertyError:n("UnknownPropertyError"),valueNotEmptyError:n("ValueNotEmptyError")};e.exports=i},"./node_modules/json-schema-library/lib/validation/format.js":function(e,t,r){var n=r("./node_modules/json-schema-library/lib/validation/errors.js"),i=r("./node_modules/valid-url/index.js"),o=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),s=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,l={"date-time":function(e,t,r,i){return""===r||o.test(r)?"Invalid Date"===new Date(r).toString()?n.formatDateTimeError({value:r,pointer:i}):void 0:n.formatDateTimeError({value:r,pointer:i})},email:function(e,t,r,i){if(""!==r&&!r.includes("@"))return n.formatEmailError({value:r,pointer:i})},hostname:function(e,t,r,i){if(""!==r&&!/\./.test(r))return n.formatHostnameError({value:r,pointer:i})},ipv4:function(e,t,r,i){if(""!==r&&!s.test(r))return n.formatIPV4Error({value:r,pointer:i})},ipv6:function(e,t,r,i){if(""!==r&&!a.test(r))return n.formatIPV6Error({value:r,pointer:i})},regex:function(e,t,r,i){if("string"!=typeof r||!1!==/\\Z$/.test(r))return n.formatRegExError({value:r,pointer:i})},uri:function(e,t,r,o){if(""!==r&&!i.isUri(r))return n.formatUriError({value:r,pointer:o})},url:function(e,t,r,o){if(""!==r&&!i.isWebUri(r))return n.formatUrlError({value:r,pointer:o})}};e.exports=l},"./node_modules/json-schema-library/lib/validation/keyword.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=r("./node_modules/json-schema-library/lib/getTypeOf.js"),a=r("./node_modules/json-schema-library/lib/utils/punycode.ucs2decode.js"),l=r("./node_modules/json-schema-library/lib/config/settings.js"),u=l.floatingPointPrecision,c={additionalProperties:function(e,t,r,n){if(!0!==t.additionalProperties&&null!=t.additionalProperties&&("object"!==s(t.patternProperties)||!1!==t.additionalProperties)){var i=[],a=Object.keys(r).filter((function(e){return!1===l.propertyBlacklist.includes(e)})),u=Object.keys(t.properties||{});if("object"===s(t.patternProperties)){var c=Object.keys(t.patternProperties).map((function(e){return new RegExp(e)}));a=a.filter((function(e){for(var t=0;t<c.length;t+=1)if(c[t].test(e))return!1;return!0}))}for(var f=0,d=a.length;f<d;f+=1){var h=a[f];if(-1===u.indexOf(h)){var p="object"===o(t.additionalProperties);if(p&&Array.isArray(t.additionalProperties.oneOf)){var m=e.resolveOneOf(r[h],t.additionalProperties,"".concat(n,"/").concat(h));"error"===m.type?i.push(e.errors.additionalPropertiesError({schema:t.additionalProperties,property:a[f],properties:u,pointer:n,errors:m.data.errors})):i.push(e.validate(r[h],m,n))}else p?0!==e.validate(r[h],t.additionalProperties,n).length&&i.push(e.errors.additionalPropertiesError({schema:t.additionalProperties,property:a[f],properties:u,pointer:n})):i.push(e.errors.noAdditionalPropertiesError({property:a[f],properties:u,pointer:n}))}}return i}},allOf:function(e,t,r,n){if(!1!==Array.isArray(t.allOf)){var i=[];return t.allOf.forEach((function(t){i.push(e.validate(r,t,n))})),i}},anyOf:function(e,t,r,n){if(!1!==Array.isArray(t.anyOf)){for(var i=0;i<t.anyOf.length;i+=1)if(e.isValid(r,t.anyOf[i]))return;return e.errors.anyOfError({anyOf:t.anyOf,value:r,pointer:n})}},dependencies:function(e,t,r,i){if("object"===s(t.dependencies)){var o=[];return Object.keys(r).forEach((function(a){if(void 0!==t.dependencies[a]){var l,u=s(t.dependencies[a]);if("array"===u)l=t.dependencies[a].filter((function(e){return void 0===r[e]})).map((function(t){return e.errors.missingDependencyError({missingProperty:t,pointer:i})}));else{if("object"!==u)throw new Error("Invalid dependency definition for ".concat(i,"/").concat(a,". Must be list or schema"));l=e.validate(r,t.dependencies[a])}o.push.apply(o,n(l))}})),o.length>0?o:void 0}},enum:function(e,t,r,n){var i=s(r);if("object"===i||"array"===i){for(var o=JSON.stringify(r),a=0;a<t.enum.length;a+=1)if(JSON.stringify(t.enum[a])===o)return}else if(t.enum.includes(r))return;return e.errors.enumError({values:t.enum,value:r,pointer:n})},format:function(e,t,r,n){if(e.validateFormat[t.format])return e.validateFormat[t.format](e,t,r,n)},items:function(e,t,r,i){for(var o=[],s=0;s<r.length;s+=1){var a=r[s],l=e.step(s,t,r,i);if(l&&"error"===l.type)return[l];var u=e.validate(a,l,"".concat(i,"/").concat(s));o.push.apply(o,n(u))}return o},maximum:function(e,t,r,n){if(!isNaN(t.maximum))return t.maximum&&t.maximum<r||t.maximum&&!0===t.exclusiveMaximum&&t.maximum===r?e.errors.maximumError({maximum:t.maximum,length:r,pointer:n}):void 0},maxItems:function(e,t,r,n){if(!isNaN(t.maxItems))return t.maxItems<r.length?e.errors.maxItemsError({maximum:t.maxItems,length:r.length,pointer:n}):void 0},maxLength:function(e,t,r,n){if(!isNaN(t.maxLength)){var i=a(r).length;return t.maxLength<i?e.errors.maxLengthError({maxLength:t.maxLength,length:i,pointer:n}):void 0}},maxProperties:function(e,t,r,n){var i=Object.keys(r).length;if(!1===isNaN(t.maxProperties)&&t.maxProperties<i)return e.errors.maxPropertiesError({maxProperties:t.maxProperties,length:i,pointer:n})},minLength:function(e,t,r,n){if(!isNaN(t.minLength)){var i=a(r).length;return t.minLength>i?e.errors.minLengthError({minLength:t.minLength,length:i,pointer:n}):void 0}},minimum:function(e,t,r,n){if(!isNaN(t.minimum))return t.minimum>r||!0===t.exclusiveMinimum&&t.minimum===r?e.errors.minimumError({minimum:t.minimum,length:r,pointer:n}):void 0},minItems:function(e,t,r,n){if(!isNaN(t.minItems))return t.minItems>r.length?e.errors.minItemsError({minItems:t.minItems,length:r.length,pointer:n}):void 0},minProperties:function(e,t,r,n){if(!isNaN(t.minProperties)){var i=Object.keys(r).length;return t.minProperties>i?e.errors.minPropertiesError({minProperties:t.minProperties,length:i,pointer:n}):void 0}},multipleOf:function(e,t,r,n){if(!isNaN(t.multipleOf))return r*u%(t.multipleOf*u)/u!=0?e.errors.multipleOfError({multipleOf:t.multipleOf,value:r,pointer:n}):void 0},not:function(e,t,r,n){var i=[];return 0===e.validate(r,t.not,n).length&&i.push(e.errors.notError({value:r,not:t.not,pointer:n})),i},oneOf:function(e,t,r,n){if(!1!==Array.isArray(t.oneOf))return(t=e.resolveOneOf(r,t,n))&&"error"===t.type?t:void 0},pattern:function(e,t,r,n){if(!1===new RegExp(t.pattern).test(r))return e.errors.patternError({pattern:t.pattern,description:t.patternExample||t.pattern,received:r,pointer:n})},patternProperties:function(e,t,r,i){var o=t.properties||{},a=t.patternProperties;if("object"===s(a)){var l=[],u=Object.keys(r),c=Object.keys(a).map((function(e){return{regex:new RegExp(e),patternSchema:a[e]}}));return u.forEach((function(s){for(var u=!1,f=0,d=c.length;f<d;f+=1)if(c[f].regex.test(s)){u=!0;var h=e.validate(r[s],c[f].patternSchema,"".concat(i,"/").concat(s));h&&h.length>0&&l.push.apply(l,n(h))}o[s]||!1===u&&!1===t.additionalProperties&&l.push(e.errors.patternPropertiesError({key:s,pointer:i,patterns:Object.keys(a).join(",")}))})),l}},properties:function(e,t,r,i){for(var o=[],s=Object.keys(t.properties||{}),a=0;a<s.length;a+=1){var l=s[a];if(void 0!==r[l]){var u=e.step(l,t,r,i),c=e.validate(r[l],u,"".concat(i,"/").concat(l));o.push.apply(o,n(c))}}return o},propertiesRequired:function(e,t,r,i){for(var o=[],s=Object.keys(t.properties||{}),a=0;a<s.length;a+=1){var l=s[a];if(void 0===r[l])o.push(e.errors.requiredPropertyError({key:l,pointer:i}));else{var u=e.step(l,t,r,i),c=e.validate(r[l],u,"".concat(i,"/").concat(l));o.push.apply(o,n(c))}}return o},required:function(e,t,r,n){if(!1!==Array.isArray(t.required))return t.required.map((function(t){if(void 0===r[t])return e.errors.requiredPropertyError({key:t,pointer:n})}))},requiredNotEmpty:function(e,t,r,n){if(!1!==Array.isArray(t.required))return t.required.map((function(t){if(null==r[t]||""===r[t])return e.errors.valueNotEmptyError({property:t,pointer:"".concat(n,"/").concat(t)})}))},uniqueItems:function(e,t,r,n){if(!1!==(Array.isArray(r)&&t.uniqueItems)){var i=[],o={};return r.forEach((function(t,r){var s=JSON.stringify(t),a="".concat(n,"/").concat(r);o[s]?i.push(e.errors.uniqueItemsError({pointer:n,itemPointer:o[s],duplicatePointer:a,value:s})):o[s]=a})),i}}};e.exports=c},"./node_modules/json-schema-library/lib/validation/type.js":function(e,t){e.exports={array:function(e,t,r,n){return e.typeKeywords.array.filter((function(e){return t&&null!=t[e]})).map((function(i){return e.validateKeyword[i](e,t,r,n)}))},object:function(e,t,r,n){return e.typeKeywords.object.filter((function(e){return t&&null!=t[e]})).map((function(i){return e.validateKeyword[i](e,t,r,n)}))},string:function(e,t,r,n){return e.typeKeywords.string.filter((function(e){return t&&null!=t[e]})).map((function(i){return e.validateKeyword[i](e,t,r,n)}))},integer:function(e,t,r,n){return e.typeKeywords.number.filter((function(e){return t&&null!=t[e]})).map((function(i){return e.validateKeyword[i](e,t,r,n)}))},number:function(e,t,r,n){return e.typeKeywords.number.filter((function(e){return t&&null!=t[e]})).map((function(i){return e.validateKeyword[i](e,t,r,n)}))},boolean:function(e,t,r,n){return e.typeKeywords.boolean.filter((function(e){return t&&null!=t[e]})).map((function(i){return e.validateKeyword[i](e,t,r,n)}))},null:function(e,t,r,n){return e.typeKeywords.null.filter((function(e){return t&&null!=t[e]})).map((function(i){return e.validateKeyword[i](e,t,r,n)}))}}},"./node_modules/json-schema-library/lib/validation/typeKeywordMapping.js":function(e,t){e.exports={array:["enum","items","minItems","maxItems","uniqueItems","not"],boolean:["enum","not"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["enum","format","maxLength","minLength","pattern","not","oneOf","allOf","anyOf"],number:["enum","format","maximum","minimum","multipleOf","not","oneOf","allOf","anyOf"],null:["enum","format","not","oneOf","allOf","anyOf"]}},"./node_modules/json-schema-library/remotes/draft04.json":function(e){e.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"$schema":{"type":"string","format":"uri"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},"./node_modules/json-schema-library/remotes/index.js":function(e,t,r){e.exports={"http://json-schema.org/draft-04/schema":r("./node_modules/json-schema-library/remotes/draft04.json"),reset:function(){var e=this;Object.keys(this).forEach((function(t){"function"!=typeof e[t]&&"http://json-schema.org/draft-04/schema"!==t&&delete e[t]}))}}},"./node_modules/jsondiffpatch/dist/empty.js":function(e,t){},"./node_modules/jsondiffpatch/dist/jsondiffpatch.umd.js":function(e,t,r){var n,i,o,s;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}s=function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var r="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+a(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==a(t)&&"function"!=typeof t?e:t},u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},f=function(){function e(t){n(this,e),this.selfOptions=t||{},this.pipes={}}return i(e,[{key:"options",value:function(e){return e&&(this.selfOptions=e),this.selfOptions}},{key:"pipe",value:function(e,t){var r=t;if("string"==typeof e){if(void 0===r)return this.pipes[e];this.pipes[e]=r}if(e&&e.name){if(r=e,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}},{key:"process",value:function(e,t){var r=e;r.options=this.options();for(var n=t||e.pipe||"default",i=void 0,o=void 0;n;)void 0!==r.nextAfterChildren&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),"string"==typeof n&&(n=this.pipe(n)),n.process(r),o=r,i=n,n=null,r&&r.next&&(r=r.next,n=o.nextPipe||r.pipe||i);return r.hasResult?r.result:void 0}}]),e}(),d=function(){function e(t){n(this,e),this.name=t,this.filters=[]}return i(e,[{key:"process",value:function(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var t=this.debug,n=this.filters.length,i=e,o=0;o<n;o++){var s=this.filters[o];if(t&&this.log("filter: "+s.filterName),s(i),"object"===(void 0===i?"undefined":r(i))&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)}},{key:"log",value:function(e){console.log("[jsondiffpatch] "+this.name+" pipe, "+e)}},{key:"append",value:function(){var e;return(e=this.filters).push.apply(e,arguments),this}},{key:"prepend",value:function(){var e;return(e=this.filters).unshift.apply(e,arguments),this}},{key:"indexOf",value:function(e){if(!e)throw new Error("a filter name is required");for(var t=0;t<this.filters.length;t++)if(this.filters[t].filterName===e)return t;throw new Error("filter not found: "+e)}},{key:"list",value:function(){return this.filters.map((function(e){return e.filterName}))}},{key:"after",value:function(e){var t=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(t+1,0),Array.prototype.splice.apply(this.filters,r),this}},{key:"before",value:function(e){var t=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(t,0),Array.prototype.splice.apply(this.filters,r),this}},{key:"replace",value:function(e){var t=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(t,1),Array.prototype.splice.apply(this.filters,r),this}},{key:"remove",value:function(e){var t=this.indexOf(e);return this.filters.splice(t,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(e){if(!1!==e){if(!this.resultCheck){var t=this;return this.resultCheck=function(e){if(!e.hasResult){console.log(e);var r=new Error(t.name+" failed");throw r.noResult=!0,r}},this}}else this.resultCheck=null}}]),e}(),h=function(){function e(){n(this,e)}return i(e,[{key:"setResult",value:function(e){return this.result=e,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(e,t){return"string"==typeof e||e instanceof d?this.nextPipe=e:(this.next=e,t&&(this.nextPipe=t)),this}},{key:"push",value:function(e,t){return e.parent=this,void 0!==t&&(e.childName=t),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}}]),e}(),p="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array};function m(e){if("object"!==(void 0===e?"undefined":r(e)))return e;if(null===e)return null;if(p(e))return e.map(m);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return t=/^\/(.*)\/([gimyu]*)$/.exec(e.toString()),new RegExp(t[1],t[2]);var t,n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=m(e[i]));return n}var v=function(e){function t(e,r){n(this,t);var i=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.left=e,i.right=r,i.pipe="diff",i}return s(t,e),i(t,[{key:"setResult",value:function(e){if(this.options.cloneDiffValues&&"object"===(void 0===e?"undefined":r(e))){var t="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:m;"object"===r(e[0])&&(e[0]=t(e[0])),"object"===r(e[1])&&(e[1]=t(e[1]))}return h.prototype.setResult.apply(this,arguments)}}]),t}(h),g=function(e){function t(e,r){n(this,t);var i=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.left=e,i.delta=r,i.pipe="patch",i}return s(t,e),t}(h),y=function(e){function t(e){n(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.delta=e,r.pipe="reverse",r}return s(t,e),t}(h),b="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},_=function(e){if(e.left!==e.right)if(void 0!==e.left)if(void 0!==e.right){if("function"==typeof e.left||"function"==typeof e.right)throw new Error("functions are not supported");e.leftType=null===e.left?"null":r(e.left),e.rightType=null===e.right?"null":r(e.right),e.leftType===e.rightType&&"boolean"!==e.leftType&&"number"!==e.leftType?("object"===e.leftType&&(e.leftIsArray=b(e.left)),"object"===e.rightType&&(e.rightIsArray=b(e.right)),e.leftIsArray===e.rightIsArray?e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()}else e.setResult([e.left,0,0]).exit();else{if("function"==typeof e.right)throw new Error("functions are not supported");e.setResult([e.right]).exit()}else e.setResult(void 0).exit()};_.filterName="trivial";var j=function(e){if(void 0!==e.delta){if(e.nested=!b(e.delta),!e.nested)if(1!==e.delta.length)if(2!==e.delta.length)3===e.delta.length&&0===e.delta[2]&&e.setResult(void 0).exit();else{if(e.left instanceof RegExp){var t=/^\/(.*)\/([gimyu]+)$/.exec(e.delta[1]);if(t)return void e.setResult(new RegExp(t[1],t[2])).exit()}e.setResult(e.delta[1]).exit()}else e.setResult(e.delta[0]).exit()}else e.setResult(e.left).exit()};j.filterName="trivial";var O=function(e){void 0!==e.delta?(e.nested=!b(e.delta),e.nested||(1!==e.delta.length?2!==e.delta.length?3===e.delta.length&&0===e.delta[2]&&e.setResult([e.delta[0]]).exit():e.setResult([e.delta[1],e.delta[0]]).exit():e.setResult([e.delta[0],0,0]).exit())):e.setResult(e.delta).exit()};function x(e){if(e&&e.children){for(var t=e.children.length,r=void 0,n=e.result,i=0;i<t;i++)void 0!==(r=e.children[i]).result&&((n=n||{})[r.childName]=r.result);n&&e.leftIsArray&&(n._t="a"),e.setResult(n).exit()}}function E(e){if(!e.leftIsArray&&"object"===e.leftType){var t=void 0,r=void 0,n=e.options.propertyFilter;for(t in e.left)Object.prototype.hasOwnProperty.call(e.left,t)&&(n&&!n(t,e)||(r=new v(e.left[t],e.right[t]),e.push(r,t)));for(t in e.right)Object.prototype.hasOwnProperty.call(e.right,t)&&(n&&!n(t,e)||void 0===e.left[t]&&(r=new v(void 0,e.right[t]),e.push(r,t)));e.children&&0!==e.children.length?e.exit():e.setResult(void 0).exit()}}O.filterName="trivial",x.filterName="collectChildren",E.filterName="objects";var w=function(e){if(e.nested&&!e.delta._t){var t=void 0,r=void 0;for(t in e.delta)r=new g(e.left[t],e.delta[t]),e.push(r,t);e.exit()}};w.filterName="objects";var A=function(e){if(e&&e.children&&!e.delta._t){for(var t=e.children.length,r=void 0,n=0;n<t;n++)r=e.children[n],Object.prototype.hasOwnProperty.call(e.left,r.childName)&&void 0===r.result?delete e.left[r.childName]:e.left[r.childName]!==r.result&&(e.left[r.childName]=r.result);e.setResult(e.left).exit()}};A.filterName="collectChildren";var S=function(e){if(e.nested&&!e.delta._t){var t=void 0,r=void 0;for(t in e.delta)r=new y(e.delta[t]),e.push(r,t);e.exit()}};function P(e){if(e&&e.children&&!e.delta._t){for(var t=e.children.length,r=void 0,n={},i=0;i<t;i++)n[(r=e.children[i]).childName]!==r.result&&(n[r.childName]=r.result);e.setResult(n).exit()}}S.filterName="objects",P.filterName="collectChildren";var T=function(e,t,r,n){return e[r]===t[n]},I=function(e,t,r,n){var i=n||{},o=function e(t,r,n,i,o,s){if(0===i||0===o)return{sequence:[],indices1:[],indices2:[]};if(t.match(r,n,i-1,o-1,s)){var a=e(t,r,n,i-1,o-1,s);return a.sequence.push(r[i-1]),a.indices1.push(i-1),a.indices2.push(o-1),a}return t[i][o-1]>t[i-1][o]?e(t,r,n,i,o-1,s):e(t,r,n,i-1,o,s)}(function(e,t,r,n){var i=e.length,o=t.length,s=void 0,a=void 0,l=[i+1];for(s=0;s<i+1;s++)for(l[s]=[o+1],a=0;a<o+1;a++)l[s][a]=0;for(l.match=r,s=1;s<i+1;s++)for(a=1;a<o+1;a++)r(e,t,s-1,a-1,n)?l[s][a]=l[s-1][a-1]+1:l[s][a]=Math.max(l[s-1][a],l[s][a-1]);return l}(e,t,r||T,i),e,t,e.length,t.length,i);return"string"==typeof e&&"string"==typeof t&&(o.sequence=o.sequence.join("")),o},k="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},C="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n]===t)return n;return-1};function M(e,t,n,i,o){var s=e[n],a=t[i];if(s===a)return!0;if("object"!==(void 0===s?"undefined":r(s))||"object"!==(void 0===a?"undefined":r(a)))return!1;var l=o.objectHash;if(!l)return o.matchByPosition&&n===i;var u=void 0,c=void 0;return"number"==typeof n?(o.hashCache1=o.hashCache1||[],void 0===(u=o.hashCache1[n])&&(o.hashCache1[n]=u=l(s,n))):u=l(s),void 0!==u&&("number"==typeof i?(o.hashCache2=o.hashCache2||[],void 0===(c=o.hashCache2[i])&&(o.hashCache2[i]=c=l(a,i))):c=l(a),void 0!==c&&u===c)}var R=function(e){if(e.leftIsArray){var t={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},r=0,n=0,i=void 0,o=void 0,s=void 0,a=e.left,l=e.right,u=a.length,c=l.length,f=void 0;for(u>0&&c>0&&!t.objectHash&&"boolean"!=typeof t.matchByPosition&&(t.matchByPosition=!function(e,t,r,n){for(var i=0;i<r;i++)for(var o=e[i],s=0;s<n;s++){var a=t[s];if(i!==s&&o===a)return!0}}(a,l,u,c));r<u&&r<c&&M(a,l,r,r,t);)i=r,f=new v(e.left[i],e.right[i]),e.push(f,i),r++;for(;n+r<u&&n+r<c&&M(a,l,u-1-n,c-1-n,t);)o=u-1-n,s=c-1-n,f=new v(e.left[o],e.right[s]),e.push(f,s),n++;var d=void 0;if(r+n!==u)if(r+n!==c){delete t.hashCache1,delete t.hashCache2;var h=a.slice(r,u-n),p=l.slice(r,c-n),m=I(h,p,M,t),g=[];for(d=d||{_t:"a"},i=r;i<u-n;i++)C(m.indices1,i-r)<0&&(d["_"+i]=[a[i],0,0],g.push(i));var y=!0;e.options&&e.options.arrays&&!1===e.options.arrays.detectMove&&(y=!1);var b=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(b=!0);var _=g.length;for(i=r;i<c-n;i++){var j=C(m.indices2,i-r);if(j<0){var O=!1;if(y&&_>0)for(var x=0;x<_;x++)if(M(h,p,(o=g[x])-r,i-r,t)){d["_"+o].splice(1,2,i,3),b||(d["_"+o][0]=""),s=i,f=new v(e.left[o],e.right[s]),e.push(f,s),g.splice(x,1),O=!0;break}O||(d[i]=[l[i]])}else o=m.indices1[j]+r,s=m.indices2[j]+r,f=new v(e.left[o],e.right[s]),e.push(f,s)}e.setResult(d).exit()}else{for(d=d||{_t:"a"},i=r;i<u-n;i++)d["_"+i]=[a[i],0,0];e.setResult(d).exit()}else{if(u===c)return void e.setResult(void 0).exit();for(d=d||{_t:"a"},i=r;i<c-n;i++)d[i]=[l[i]];e.setResult(d).exit()}}};R.filterName="arrays";var N=function(e,t){return e-t},D=function(e){return function(t,r){return t[e]-r[e]}},$=function(e){if(e.nested&&"a"===e.delta._t){var t=void 0,r=void 0,n=e.delta,i=e.left,o=[],s=[],a=[];for(t in n)if("_t"!==t)if("_"===t[0]){if(0!==n[t][2]&&3!==n[t][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+n[t][2]);o.push(parseInt(t.slice(1),10))}else 1===n[t].length?s.push({index:parseInt(t,10),value:n[t][0]}):a.push({index:parseInt(t,10),delta:n[t]});for(t=(o=o.sort(N)).length-1;t>=0;t--){var l=n["_"+(r=o[t])],u=i.splice(r,1)[0];3===l[2]&&s.push({index:l[1],value:u})}var c=(s=s.sort(D("index"))).length;for(t=0;t<c;t++){var f=s[t];i.splice(f.index,0,f.value)}var d=a.length,h=void 0;if(d>0)for(t=0;t<d;t++){var p=a[t];h=new g(e.left[p.index],p.delta),e.push(h,p.index)}e.children?e.exit():e.setResult(e.left).exit()}};$.filterName="arrays";var F=function(e){if(e&&e.children&&"a"===e.delta._t){for(var t=e.children.length,r=void 0,n=0;n<t;n++)r=e.children[n],e.left[r.childName]=r.result;e.setResult(e.left).exit()}};F.filterName="arraysCollectChildren";var L=function(e){if(e.nested){if("a"===e.delta._t){var t=void 0,r=void 0;for(t in e.delta)"_t"!==t&&(r=new y(e.delta[t]),e.push(r,t));e.exit()}}else 3===e.delta[2]&&(e.newName="_"+e.delta[1],e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),3]).exit())};L.filterName="arrays";var U=function(e,t,r){if("string"==typeof t&&"_"===t[0])return parseInt(t.substr(1),10);if(k(r)&&0===r[2])return"_"+t;var n=+t;for(var i in e){var o=e[i];if(k(o))if(3===o[2]){var s=parseInt(i.substr(1),10),a=o[1];if(a===+t)return s;s<=n&&a>n?n++:s>=n&&a<n&&n--}else 0===o[2]?parseInt(i.substr(1),10)<=n&&n++:1===o.length&&i<=n&&n--}return n};function V(e){if(e&&e.children&&"a"===e.delta._t){for(var t=e.children.length,r=void 0,n={_t:"a"},i=0;i<t;i++){var o=(r=e.children[i]).newName;void 0===o&&(o=U(e.delta,r.childName,r.result)),n[o]!==r.result&&(n[o]=r.result)}e.setResult(n).exit()}}V.filterName="arraysCollectChildren";var q=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};q.filterName="dates";var B=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){function t(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}t.prototype.diff_main=function(e,t,r,n){void 0===n&&(n=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=n;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===r&&(r=!0);var o=r,s=this.diff_commonPrefix(e,t),a=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.diff_commonSuffix(e,t);var l=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var u=this.diff_compute_(e,t,o,i);return a&&u.unshift([0,a]),l&&u.push([0,l]),this.diff_cleanupMerge(u),u},t.prototype.diff_compute_=function(e,t,r,n){var i;if(!e)return[[1,t]];if(!t)return[[-1,e]];var o=e.length>t.length?e:t,s=e.length>t.length?t:e,a=o.indexOf(s);if(-1!=a)return i=[[1,o.substring(0,a)],[0,s],[1,o.substring(a+s.length)]],e.length>t.length&&(i[0][0]=i[2][0]=-1),i;if(1==s.length)return[[-1,e],[1,t]];var l=this.diff_halfMatch_(e,t);if(l){var u=l[0],c=l[1],f=l[2],d=l[3],h=l[4],p=this.diff_main(u,f,r,n),m=this.diff_main(c,d,r,n);return p.concat([[0,h]],m)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,n):this.diff_bisect_(e,t,n)},t.prototype.diff_lineMode_=function(e,t,r){e=(c=this.diff_linesToChars_(e,t)).chars1,t=c.chars2;var n=c.lineArray,i=this.diff_main(e,t,!1,r);this.diff_charsToLines_(i,n),this.diff_cleanupSemantic(i),i.push([0,""]);for(var o=0,s=0,a=0,l="",u="";o<i.length;){switch(i[o][0]){case 1:a++,u+=i[o][1];break;case-1:s++,l+=i[o][1];break;case 0:if(s>=1&&a>=1){i.splice(o-s-a,s+a),o=o-s-a;for(var c,f=(c=this.diff_main(l,u,!1,r)).length-1;f>=0;f--)i.splice(o,0,c[f]);o+=c.length}a=0,s=0,l="",u=""}o++}return i.pop(),i},t.prototype.diff_bisect_=function(e,t,r){for(var n=e.length,i=t.length,o=Math.ceil((n+i)/2),s=o,a=2*o,l=new Array(a),u=new Array(a),c=0;c<a;c++)l[c]=-1,u[c]=-1;l[s+1]=0,u[s+1]=0;for(var f=n-i,d=f%2!=0,h=0,p=0,m=0,v=0,g=0;g<o&&!((new Date).getTime()>r);g++){for(var y=-g+h;y<=g-p;y+=2){for(var b=s+y,_=(w=y==-g||y!=g&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1)-y;w<n&&_<i&&e.charAt(w)==t.charAt(_);)w++,_++;if(l[b]=w,w>n)p+=2;else if(_>i)h+=2;else if(d&&(x=s+f-y)>=0&&x<a&&-1!=u[x]&&w>=(O=n-u[x]))return this.diff_bisectSplit_(e,t,w,_,r)}for(var j=-g+m;j<=g-v;j+=2){for(var O,x=s+j,E=(O=j==-g||j!=g&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1)-j;O<n&&E<i&&e.charAt(n-O-1)==t.charAt(i-E-1);)O++,E++;if(u[x]=O,O>n)v+=2;else if(E>i)m+=2;else if(!d){var w;if((b=s+f-j)>=0&&b<a&&-1!=l[b])if(_=s+(w=l[b])-b,w>=(O=n-O))return this.diff_bisectSplit_(e,t,w,_,r)}}}return[[-1,e],[1,t]]},t.prototype.diff_bisectSplit_=function(e,t,r,n,i){var o=e.substring(0,r),s=t.substring(0,n),a=e.substring(r),l=t.substring(n),u=this.diff_main(o,s,!1,i),c=this.diff_main(a,l,!1,i);return u.concat(c)},t.prototype.diff_linesToChars_=function(e,t){var r=[],n={};function i(e){for(var t="",i=0,o=-1,s=r.length;o<e.length-1;){-1==(o=e.indexOf("\n",i))&&(o=e.length-1);var a=e.substring(i,o+1);i=o+1,(n.hasOwnProperty?n.hasOwnProperty(a):void 0!==n[a])?t+=String.fromCharCode(n[a]):(t+=String.fromCharCode(s),n[a]=s,r[s++]=a)}return t}return r[0]="",{chars1:i(e),chars2:i(t),lineArray:r}},t.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var n=e[r][1],i=[],o=0;o<n.length;o++)i[o]=t[n.charCodeAt(o)];e[r][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(o,i)==t.substring(o,i)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},t.prototype.diff_commonOverlap_=function(e,t){var r=e.length,n=t.length;if(0==r||0==n)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var i=Math.min(r,n);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),l=t.indexOf(a);if(-1==l)return o;s+=l,0!=l&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;var i=this;function o(e,t,r){for(var n,o,s,a,l=e.substring(r,r+Math.floor(e.length/4)),u=-1,c="";-1!=(u=t.indexOf(l,u+1));){var f=i.diff_commonPrefix(e.substring(r),t.substring(u)),d=i.diff_commonSuffix(e.substring(0,r),t.substring(0,u));c.length<d+f&&(c=t.substring(u-d,u)+t.substring(u,u+f),n=e.substring(0,r-d),o=e.substring(r+f),s=t.substring(0,u-d),a=t.substring(u+f))}return 2*c.length>=e.length?[n,o,s,a,c]:null}var s,a,l,u,c,f=o(r,n,Math.ceil(r.length/4)),d=o(r,n,Math.ceil(r.length/2));return f||d?(s=d?f&&f[4].length>d[4].length?f:d:f,e.length>t.length?(a=s[0],l=s[1],u=s[2],c=s[3]):(u=s[0],c=s[1],a=s[2],l=s[3]),[a,l,u,c,s[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],n=0,i=null,o=0,s=0,a=0,l=0,u=0;o<e.length;)0==e[o][0]?(r[n++]=o,s=l,a=u,l=0,u=0,i=e[o][1]):(1==e[o][0]?l+=e[o][1].length:u+=e[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(l,u)&&(e.splice(r[n-1],0,[-1,i]),e[r[n-1]+1][0]=1,n--,o=--n>0?r[n-1]:-1,s=0,a=0,l=0,u=0,i=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(-1==e[o-1][0]&&1==e[o][0]){var c=e[o-1][1],f=e[o][1],d=this.diff_commonOverlap_(c,f),h=this.diff_commonOverlap_(f,c);d>=h?(d>=c.length/2||d>=f.length/2)&&(e.splice(o,0,[0,f.substring(0,d)]),e[o-1][1]=c.substring(0,c.length-d),e[o+1][1]=f.substring(d),o++):(h>=c.length/2||h>=f.length/2)&&(e.splice(o,0,[0,c.substring(0,h)]),e[o-1][0]=1,e[o-1][1]=f.substring(0,f.length-h),e[o+1][0]=-1,e[o+1][1]=c.substring(h),o++),o++}o++}},t.prototype.diff_cleanupSemanticLossless=function(e){function r(e,r){if(!e||!r)return 6;var n=e.charAt(e.length-1),i=r.charAt(0),o=n.match(t.nonAlphaNumericRegex_),s=i.match(t.nonAlphaNumericRegex_),a=o&&n.match(t.whitespaceRegex_),l=s&&i.match(t.whitespaceRegex_),u=a&&n.match(t.linebreakRegex_),c=l&&i.match(t.linebreakRegex_),f=u&&e.match(t.blanklineEndRegex_),d=c&&r.match(t.blanklineStartRegex_);return f||d?5:u||c?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],o=e[n][1],s=e[n+1][1],a=this.diff_commonSuffix(i,o);if(a){var l=o.substring(o.length-a);i=i.substring(0,i.length-a),o=l+o.substring(0,o.length-a),s=l+s}for(var u=i,c=o,f=s,d=r(i,o)+r(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var h=r(i,o)+r(o,s);h>=d&&(d=h,u=i,c=o,f=s)}e[n-1][1]!=u&&(u?e[n-1][1]=u:(e.splice(n-1,1),n--),e[n][1]=c,f?e[n+1][1]=f:(e.splice(n+1,1),n--))}n++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],n=0,i=null,o=0,s=!1,a=!1,l=!1,u=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.Diff_EditCost&&(l||u)?(r[n++]=o,s=l,a=u,i=e[o][1]):(n=0,i=null),l=u=!1):(-1==e[o][0]?u=!0:l=!0,i&&(s&&a&&l&&u||i.length<this.Diff_EditCost/2&&s+a+l+u==3)&&(e.splice(r[n-1],0,[-1,i]),e[r[n-1]+1][0]=1,n--,i=null,s&&a?(l=u=!0,n=0):(o=--n>0?r[n-1]:-1,l=u=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,r=0,n=0,i=0,o="",s="";r<e.length;)switch(e[r][0]){case 1:i++,s+=e[r][1],r++;break;case-1:n++,o+=e[r][1],r++;break;case 0:n+i>1?(0!==n&&0!==i&&(0!==(t=this.diff_commonPrefix(s,o))&&(r-n-i>0&&0==e[r-n-i-1][0]?e[r-n-i-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),r++),s=s.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(s,o))&&(e[r][1]=s.substring(s.length-t)+e[r][1],s=s.substring(0,s.length-t),o=o.substring(0,o.length-t))),0===n?e.splice(r-i,n+i,[1,s]):0===i?e.splice(r-n,n+i,[-1,o]):e.splice(r-n-i,n+i,[-1,o],[1,s]),r=r-n-i+(n?1:0)+(i?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,i=0,n=0,o="",s=""}""===e[e.length-1][1]&&e.pop();var a=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),a=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),a=!0)),r++;a&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var r,n=0,i=0,o=0,s=0;for(r=0;r<e.length&&(1!==e[r][0]&&(n+=e[r][1].length),-1!==e[r][0]&&(i+=e[r][1].length),!(n>t));r++)o=n,s=i;return e.length!=r&&-1===e[r][0]?s:s+(t-o)},t.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,n=/</g,i=/>/g,o=/\n/g,s=0;s<e.length;s++){var a=e[s][0],l=e[s][1].replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(a){case 1:t[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:t[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[s]="<span>"+l+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)-1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,r=0,n=0,i=0;i<e.length;i++){var o=e[i][0],s=e[i][1];switch(o){case 1:r+=s.length;break;case-1:n+=s.length;break;case 0:t+=Math.max(r,n),r=0,n=0}}return t+=Math.max(r,n)},t.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case-1:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,t){for(var r=[],n=0,i=0,o=t.split(/\t/g),s=0;s<o.length;s++){var a=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{r[n++]=[1,decodeURI(a)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var l=parseInt(a,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+a);var u=e.substring(i,i+=l);"="==o[s].charAt(0)?r[n++]=[0,u]:r[n++]=[-1,u];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return r},t.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap_(e,t,r):-1},t.prototype.match_bitap_=function(e,t,r){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet_(t),i=this;function o(e,n){var o=e/t.length,s=Math.abs(r-n);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,r);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,r+t.length))&&(s=Math.min(o(0,a),s)));var l,u,c=1<<t.length-1;a=-1;for(var f,d=t.length+e.length,h=0;h<t.length;h++){for(l=0,u=d;l<u;)o(h,r+u)<=s?l=u:d=u,u=Math.floor((d-l)/2+l);d=u;var p=Math.max(1,r-u+1),m=Math.min(r+u,e.length)+t.length,v=Array(m+2);v[m+1]=(1<<h)-1;for(var g=m;g>=p;g--){var y=n[e.charAt(g-1)];if(v[g]=0===h?(v[g+1]<<1|1)&y:(v[g+1]<<1|1)&y|(f[g+1]|f[g])<<1|1|f[g+1],v[g]&c){var b=o(h,g-1);if(b<=s){if(s=b,!((a=g-1)>r))break;p=Math.max(1,2*r-a)}}}if(o(h+1,r)>s)break;f=v}return a},t.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},t.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var r=t.substring(e.start2,e.start2+e.length1),n=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,r=t.substring(e.start2-n,e.start2+e.length1+n);n+=this.Patch_Margin;var i=t.substring(e.start2-n,e.start2);i&&e.diffs.unshift([0,i]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+n);o&&e.diffs.push([0,o]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+o.length,e.length2+=i.length+o.length}},t.prototype.patch_make=function(e,r,n){var i,o;if("string"==typeof e&&"string"==typeof r&&void 0===n)i=e,(o=this.diff_main(i,r,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&"object"==a(e)&&void 0===r&&void 0===n)o=e,i=this.diff_text1(o);else if("string"==typeof e&&r&&"object"==a(r)&&void 0===n)i=e,o=r;else{if("string"!=typeof e||"string"!=typeof r||!n||"object"!=a(n))throw new Error("Unknown call format to patch_make.");i=e,o=n}if(0===o.length)return[];for(var s=[],l=new t.patch_obj,u=0,c=0,f=0,d=i,h=i,p=0;p<o.length;p++){var m=o[p][0],v=o[p][1];switch(u||0===m||(l.start1=c,l.start2=f),m){case 1:l.diffs[u++]=o[p],l.length2+=v.length,h=h.substring(0,f)+v+h.substring(f);break;case-1:l.length1+=v.length,l.diffs[u++]=o[p],h=h.substring(0,f)+h.substring(f+v.length);break;case 0:v.length<=2*this.Patch_Margin&&u&&o.length!=p+1?(l.diffs[u++]=o[p],l.length1+=v.length,l.length2+=v.length):v.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(l,d),s.push(l),l=new t.patch_obj,u=0,d=h,c=f)}1!==m&&(c+=v.length),-1!==m&&(f+=v.length)}return u&&(this.patch_addContext_(l,d),s.push(l)),s},t.prototype.patch_deepCopy=function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n],o=new t.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=i.diffs[s].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,r[n]=o}return r},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var n=0,i=[],o=0;o<e.length;o++){var s,a,l=e[o].start2+n,u=this.diff_text1(e[o].diffs),c=-1;if(u.length>this.Match_MaxBits?-1!=(s=this.match_main(t,u.substring(0,this.Match_MaxBits),l))&&(-1==(c=this.match_main(t,u.substring(u.length-this.Match_MaxBits),l+u.length-this.Match_MaxBits))||s>=c)&&(s=-1):s=this.match_main(t,u,l),-1==s)i[o]=!1,n-=e[o].length2-e[o].length1;else if(i[o]=!0,n=s-l,u==(a=-1==c?t.substring(s,s+u.length):t.substring(s,c+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[o].diffs)+t.substring(s+u.length);else{var f=this.diff_main(u,a,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(f)/u.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(f);for(var d,h=0,p=0;p<e[o].diffs.length;p++){var m=e[o].diffs[p];0!==m[0]&&(d=this.diff_xIndex(f,h)),1===m[0]?t=t.substring(0,s+d)+m[1]+t.substring(s+d):-1===m[0]&&(t=t.substring(0,s+d)+t.substring(s+this.diff_xIndex(f,h+m[1].length))),-1!==m[0]&&(h+=m[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),i]},t.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",n=1;n<=t;n++)r+=String.fromCharCode(n);for(n=0;n<e.length;n++)e[n].start1+=t,e[n].start2+=t;var i=e[0],o=i.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,r]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>o[0][1].length){var s=t-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],i.start1-=s,i.start2-=s,i.length1+=s,i.length2+=s}return 0==(o=(i=e[e.length-1]).diffs).length||0!=o[o.length-1][0]?(o.push([0,r]),i.length1+=t,i.length2+=t):t>o[o.length-1][1].length&&(s=t-o[o.length-1][1].length,o[o.length-1][1]+=r.substring(0,s),i.length1+=s,i.length2+=s),r},t.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=r)){var i=e[n];e.splice(n--,1);for(var o=i.start1,s=i.start2,a="";0!==i.diffs.length;){var l=new t.patch_obj,u=!0;for(l.start1=o-a.length,l.start2=s-a.length,""!==a&&(l.length1=l.length2=a.length,l.diffs.push([0,a]));0!==i.diffs.length&&l.length1<r-this.Patch_Margin;){var c=i.diffs[0][0],f=i.diffs[0][1];1===c?(l.length2+=f.length,s+=f.length,l.diffs.push(i.diffs.shift()),u=!1):-1===c&&1==l.diffs.length&&0==l.diffs[0][0]&&f.length>2*r?(l.length1+=f.length,o+=f.length,u=!1,l.diffs.push([c,f]),i.diffs.shift()):(f=f.substring(0,r-l.length1-this.Patch_Margin),l.length1+=f.length,o+=f.length,0===c?(l.length2+=f.length,s+=f.length):u=!1,l.diffs.push([c,f]),f==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(f.length))}a=(a=this.diff_text2(l.diffs)).substring(a.length-this.Patch_Margin);var d=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==d&&(l.length1+=d.length,l.length2+=d.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([0,d])),u||e.splice(++n,0,l)}}},t.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var n=e.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(o);if(!s)throw new Error("Invalid patch string: "+n[i]);var a=new t.patch_obj;for(r.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),i++;i<n.length;){var l=n[i].charAt(0);try{var u=decodeURI(n[i].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==l)a.diffs.push([-1,u]);else if("+"==l)a.diffs.push([1,u]);else if(" "==l)a.diffs.push([0,u]);else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+u)}i++}}return r},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0})),z=null,J=function(e){if(!z){var t=void 0;if("undefined"!=typeof diff_match_patch)t="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(B)try{t=B&&new B}catch(e){t=null}if(!t){if(!e)return null;var r=new Error("text diff_match_patch library not found");throw r.diff_match_patch_not_found=!0,r}z={diff:function(e,r){return t.patch_toText(t.patch_make(e,r))},patch:function(e,r){for(var n=t.patch_apply(t.patch_fromText(r),e),i=0;i<n[1].length;i++)n[1][i]||(new Error("text patch failed").textPatchFailed=!0);return n[0]}}}return z},H=function(e){if("string"===e.leftType){var t=e.options&&e.options.textDiff&&e.options.textDiff.minLength||60;if(e.left.length<t||e.right.length<t)e.setResult([e.left,e.right]).exit();else{var r=J();if(r){var n=r.diff;e.setResult([n(e.left,e.right),0,2]).exit()}else e.setResult([e.left,e.right]).exit()}}};H.filterName="texts";var K=function(e){if(!e.nested&&2===e.delta[2]){var t=J(!0).patch;e.setResult(t(e.left,e.delta[0])).exit()}};K.filterName="texts";var W=function(e){var t,r=void 0,n=void 0,i=void 0,o=void 0,s=null,a=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(r=0,t=(n=e.split("\n")).length;r<t;r++){var l=(i=n[r]).slice(0,1);"@"===l?(s=a.exec(i),n[r]="@@ -"+s[3]+","+s[4]+" +"+s[1]+","+s[2]+" @@"):"+"===l?(n[r]="-"+n[r].slice(1),"+"===n[r-1].slice(0,1)&&(o=n[r],n[r]=n[r-1],n[r-1]=o)):"-"===l&&(n[r]="+"+n[r].slice(1))}return n.join("\n")},G=function(e){e.nested||2===e.delta[2]&&e.setResult([W(e.delta[0]),0,2]).exit()};G.filterName="texts";var Z=function(){function e(t){n(this,e),this.processor=new f(t),this.processor.pipe(new d("diff").append(x,_,q,H,E,R).shouldHaveResult()),this.processor.pipe(new d("patch").append(A,F,j,K,w,$).shouldHaveResult()),this.processor.pipe(new d("reverse").append(P,V,O,G,S,L).shouldHaveResult())}return i(e,[{key:"options",value:function(){var e;return(e=this.processor).options.apply(e,arguments)}},{key:"diff",value:function(e,t){return this.processor.process(new v(e,t))}},{key:"patch",value:function(e,t){return this.processor.process(new g(e,t))}},{key:"reverse",value:function(e){return this.processor.process(new y(e))}},{key:"unpatch",value:function(e,t){return this.patch(e,this.reverse(t))}},{key:"clone",value:function(e){return m(e)}}]),e}(),Y="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},X="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},Q=function(e){return"_t"===e?-1:"_"===e.substr(0,1)?parseInt(e.slice(1),10):parseInt(e,10)+.1},ee=function(e,t){return Q(e)-Q(t)},te=function(){function e(){n(this,e)}return i(e,[{key:"format",value:function(e,t){var r={};return this.prepareContext(r),this.recurse(r,e,t),this.finalize(r)}},{key:"prepareContext",value:function(e){e.buffer=[],e.out=function(){var e;(e=this.buffer).push.apply(e,arguments)}}},{key:"typeFormattterNotFound",value:function(e,t){throw new Error("cannot format delta type: "+t)}},{key:"typeFormattterErrorFormatter",value:function(e,t){return t.toString()}},{key:"finalize",value:function(e){var t=e.buffer;if(Y(t))return t.join("")}},{key:"recurse",value:function(e,t,r,n,i,o,s){var a=t&&o?o.value:r;if(void 0!==t||void 0!==n){var l=this.getDeltaType(t,o),u="node"===l?"a"===t._t?"array":"object":"";void 0!==n?this.nodeBegin(e,n,i,l,u,s):this.rootBegin(e,l,u);try{(this["format_"+l]||this.typeFormattterNotFound(e,l)).call(this,e,t,a,n,i,o)}catch(r){this.typeFormattterErrorFormatter(e,r,t,a,n,i,o),"undefined"!=typeof console&&console.error&&console.error(r.stack)}void 0!==n?this.nodeEnd(e,n,i,l,u,s):this.rootEnd(e,l,u)}}},{key:"formatDeltaChildren",value:function(e,t,r){var n=this;this.forEachDeltaKey(t,r,(function(i,o,s,a){n.recurse(e,t[i],r?r[o]:void 0,i,o,s,a)}))}},{key:"forEachDeltaKey",value:function(e,t,r){var n,i=X(e),o="a"===e._t,s={},a=void 0;if(void 0!==t)for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(void 0!==e[a]||o&&void 0!==e["_"+a]||i.push(a));for(a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=e[a];Y(l)&&3===l[2]&&(s[l[1].toString()]={key:a,value:t&&t[parseInt(a.substr(1))]},!1!==this.includeMoveDestinations&&void 0===t&&void 0===e[l[1]]&&i.push(l[1].toString()))}o?i.sort(ee):i.sort();for(var u=0,c=i.length;u<c;u++){var f=i[u];if(!o||"_t"!==f){var d=o?"number"==typeof f?f:parseInt("_"===(n=f).substr(0,1)?n.slice(1):n,10):f,h=u===c-1;r(f,d,s[d],h)}}}},{key:"getDeltaType",value:function(e,t){if(void 0===e)return void 0!==t?"movedestination":"unchanged";if(Y(e)){if(1===e.length)return"added";if(2===e.length)return"modified";if(3===e.length&&0===e[2])return"deleted";if(3===e.length&&2===e[2])return"textdiff";if(3===e.length&&3===e[2])return"moved"}else if("object"===(void 0===e?"undefined":r(e)))return"node";return"unknown"}},{key:"parseTextDiff",value:function(e){for(var t=[],r=e.split("\n@@ "),n=0,i=r.length;n<i;n++){var o=r[n],s={pieces:[]},a=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(o).slice(1);s.location={line:a[0],chr:a[1]};for(var l=o.split("\n").slice(1),u=0,c=l.length;u<c;u++){var f=l[u];if(f.length){var d={type:"context"};"+"===f.substr(0,1)?d.type="added":"-"===f.substr(0,1)&&(d.type="deleted"),d.text=f.slice(1),s.pieces.push(d)}}t.push(s)}return t}}]),e}(),re=Object.freeze({default:te}),ne=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"typeFormattterErrorFormatter",value:function(e,t){e.out('<pre class="jsondiffpatch-error">'+t+"</pre>")}},{key:"formatValue",value:function(e,t){e.out("<pre>"+ie(JSON.stringify(t,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function(e,t){var r=this.parseTextDiff(t);e.out('<ul class="jsondiffpatch-textdiff">');for(var n=0,i=r.length;n<i;n++){var o=r[n];e.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+o.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+o.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=o.pieces,a=0,l=s.length;a<l;a++){var u=s[a];e.out('<span class="jsondiffpatch-textdiff-'+u.type+'">'+ie(decodeURI(u.text))+"</span>")}e.out("</div></li>")}e.out("</ul>")}},{key:"rootBegin",value:function(e,t,r){var n="jsondiffpatch-"+t+(r?" jsondiffpatch-child-node-type-"+r:"");e.out('<div class="jsondiffpatch-delta '+n+'">')}},{key:"rootEnd",value:function(e){e.out("</div>"+(e.hasArrows?'<script type="text/javascript">setTimeout('+oe.toString()+",10);<\/script>":""))}},{key:"nodeBegin",value:function(e,t,r,n,i){var o="jsondiffpatch-"+n+(i?" jsondiffpatch-child-node-type-"+i:"");e.out('<li class="'+o+'" data-key="'+r+'"><div class="jsondiffpatch-property-name">'+r+"</div>")}},{key:"nodeEnd",value:function(e){e.out("</li>")}},{key:"format_unchanged",value:function(e,t,r){void 0!==r&&(e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,r),e.out("</div>"))}},{key:"format_movedestination",value:function(e,t,r){void 0!==r&&(e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,r),e.out("</div>"))}},{key:"format_node",value:function(e,t,r){var n="a"===t._t?"array":"object";e.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+n+'">'),this.formatDeltaChildren(e,t,r),e.out("</ul>")}},{key:"format_added",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out("</div>")}},{key:"format_modified",value:function(e,t){e.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(e,t[0]),e.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(e,t[1]),e.out("</div>")}},{key:"format_deleted",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out("</div>")}},{key:"format_moved",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out('</div><div class="jsondiffpatch-moved-destination">'+t[1]+"</div>"),e.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),e.hasArrows=!0}},{key:"format_textdiff",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(e,t[0]),e.out("</div>")}}]),t}(te);function ie(e){for(var t=e,r=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],n=0;n<r.length;n++)t=t.replace(r[n][0],r[n][1]);return t}var oe=function(e){var t=e||document;!function(e,t,r){for(var n=e.querySelectorAll(t),i=0,o=n.length;i<o;i++)r(n[i])}(t,".jsondiffpatch-arrow",(function(e){var t=e.parentNode,r=e.children,n=e.style,i=t,o=r[0],s=o.children[1];o.style.display="none";var a,l,u,c=(a=i.querySelector(".jsondiffpatch-moved-destination"),l=a.textContent,u=a.innerText,l||u),f=i.parentNode,d=void 0;if(function(e,t){for(var r=e.children,n=0,i=r.length;n<i;n++)t(r[n],n)}(f,(function(e){e.getAttribute("data-key")===c&&(d=e)})),d)try{var h=d.offsetTop-i.offsetTop;o.setAttribute("height",Math.abs(h)+6),n.top=-8+(h>0?0:h)+"px";var p=h>0?"M30,0 Q-10,"+Math.round(h/2)+" 26,"+(h-4):"M30,"+-h+" Q-10,"+Math.round(-h/2)+" 26,4";s.setAttribute("d",p),o.style.display=""}catch(e){}}))},se=function(e,t,r){var n=t||document.body,i="jsondiffpatch-unchanged-",o={showing:i+"showing",hiding:i+"hiding",visible:i+"visible",hidden:i+"hidden"},s=n.classList;if(s){if(!r)return s.remove(o.showing),s.remove(o.hiding),s.remove(o.visible),s.remove(o.hidden),void(!1===e&&s.add(o.hidden));!1===e?(s.remove(o.showing),s.add(o.visible),setTimeout((function(){s.add(o.hiding)}),10)):(s.remove(o.hiding),s.add(o.showing),s.remove(o.hidden));var a=setInterval((function(){oe(n)}),100);setTimeout((function(){s.remove(o.showing),s.remove(o.hiding),!1===e?(s.add(o.hidden),s.remove(o.visible)):(s.add(o.visible),s.remove(o.hidden)),setTimeout((function(){s.remove(o.visible),clearInterval(a)}),r+400)}),r)}},ae=void 0,le=Object.freeze({showUnchanged:se,hideUnchanged:function(e,t){return se(!1,e,t)},default:ne,format:function(e,t){return ae||(ae=new ne),ae.format(e,t)}}),ue=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!1,e}return s(t,e),i(t,[{key:"prepareContext",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareContext",this).call(this,e),e.indent=function(e){this.indentLevel=(this.indentLevel||0)+(void 0===e?1:e),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},e.row=function(t,r){e.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),e.out(e.indentPad),e.out('</pre><pre style="display: inline-block">'),e.out(t),e.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),e.out(r),e.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function(e,t){e.row("",'<pre class="jsondiffpatch-error">'+t+"</pre>")}},{key:"formatTextDiffString",value:function(e,t){var r=this.parseTextDiff(t);e.out('<ul class="jsondiffpatch-textdiff">');for(var n=0,i=r.length;n<i;n++){var o=r[n];e.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+o.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+o.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=o.pieces,a=0,l=s.length;a<l;a++){var u=s[a];e.out('<span class="jsondiffpatch-textdiff-'+u.type+'">'+u.text+"</span>")}e.out("</div></li>")}e.out("</ul>")}},{key:"rootBegin",value:function(e,t,r){e.out('<table class="jsondiffpatch-annotated-delta">'),"node"===t&&(e.row("{"),e.indent()),"array"===r&&e.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function(e,t){"node"===t&&(e.indent(-1),e.row("}")),e.out("</table>")}},{key:"nodeBegin",value:function(e,t,r,n,i){e.row("&quot;"+t+"&quot;: {"),"node"===n&&e.indent(),"array"===i&&e.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function(e,t,r,n,i,o){"node"===n&&e.indent(-1),e.row("}"+(o?"":","))}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(e,t,r){this.formatDeltaChildren(e,t,r)}}]),t}(te),ce=function(e){return'<pre style="display:inline-block">&quot;'+e+"&quot;</pre>"},fe={added:function(e,t,r,n){var i=" <pre>([newValue])</pre>";return void 0===n?"new value"+i:"number"==typeof n?"insert at index "+n+i:"add property "+ce(n)+i},modified:function(e,t,r,n){var i=" <pre>([previousValue, newValue])</pre>";return void 0===n?"modify value"+i:"number"==typeof n?"modify at index "+n+i:"modify property "+ce(n)+i},deleted:function(e,t,r,n){var i=" <pre>([previousValue, 0, 0])</pre>";return void 0===n?"delete value"+i:"number"==typeof n?"remove index "+n+i:"delete property "+ce(n)+i},moved:function(e,t,r,n){return'move from <span title="(position to remove at original state)">index '+n+'</span> to <span title="(position to insert at final state)">index '+e[1]+"</span>"},textdiff:function(e,t,r,n){return"text diff"+(void 0===n?"":"number"==typeof n?" at index "+n:" at property "+ce(n))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},de=function(e,t){var r=this.getDeltaType(t),n=fe[r],i=n&&n.apply(n,Array.prototype.slice.call(arguments,1)),o=JSON.stringify(t,null,2);"textdiff"===r&&(o=o.split("\\n").join('\\n"+\n   "')),e.indent(),e.row(o,i),e.indent(-1)};ue.prototype.format_added=de,ue.prototype.format_modified=de,ue.prototype.format_deleted=de,ue.prototype.format_moved=de,ue.prototype.format_textdiff=de;var he=void 0,pe=Object.freeze({default:ue,format:function(e,t){return he||(he=new ue),he.format(e,t)}}),me="add",ve="remove",ge="replace",ye="move",be=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!0,e}return s(t,e),i(t,[{key:"prepareContext",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareContext",this).call(this,e),e.result=[],e.path=[],e.pushCurrentOp=function(e){var t=e.op,r=e.value,n={op:t,path:this.currentPath()};void 0!==r&&(n.value=r),this.result.push(n)},e.pushMoveOp=function(e){var t=this.currentPath();this.result.push({op:ye,from:t,path:this.toPath(e)})},e.currentPath=function(){return"/"+this.path.join("/")},e.toPath=function(e){var t=this.path.slice();return t[t.length-1]=e,"/"+t.join("/")}}},{key:"typeFormattterErrorFormatter",value:function(e,t){e.out("[ERROR] "+t)}},{key:"rootBegin",value:function(){}},{key:"rootEnd",value:function(){}},{key:"nodeBegin",value:function(e,t,r){e.path.push(r)}},{key:"nodeEnd",value:function(e){e.path.pop()}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(e,t,r){this.formatDeltaChildren(e,t,r)}},{key:"format_added",value:function(e,t){e.pushCurrentOp({op:me,value:t[0]})}},{key:"format_modified",value:function(e,t){e.pushCurrentOp({op:ge,value:t[1]})}},{key:"format_deleted",value:function(e){e.pushCurrentOp({op:ve})}},{key:"format_moved",value:function(e,t){var r=t[1];e.pushMoveOp(r)}},{key:"format_textdiff",value:function(){throw new Error("Not implemented")}},{key:"format",value:function(e,t){var r={};return this.prepareContext(r),this.recurse(r,e,t),r.result}}]),t}(te),_e=function(e){return e[e.length-1]},je=function(e){return r=function(e,t){var r,n,i,o,s=e.path.split("/"),a=t.path.split("/");return s.length!==a.length?s.length-a.length:(r=_e(s),n=_e(a),i=parseInt(r,10),o=parseInt(n,10),isNaN(i)||isNaN(o)?0:o-i)},(t=e).sort(r),t;var t,r},Oe=function(e,t){var r=Array(t.length+1).fill().map((function(){return[]}));return e.map((function(e){var r=t.map((function(t){return t(e)})).indexOf(!0);return r<0&&(r=t.length),{item:e,position:r}})).reduce((function(e,t){return e[t.position].push(t.item),e}),r)},xe=function(e){return"move"===e.op},Ee=function(e){return"remove"===e.op},we=void 0,Ae=function(e,t){return we||(we=new be),function(e){var t=Oe(e,[xe,Ee]),r=u(t,3),n=r[0],i=r[1],o=r[2],s=je(i);return[].concat(c(s),c(n),c(o))}(we.format(e,t))},Se=Object.freeze({default:be,partitionOps:Oe,format:Ae,log:function(e,t){console.log(Ae(e,t))}});function Pe(e){return t&&t[e]||function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t}}var Te={added:Pe("green"),deleted:Pe("red"),movedestination:Pe("gray"),moved:Pe("yellow"),unchanged:Pe("gray"),error:Pe("white.bgRed"),textDiffLine:Pe("gray")},Ie=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!1,e}return s(t,e),i(t,[{key:"prepareContext",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareContext",this).call(this,e),e.indent=function(e){this.indentLevel=(this.indentLevel||0)+(void 0===e?1:e),this.indentPad=new Array(this.indentLevel+1).join("  "),this.outLine()},e.outLine=function(){this.buffer.push("\n"+(this.indentPad||""))},e.out=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t.length;n<i;n++){var o=t[n].split("\n"),s=o.join("\n"+(this.indentPad||""));this.color&&this.color[0]&&(s=this.color[0](s)),this.buffer.push(s)}},e.pushColor=function(e){this.color=this.color||[],this.color.unshift(e)},e.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function(e,t){e.pushColor(Te.error),e.out("[ERROR]"+t),e.popColor()}},{key:"formatValue",value:function(e,t){e.out(JSON.stringify(t,null,2))}},{key:"formatTextDiffString",value:function(e,t){var r=this.parseTextDiff(t);e.indent();for(var n=0,i=r.length;n<i;n++){var o=r[n];e.pushColor(Te.textDiffLine),e.out(o.location.line+","+o.location.chr+" "),e.popColor();for(var s=o.pieces,a=0,l=s.length;a<l;a++){var u=s[a];e.pushColor(Te[u.type]),e.out(u.text),e.popColor()}n<i-1&&e.outLine()}e.indent(-1)}},{key:"rootBegin",value:function(e,t,r){e.pushColor(Te[t]),"node"===t&&(e.out("array"===r?"[":"{"),e.indent())}},{key:"rootEnd",value:function(e,t,r){"node"===t&&(e.indent(-1),e.out("array"===r?"]":"}")),e.popColor()}},{key:"nodeBegin",value:function(e,t,r,n,i){e.pushColor(Te[n]),e.out(r+": "),"node"===n&&(e.out("array"===i?"[":"{"),e.indent())}},{key:"nodeEnd",value:function(e,t,r,n,i,o){"node"===n&&(e.indent(-1),e.out("array"===i?"]":"}"+(o?"":","))),o||e.outLine(),e.popColor()}},{key:"format_unchanged",value:function(e,t,r){void 0!==r&&this.formatValue(e,r)}},{key:"format_movedestination",value:function(e,t,r){void 0!==r&&this.formatValue(e,r)}},{key:"format_node",value:function(e,t,r){this.formatDeltaChildren(e,t,r)}},{key:"format_added",value:function(e,t){this.formatValue(e,t[0])}},{key:"format_modified",value:function(e,t){e.pushColor(Te.deleted),this.formatValue(e,t[0]),e.popColor(),e.out(" => "),e.pushColor(Te.added),this.formatValue(e,t[1]),e.popColor()}},{key:"format_deleted",value:function(e,t){this.formatValue(e,t[0])}},{key:"format_moved",value:function(e,t){e.out("==> "+t[1])}},{key:"format_textdiff",value:function(e,t){this.formatTextDiffString(e,t[0])}}]),t}(te),ke=void 0,Ce=function(e,t){return ke||(ke=new Ie),ke.format(e,t)},Me=Object.freeze({default:Ie,format:Ce,log:function(e,t){console.log(Ce(e,t))}}),Re=Object.freeze({base:re,html:le,annotated:pe,jsonpatch:Se,console:Me}),Ne=void 0;e.DiffPatcher=Z,e.formatters=Re,e.console=Me,e.create=function(e){return new Z(e)},e.dateReviver=function(e,t){var r=void 0;return"string"==typeof t&&(r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+-])(\d{2}):(\d{2}))$/.exec(t))?new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6],+(r[7]||0))):t},e.diff=function(){return Ne||(Ne=new Z),Ne.diff.apply(Ne,arguments)},e.patch=function(){return Ne||(Ne=new Z),Ne.patch.apply(Ne,arguments)},e.unpatch=function(){return Ne||(Ne=new Z),Ne.unpatch.apply(Ne,arguments)},e.reverse=function(){return Ne||(Ne=new Z),Ne.reverse.apply(Ne,arguments)},e.clone=function(){return Ne||(Ne=new Z),Ne.clone.apply(Ne,arguments)},Object.defineProperty(e,"__esModule",{value:!0})},"object"===a(t)&&void 0!==e?s(t,r("./node_modules/jsondiffpatch/dist/empty.js")):(i=[t,r("./node_modules/jsondiffpatch/dist/empty.js")],void 0===(o="function"==typeof(n=s)?n.apply(t,i):n)||(e.exports=o))},"./node_modules/lodash-es/_Symbol.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/lodash-es/_root.js").default.Symbol;t.default=n},"./node_modules/lodash-es/_baseGetTag.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/lodash-es/_Symbol.js"),i=r("./node_modules/lodash-es/_getRawTag.js"),o=r("./node_modules/lodash-es/_objectToString.js"),s=n.default?n.default.toStringTag:void 0;t.default=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?Object(i.default)(e):Object(o.default)(e)}},"./node_modules/lodash-es/_freeGlobal.js":function(e,t,r){"use strict";r.r(t),function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e;t.default=n}.call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash-es/_getPrototype.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/lodash-es/_overArg.js"),i=Object(n.default)(Object.getPrototypeOf,Object);t.default=i},"./node_modules/lodash-es/_getRawTag.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/lodash-es/_Symbol.js"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n.default?n.default.toStringTag:void 0;t.default=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},"./node_modules/lodash-es/_objectToString.js":function(e,t,r){"use strict";r.r(t);var n=Object.prototype.toString;t.default=function(e){return n.call(e)}},"./node_modules/lodash-es/_overArg.js":function(e,t,r){"use strict";r.r(t),t.default=function(e,t){return function(r){return e(t(r))}}},"./node_modules/lodash-es/_root.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/lodash-es/_freeGlobal.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,s=n.default||o||Function("return this")();t.default=s},"./node_modules/lodash-es/isObjectLike.js":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.r(t),t.default=function(e){return null!=e&&"object"==n(e)}},"./node_modules/lodash-es/isPlainObject.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/lodash-es/_baseGetTag.js"),i=r("./node_modules/lodash-es/_getPrototype.js"),o=r("./node_modules/lodash-es/isObjectLike.js"),s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=l.call(Object);t.default=function(e){if(!Object(o.default)(e)||"[object Object]"!=Object(n.default)(e))return!1;var t=Object(i.default)(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==c}},"./node_modules/mithril-material-forms/components/button/index.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r("mithril");e.exports={getClassNames:function(e){var t=[];return t.push(e.raised?"mmf-button--raised":"mmf-button--flat"),t.push(e.disabled?"is-disabled":"is-enabled"),e.class&&t.push(e.class),t.join(" ")},view:function(e){var t=n({disabled:!1,onclick:function(t){return e.attrs.onclick(t)}},e.attrs);return t.class=this.getClassNames(e.attrs),i("button.mmf-button",t,e.children)}}},"./node_modules/mithril-material-forms/components/checkbox/index.js":function(e,t,r){var n=r("mithril");e.exports={view:function(e){var t=e.attrs;return n("input.mmf-checkbox",{id:t.id,type:"checkbox",disabled:!0===t.disabled,checked:t.value,onchange:function(e){return t.onchange(e.target.checked)},onfocus:t.onfocus,onblur:t.onblur})}}},"./node_modules/mithril-material-forms/components/checkboxform/index.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r("mithril"),o=r("./node_modules/mithril-material-forms/components/checkbox/index.js"),s=r("./node_modules/mithril-material-forms/components/label/index.js"),a=r("./node_modules/mithril-material-forms/components/errors/index.js"),l={id:null,title:"",disabled:!1,value:"",errors:[],description:"",placeholder:"",onchange:Function.prototype};e.exports={view:function(e){var t=n({},l,e.attrs);return i(".mmf-form.mmf-form--checkbox.mmf-form--".concat(t.disabled?"disabled":"enabled"),{class:a.getErrorClass(t.errors)},i(o,{id:e.attrs.id,disabled:t.disabled,value:e.attrs.value,onchange:e.attrs.onchange,onfocus:e.attrs.onfocus,onblur:e.attrs.onblur}),i(s,t),i(a,t),t.description?i(".mmf-meta",t.description):"",e.children)}}},"./node_modules/mithril-material-forms/components/errors/getErrorClass.js":function(e,t){e.exports=function(e){if(null==e||0===e.length)return"no-error";for(var t=0,r=e.length;t<r;t+=1)if("string"==typeof e[t]||"warning"!==e[t].severity)return"has-error";return"has-warning"}},"./node_modules/mithril-material-forms/components/errors/index.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("mithril");e.exports={getErrorClass:r("./node_modules/mithril-material-forms/components/errors/getErrorClass.js"),view:function(e){return null==e.attrs.errors||0===e.attrs.errors.length?"":i("ul.mmf-form__errors",e.attrs.errors.map((function(e){return"string"==typeof(t=e).tag&&null!=t.attrs&&"object"===n(t.attrs)?i("li.mmf-form__error.mmf-form__error--".concat(e.attrs.severity),e):e&&"object"===n(e)?"warning"===e.severity?i("li.mmf-form__error.mmf-form__error--warning",i.trust(e.message)):i("li.mmf-form__error.mmf-form__error--error",i.trust(e.message)):i("li.mmf-form__error.mmf-form__error--error",i.trust(e));var t})))}}},"./node_modules/mithril-material-forms/components/imagepreview/index.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r("mithril"),o=[16,9];function s(e){return null==e||""===e}function a(e){var t=e.split(":").map(parseFloat);return 100*(t=2===t.length?t:o)[1]/t[0]}var l={view:function(e){var t=e.attrs;return[s(t.url)?i(".mmf-preview__placeholder",t.placeholder):[t.description?i(".mmf-preview__description",i.trust(t.description)):"",i(".mmf-preview__overflow-indicator")],e.children]}},u={view:function(e){var t,r=e.attrs;return i(".mmf-preview__content",{style:s(r.url)?"":"padding-bottom: ".concat((t=r.maxRatio,"".concat(a(t).toFixed(2),"%")),";"),oncreate:r.oncreate},s(r.url)?i(".mmf-preview__placeholder",r.placeholder):[i("img",{src:r.url,onload:r.onload}),r.description?i(".mmf-preview__description",i.trust(r.description)):"",i(".mmf-preview__overflow-indicator")],e.children)}},c={overflowContainer:null,updateRatio:function(e,t){if(null!=this.overflowContainer&&t.naturalWidth){var r=a(e),n=a("".concat(t.naturalWidth,":").concat(t.naturalHeight));r>=n?(this.overflowContainer.style.paddingBottom="".concat(n.toFixed(2),"%"),this.overflowContainer.classList.remove("with-overflow"),this.hasOverflow=!1):(this.overflowContainer.style.paddingBottom="".concat(r.toFixed(2),"%"),this.overflowContainer.classList.add("with-overflow"),this.hasOverflow=!0)}},view:function(e){var t=this,r=n({url:null,class:"",asBackgroundImage:!1,description:null,placeholder:null,onclick:null,maxRatio:"16:9",onload:function(e){return t.updateRatio(r.maxRatio,e.currentTarget)},oncreate:function(e){t.overflowContainer=e.dom}},e.attrs);return i(".mmf-preview.mmf-preview--image",{class:r.class+(s(r.url)?"":" with-image"),style:r.asBackgroundImage&&!s(r.url)?"background-image: url(".concat(r.url,");"):""},r.asBackgroundImage?i(l,r,e.children):i(u,r,e.children))}};e.exports=c},"./node_modules/mithril-material-forms/components/input/index.js":function(e,t,r){var n=r("mithril");e.exports={value:null,hasFocus:!1,onupdate:function(e){e.dom.id=e.attrs.id},view:function(e){var t=this,r=e.attrs,i=r.value;this.hasFocus&&null!=this.value&&(i=this.value),this.value=i;var o={type:r.type,value:i,placeholder:r.placeholder,disabled:!0===r.disabled,oninput:function(e){return t.value=e.target.value},oncreate:function(e){return e.dom.id=r.id},onfocus:function(e){t.hasFocus=!0,r.onfocus&&r.onfocus(e)},onblur:function(e){t.hasFocus=!1,r.onblur&&r.onblur(e)}};return o[!0===r.instantUpdate?"onkeyup":"onchange"]=function(){return r.onchange(t.value)},n("input.mmf-input",o)}}},"./node_modules/mithril-material-forms/components/inputform/index.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r("mithril"),o=r("./node_modules/mithril-material-forms/components/input/index.js"),s=r("./node_modules/mithril-material-forms/components/label/index.js"),a=r("./node_modules/mithril-material-forms/components/inputform/sanitizeValue.js"),l=r("./node_modules/mithril-material-forms/components/errors/index.js"),u={string:"text",integer:"number",number:"number"};e.exports={oncreate:function(e){this.$form=e.dom},updateClasses:function(e){var t=""!==e;this.$form.classList.remove(t?"isEmpty":"isNotEmpty"),this.$form.classList.add(!1===t?"isEmpty":"isNotEmpty")},onfocus:function(){this.$form.classList.add("hasFocus"),this.$form.classList.remove("hasNoFocus")},onblur:function(e){this.$form.classList.add("hasNoFocus"),this.$form.classList.remove("hasFocus"),this.updateClasses(e)},hasFocus:function(){return this.$form&&this.$form.classList.contains("hasFocus")},view:function(e){var t=this,r=u[e.attrs.type]||"text",c=n({id:null,title:"",value:"",errors:[],description:"",placeholder:"",instantUpdate:!1,onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype},e.attrs),f=this.hasFocus()?"hasFocus":"hasNoFocus",d=l.getErrorClass(c.errors),h=""===c.value?"isEmpty":"isNotEmpty",p=i(".mmf-form.mmf-form--input.mmf-form--".concat(c.disabled?"disabled":"enabled"),{class:"".concat(f," ").concat(d," ").concat(h)},i(s,c),i(o,{type:r,id:c.id,disabled:c.disabled,instantUpdate:c.instantUpdate,placeholder:c.placeholder,onchange:function(e){return c.onchange(a(r,e))},value:c.value,onfocus:function(e){t.onfocus(),c.onfocus&&c.onfocus(e)},onblur:function(e){t.onblur(e.target.value),c.onblur&&c.onblur(e)}}),i(l,c),c.description?i(".mmf-meta",c.description):"",e.children);return p}}},"./node_modules/mithril-material-forms/components/inputform/sanitizeValue.js":function(e,t){e.exports=function(e,t){if("number"===e){var r=parseInt(t),n=parseFloat(t);return n==t?n:isNaN(r)?t:r}return t}},"./node_modules/mithril-material-forms/components/label/index.js":function(e,t,r){var n=r("mithril");e.exports={view:function(e){return n("label.mmf-label",{for:e.attrs.id,class:e.attrs.class},e.attrs.title)}}},"./node_modules/mithril-material-forms/components/select/index.js":function(e,t,r){var n=r("mithril");e.exports={view:function(e){var t=this;return n("div.mmf-select__wrapper",{class:!0===e.attrs.disabled?"is-disabled":"is-enabled",oncreate:function(e){return t.$wrapper=e.dom}},n("select.mmf-select",{id:e.attrs.id,value:e.attrs.value,disabled:e.attrs.disabled,class:e.attrs.class,onfocus:function(){t.$wrapper&&t.$wrapper.classList.add("has-focus"),e.attrs.onfocus&&e.attrs.onfocus(e)},onblur:function(){t.$wrapper&&t.$wrapper.classList.remove("has-focus"),e.attrs.onblur&&e.attrs.onblur(e)},onchange:function(t){return e.attrs.onchange(t.target.value)}},e.attrs.options.map((function(e){var t=e.title||e;return e="".concat(null==e.value?e:e.value),n("option",{value:e},t)}))))}}},"./node_modules/mithril-material-forms/components/selectform/index.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r("mithril"),o=r("./node_modules/mithril-material-forms/components/select/index.js"),s=r("./node_modules/mithril-material-forms/components/label/index.js"),a=r("./node_modules/mithril-material-forms/components/errors/index.js");e.exports={view:function(e){var t=n({id:null,value:"",options:[{title:"-",value:!1}],errors:[],description:"",placeholder:"",onchange:Function.prototype},e.attrs);return i(".mmf-form.mmf-form--select.mmf-form--".concat(t.disabled?"disabled":"enabled"),{class:a.getErrorClass(t.errors)},i(o,t),i(s,n({class:"mmf-grow-2"},t)),i(a,t),t.description?i(".mmf-meta",t.description):"",e.children)}}},"./node_modules/mithril-material-forms/components/textarea/index.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r("mithril"),o=r("./node_modules/autosize/dist/autosize.js"),s=window.requestAnimationFrame;e.exports={textarea:null,focus:!1,onupdate:function(e){s((function(){return o.update(e.dom)}))},view:function(e){var t=this,r=n({id:null,value:"",rows:1,placeholder:"",disabled:!1,instantUpdate:!1,onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype,oncreate:Function.prototype,onbeforeremove:Function.prototype},e.attrs),s=!0===r.disabled;this.focus&&(r.value=this.textarea.value);var a={id:r.id,value:r.value,rows:r.rows,disabled:s,placeholder:r.placeholder,onblur:function(e){t.focus=!1,r.onblur&&r.onblur(e)},onfocus:function(e){t.focus=!0,r.onfocus&&r.onfocus(e)},onupdate:function(e){return o.update(e.dom)},oncreate:function(n){t.textarea=n.dom,r.oncreate(n),o(n.dom),o.update(e.dom)},onbeforeremove:function(e){r.onbeforeremove(e),o.destroy(e.dom)}};return a[!0===r.instantUpdate?"onkeyup":"onchange"]=function(e){return r.onchange(e.target.value)},i("textarea.mmf-textarea",a)}}},"./node_modules/mithril-material-forms/components/textareaform/index.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r("mithril"),o=r("./node_modules/mithril-material-forms/components/textarea/index.js"),s=r("./node_modules/mithril-material-forms/components/label/index.js"),a=r("./node_modules/mithril-material-forms/components/errors/index.js");e.exports={oncreate:function(e){this.$form=e.dom,this.onblur(e.attrs.value)},onfocus:function(){this.$form.classList.remove("hasNoFocus"),this.$form.classList.add("hasFocus")},onblur:function(e){this.$form.classList.remove("hasFocus"),this.$form.classList.add("hasNoFocus"),this.updateClasses(e)},updateClasses:function(e){var t=!1===function(e){return null==e||""===e}(e);this.$form.classList.remove(t?"isEmpty":"isNotEmpty"),this.$form.classList.add(!1===t?"isEmpty":"isNotEmpty")},onupdate:function(e){this.updateClasses(e.attrs.value)},view:function(e){var t=this,r=n({id:null,title:"",value:"",errors:[],disabled:!1,description:"",placeholder:"",rows:1,instantUpdate:!1,onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype},e.attrs),l=!0===r.disabled;return i(".mmf-form.mmf-form--textarea.mmf-form--".concat(l?"disabled":"enabled"),{class:a.getErrorClass(r.errors)},i(s,r),i(o,{id:r.id,value:r.value,disabled:l,instantUpdate:r.instantUpdate,placeholder:r.placeholder,rows:r.rows,onchange:r.onchange,onblur:function(e){t.onblur(e.target.value),r.onblur(e)},onfocus:function(e){t.onfocus(),r.onfocus(e)}}),i(a,r),r.description?i(".mmf-meta",r.description):"",e.children)}}},"./node_modules/mithril-material-forms/index.js":function(e,t,r){e.exports={button:r("./node_modules/mithril-material-forms/components/button/index.js"),checkbox:r("./node_modules/mithril-material-forms/components/checkbox/index.js"),checkboxForm:r("./node_modules/mithril-material-forms/components/checkboxform/index.js"),errors:r("./node_modules/mithril-material-forms/components/errors/index.js"),input:r("./node_modules/mithril-material-forms/components/input/index.js"),inputForm:r("./node_modules/mithril-material-forms/components/inputform/index.js"),label:r("./node_modules/mithril-material-forms/components/label/index.js"),select:r("./node_modules/mithril-material-forms/components/select/index.js"),selectForm:r("./node_modules/mithril-material-forms/components/selectform/index.js"),textarea:r("./node_modules/mithril-material-forms/components/textarea/index.js"),textareaForm:r("./node_modules/mithril-material-forms/components/textareaform/index.js"),imagePreview:r("./node_modules/mithril-material-forms/components/imagepreview/index.js")}},"./node_modules/nanoevents/index.js":function(e,t,r){"use strict";function n(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw s}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,"createNanoEvents",(function(){return o}));var o=function(){return{events:{},emit:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o,s=n(this.events[e]||[]);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.apply(void 0,r)}}catch(e){s.e(e)}finally{s.f()}},on:function(e,t){var r=this;return(this.events[e]=this.events[e]||[]).push(t),function(){return r.events[e]=r.events[e].filter((function(e){return e!==t}))}}}}},"./node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/redux-undo/lib/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.parseActions=b,t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o=t.debug;var r={initialState:t.initialState,initTypes:b(t.initTypes,["@@redux/INIT","@@INIT"]),limit:t.limit,filter:t.filter||function(){return!0},undoType:t.undoType||u.UNDO,redoType:t.redoType||u.REDO,jumpToPastType:t.jumpToPastType||u.JUMP_TO_PAST,jumpToFutureType:t.jumpToFutureType||u.JUMP_TO_FUTURE};r.history=t.initialHistory||y(r.initialState),0===r.initTypes.length&&console.warn("redux-undo: supply at least one action type in initTypes to ensure initial state");return function(t,i){a(i,t);var o=void 0;switch(i.type){case r.undoType:return s("after undo",o=d(t)),l(),o?g(t,o):t;case r.redoType:return s("after redo",o=h(t)),l(),o?g(t,o):t;case r.jumpToPastType:return s("after jumpToPast",o=m(t,i.index)),l(),o?g(t,o):t;case r.jumpToFutureType:return s("after jumpToFuture",o=p(t,i.index)),l(),o?g(t,o):t;default:if(o=e(t&&t.present,i),r.initTypes.some((function(e){return e===i.type})))return s("reset history due to init action"),l(),v(n({},t,y(o)));if(r.filter&&"function"==typeof r.filter&&!r.filter(i,o,t&&t.present))return s("filter prevented action, not storing it"),l(),v(n({},t,{present:o}));var u=f(t&&void 0!==t.present?t:r.history,o,r.limit);return s("after insert",{history:u,free:r.limit-c(u)}),l(),v(n({},t,u))}}},t.distinctState=function(){return function(e,t,r){return t!==r}},t.includeAction=_,t.ifAction=function(e){return console.error("Deprecation Warning: Please change `ifAction` to `includeAction`"),_(e)},t.excludeAction=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=b(e);return function(e){return t.indexOf(e.type)<0}};var o=void 0;function s(){if(o){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];console.group||r.unshift("%credux-undo","font-style: italic"),(e=console).log.apply(e,r)}}function a(e,t){if(o){var r,n=["action",e.type];if(console.group)n.unshift("%credux-undo","font-style: italic"),(r=console).groupCollapsed.apply(r,n),console.log("received",{state:t,action:e});else s.apply(void 0,n)}}function l(){if(o)return console.groupEnd&&console.groupEnd()}var u=t.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST"};t.ActionCreators={undo:function(){return{type:u.UNDO}},redo:function(){return{type:u.REDO}},jumpToFuture:function(e){return{type:u.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:u.JUMP_TO_PAST,index:e}}};function c(e){var t=e.past,r=e.future;return t.length+1+r.length}function f(e,t,r){s("insert",{state:t,history:e,free:r-c(e)});var n=e.past,o=e.present,a=r&&c(e)>=r;return void 0===o?{past:[],present:t,future:[]}:{past:[].concat(i(n.slice(a?1:0)),[o]),present:t,future:[]}}function d(e){s("undo",{history:e});var t=e.past,r=e.present,n=e.future;return t.length<=0?e:{past:t.slice(0,t.length-1),present:t[t.length-1],future:[r].concat(i(n))}}function h(e){s("redo",{history:e});var t=e.past,r=e.present,n=e.future;return n.length<=0?e:{future:n.slice(1,n.length),present:n[0],past:[].concat(i(t),[r])}}function p(e,t){if(0===t)return h(e);var r=e.past,n=e.present,i=e.future;return{future:i.slice(t+1),present:i[t],past:r.concat([n]).concat(i.slice(0,t))}}function m(e,t){if(t===e.past.length-1)return d(e);var r=e.past,n=e.present,i=e.future;return{future:r.slice(t+1).concat([n]).concat(i),present:r[t],past:r.slice(0,t)}}function v(e){return n({},e,{history:e})}function g(e,t){return v(n({},e,t))}function y(e){return{past:[],present:e,future:[]}}function b(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return Array.isArray(e)?e:"string"==typeof e?[e]:t}function _(e){var t=b(e);return function(e){return t.indexOf(e.type)>=0}}},"./node_modules/redux/es/applyMiddleware.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r("./node_modules/redux/es/compose.js"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,o,s){var a,l=e(r,o,s),u=l.dispatch,c={getState:l.getState,dispatch:function(e){return u(e)}};return a=t.map((function(e){return e(c)})),u=n.default.apply(void 0,a)(l.dispatch),i({},l,{dispatch:u})}}}},"./node_modules/redux/es/bindActionCreators.js":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return i(e,t);if("object"!==n(e)||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":n(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},s=0;s<r.length;s++){var a=r[s],l=e[a];"function"==typeof l&&(o[a]=i(l,t))}return o}r.r(t),r.d(t,"default",(function(){return o}))},"./node_modules/redux/es/combineReducers.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r("./node_modules/redux/es/createStore.js");r("./node_modules/lodash-es/isPlainObject.js"),r("./node_modules/redux/es/utils/warning.js");function i(e,t){var r=t&&t.type;return"Given action "+(r&&'"'+r.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){for(var t=Object.keys(e),r={},o=0;o<t.length;o++){var s=t[o];0,"function"==typeof e[s]&&(r[s]=e[s])}var a=Object.keys(r);var l=void 0;try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:n.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+n.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(e){l=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var n=!1,o={},s=0;s<a.length;s++){var u=a[s],c=r[u],f=e[u],d=c(f,t);if(void 0===d){var h=i(u,t);throw new Error(h)}o[u]=d,n=n||d!==f}return n?o:e}}},"./node_modules/redux/es/compose.js":function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}r.r(t),r.d(t,"default",(function(){return n}))},"./node_modules/redux/es/createStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ActionTypes",(function(){return s})),r.d(t,"default",(function(){return a}));var n=r("./node_modules/lodash-es/isPlainObject.js"),i=r("./node_modules/symbol-observable/es/index.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s={INIT:"@@redux/INIT"};function a(e,t,r){var l;if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,f=[],d=f,h=!1;function p(){d===f&&(d=f.slice())}function m(){return c}function v(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return p(),d.push(e),function(){if(t){t=!1,p();var r=d.indexOf(e);d.splice(r,1)}}}function g(e){if(!Object(n.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,c=u(c,e)}finally{h=!1}for(var t=f=d,r=0;r<t.length;r++){(0,t[r])()}return e}return g({type:s.INIT}),(l={dispatch:g,subscribe:v,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,g({type:s.INIT})}})[i.default]=function(){var e,t=v;return(e={subscribe:function(e){if("object"!==o(e))throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(m())}return r(),{unsubscribe:t(r)}}})[i.default]=function(){return this},e},l}},"./node_modules/redux/es/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/redux/es/createStore.js");r.d(t,"createStore",(function(){return n.default}));var i=r("./node_modules/redux/es/combineReducers.js");r.d(t,"combineReducers",(function(){return i.default}));var o=r("./node_modules/redux/es/bindActionCreators.js");r.d(t,"bindActionCreators",(function(){return o.default}));var s=r("./node_modules/redux/es/applyMiddleware.js");r.d(t,"applyMiddleware",(function(){return s.default}));var a=r("./node_modules/redux/es/compose.js");r.d(t,"compose",(function(){return a.default}));r("./node_modules/redux/es/utils/warning.js")},"./node_modules/redux/es/utils/warning.js":function(e,t,r){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}r.r(t),r.d(t,"default",(function(){return n}))},"./node_modules/symbol-observable/es/index.js":function(e,t,r){"use strict";r.r(t),function(e,n){var i,o=r("./node_modules/symbol-observable/es/ponyfill.js");i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var s=Object(o.default)(i);t.default=s}.call(this,r("./node_modules/webpack/buildin/global.js"),r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./node_modules/symbol-observable/es/ponyfill.js":function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.r(t),r.d(t,"default",(function(){return n}))},"./node_modules/valid-url/index.js":function(e,t,r){(function(e){!function(e){"use strict";e.exports.is_uri=r,e.exports.is_http_uri=n,e.exports.is_https_uri=i,e.exports.is_web_uri=o,e.exports.isUri=r,e.exports.isHttpUri=n,e.exports.isHttpsUri=i,e.exports.isWebUri=o;var t=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function r(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var r,n,i,o,s,a="",l="";if(a=(r=t(e))[1],n=r[2],i=r[3],o=r[4],s=r[5],a&&a.length&&i.length>=0){if(n&&n.length){if(0!==i.length&&!/^\//.test(i))return}else if(/^\/\//.test(i))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(a.toLowerCase()))return l+=a+":",n&&n.length&&(l+="//"+n),l+=i,o&&o.length&&(l+="?"+o),s&&s.length&&(l+="#"+s),l}}}function n(e,n){if(r(e)){var i,o,s,a,l="",u="",c="",f="";if(l=(i=t(e))[1],u=i[2],o=i[3],s=i[4],a=i[5],l){if(n){if("https"!=l.toLowerCase())return}else if("http"!=l.toLowerCase())return;if(u)return/:(\d+)$/.test(u)&&(c=u.match(/:(\d+)$/)[0],u=u.replace(/:\d+$/,"")),f+=l+":",f+="//"+u,c&&(f+=c),f+=o,s&&s.length&&(f+="?"+s),a&&a.length&&(f+="#"+a),f}}}function i(e){return n(e,!0)}function o(e){return n(e)||i(e)}}(e)}).call(this,r("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/webpack/buildin/global.js":function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/harmony-module.js":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/Controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return k}));var n,i=r("./node_modules/gson-pointer/index.js"),o=r.n(i),s=r("./node_modules/json-schema-library/index.js"),a=r.n(s),l=r("./node_modules/json-schema-library/lib/addValidator.js"),u=r.n(l),c=r("./src/services/DataService.ts"),f=r("./src/services/SchemaService.ts"),d=r("./src/services/ValidationService.ts"),h=r("./src/services/LocationService.ts"),p=r("./src/services/State.ts"),m=r("./src/utils/selectEditor.ts"),v=r("./src/utils/createElement.ts"),g=r("./src/utils/addItem.ts"),y=r("./src/utils/UISchema.ts"),b=r("./src/utils/getID.ts"),_=r("./src/plugin/index.ts"),j=r("./src/utils/i18n.ts"),O=r("./src/utils/createProxy.ts"),x=r("./src/editors/oneofeditor/index.ts"),E=r("./src/editors/arrayeditor/index.ts"),w=r("./src/editors/objecteditor/index.ts"),A=r("./src/editors/valueeditor/index.ts"),S=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},P=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};const{JsonEditor:T}=a.a.cores;function I(e,t){const r=t.getPointer();e[r]&&(e[r]=e[r].filter(e=>t!==e),0===e[r].length&&delete e[r])}class k{constructor(e={type:"object"},t={},r={}){n.set(this,void 0),this.destroyed=!1,this.disabled=!1,e=y.default.extendSchema(e),this.options={editors:[..._.default.getEditors(),x.default,E.default,w.default,A.default],...r},this.editors=this.options.editors,this.state=new p.default,this.instances={},this.core=new T,S(this,n,Object(O.default)(this.options.proxy)),_.default.getValidators().forEach(([e,...t])=>{try{if("format"===e)return this.addFormatValidator(...t);if("keyword"===e)return this.addKeywordValidator(...t);throw new Error(`Unknown validation type '${e}'`)}catch(e){console.log("Error:",e.message)}return!1}),this.schemaService=new f.default(e,t,this.core),this.validationService=new d.default(this.state,e,this.core),this.validationService.setErrorHandler(e=>j.default.translateError(this,e)),t=this.schemaService.addDefaultData(t,e),this.dataService=new c.default(this.state,t),this.onAfterDataUpdate=this.dataService.on(c.EventType.AFTER_UPDATE,this.onAfterDataUpdate.bind(this)),this.validateAll()}resetUndoRedo(){this.dataService.resetUndoRedo()}setActive(e=!0){const t=!1===e;var r,n;this.disabled!==t&&(this.disabled=t,r=this.getInstances(),n=(e,t)=>{t.setActive(!this.disabled)},Object.keys(r).forEach(e=>{r[e].forEach(t=>n(e,t))}))}isActive(){return!this.disabled}createElement(e,t){return Object(v.default)(e,t)}createEditor(e,t,r){if(null==e||null==t)throw new Error(`Missing ${null==e?"pointer":"element"} in createEditor`);!function(e){if("#"!==e[0])throw new Error("Invalid json(schema)-pointer: "+e)}(e);const n=Object.assign({id:Object(b.default)(e),pointer:e,disabled:this.disabled},y.default.copyOptions(e,this),r),i=Object(m.default)(this.getEditors(),e,this,n);if(!1===i)return;if(void 0===i)return void(this.options.log&&console.warn("Could not resolve an editor for "+e,this.schema().get(e)));const o=new i(e,this,n);return t.appendChild(o.toElement()),o.setActive(!this.disabled),this.addInstance(e,o),o}removeInstance(e){const t=e.toElement();t.parentNode&&t.parentNode.removeChild(t),I(this.instances,e)}addInstance(e,t){this.instances[e]=this.instances[e]||[],this.instances[e].push(t)}addItemTo(e,t=0){Object(g.default)(this.data(),this.schema(),e,t),h.default.goto(o.a.join(e,t,!0))}data(){return this.dataService}schema(){return this.schemaService}proxy(){return P(this,n)}validator(){return this.validationService}location(){return h.default}setData(e){e=this.schemaService.addDefaultData(e),this.data().set("#",e)}getData(e="#"){return this.data().get(e)}getEditors(){return this.editors}getInstances(){return this.instances}addFormatValidator(e,t){u.a.format(this.core,e,t)}addKeywordValidator(e,t,r){u.a.keyword(this.core,e,t,r)}setSchema(e){e=y.default.extendSchema(e),this.validationService.set(e),this.schemaService.setSchema(e)}update(){this.schemaService.setData(this.dataService.get())}validateAll(){setTimeout(()=>!0!==this.destroyed&&this.validationService.validate(this.dataService.getDataByReference()))}destroy(){Object.keys(this.instances).forEach(e=>{this.instances[e]&&this.instances[e].forEach(e=>e.destroy())}),this.destroyed=!0,this.instances={},this.schemaService.destroy(),this.validationService.destroy(),this.dataService.destroy(),this.dataService.off(c.EventType.AFTER_UPDATE,this.onAfterDataUpdate)}onAfterDataUpdate({pointer:e}){this.update(),e.includes("/")&&(e=e.replace(/\/[^/]+$/,"")),setTimeout(()=>{const t=this.dataService.getDataByReference();!0!==this.destroyed&&this.validationService.validate(t,e)})}changePointer(e,t){I(this.instances,t),this.addInstance(e,t)}}n=new WeakMap},"./src/components/container/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"CHILD_CONTAINER_SELECTOR",(function(){return l}));var n=r("mithril"),i=r.n(n),o=r("./src/components/containerheader/index.ts"),s=r("./src/components/containererrors/index.ts"),a=r("./src/components/containerdescription/index.ts");const l=".editron-container__children";t.default={getChildContainer(e){const t=e.querySelector(l);if(null==t)throw new Error("Container-Component hast not yet been rendered");return t},view:e=>[!0===e.attrs.hideTitle?null:i()(o.default,e.attrs),i()(a.default,e.attrs),e.children,i()(s.default,e.attrs),i()(l)]}},"./src/components/containerdescription/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),i=r.n(n),o=r("./src/utils/populated.ts");t.default={view:e=>Object(o.default)(e.attrs.description,i()(".editron-container__description.mmf-meta",i.a.trust(e.attrs.description)))}},"./src/components/containererrors/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),i=r.n(n);t.default={view:e=>!1===Array.isArray(e.attrs.errors)||0===e.attrs.errors.length?null:i()("ul.editron-container__errors",e.attrs.errors.map(e=>i()("li",{class:"is-"+(e.severity||"error")},e.message)))}},"./src/components/containerheader/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),i=r.n(n),o=r("./src/utils/getID.ts"),s=r("./src/utils/populated.ts");function a(e,{title:t,icon:r,disabled:n}){let i=""+(t?"withTitle":"noTitle");return i+=" "+(e?"withActions":"noActions"),i+=" "+(r?"withIcon":"noIcon"),i+=n?" is-disabled":"",i}t.default={view(e){const t={icon:"",title:"",disabled:!1,...e.attrs},r=null!=(t.onadd||t.ondelete||t.onmoveup||t.onmovedown);return i()(".editron-container__header",{class:a(r,t),name:Object(o.default)(t.pointer)},i()(".editron-container__title",Object(s.default)(e.attrs.icon,i()("i.mmf-icon",t.icon)),!t.hideTitle&&i()("h2",t.title)),i()(".editron-container__actions",t.onmoveup?i()("i.mmf-icon.mmf-icon--add",{onclick:t.onmoveup},"arrow_upward"):"",t.onmovedown?i()("i.mmf-icon.mmf-icon--add",{onclick:t.onmovedown},"arrow_downward"):"",t.onadd?i()("i.mmf-icon.mmf-icon--add",{onclick:()=>t.onadd()},"add"):"",t.ondelete?i()("i.mmf-icon.mmf-icon--delete",{onclick:t.ondelete},"delete"):""))}}},"./src/components/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/components/container/index.ts");r.d(t,"Container",(function(){return n.default}));var i=r("./src/components/containerdescription/index.ts");r.d(t,"ContainerDescription",(function(){return i.default}));var o=r("./src/components/containererrors/index.ts");r.d(t,"ContainerErrors",(function(){return o.default}));var s=r("./src/components/containerheader/index.ts");r.d(t,"ContainerHeader",(function(){return s.default}));var a=r("./src/components/overlay/index.ts");r.d(t,"Overlay",(function(){return a.default}));var l=r("./src/components/overlayselecttiles/index.ts");r.d(t,"OverlaySelectTiles",(function(){return l.default}))},"./src/components/overlay/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),i=r.n(n),o=r("./node_modules/mithril-material-forms/index.js"),s=r.n(o);const{button:a}=s.a;t.default={view:e=>i()("section.ui-overlay__card",{class:e.attrs.fullscreen?"ui-overlay__card--fullscreen":null},e.attrs.header?i()(".ui-card__header",i()("h1",e.attrs.header)):"",i()(".ui-card__content",{oncreate:t=>t.dom.appendChild(e.attrs.container)}),i()(".ui-card__footer",i()(a,{onClick:e.attrs.onAbort},e.attrs.titleAbort),e.attrs.showSave?i()(a,{onClick:e.attrs.onSave},"Speichern"):""))}},"./src/components/overlayselecttiles/Tile.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),i=r.n(n);t.default={view:e=>i()(".editron-form-box",{"data-value":e.attrs.value,"data-type":e.attrs.title.toLowerCase()},i()(".editron-form-box__content",i()(".editron-form-box__title",[e.attrs.icon?i()(".mmf-icon",e.attrs.icon):"",e.attrs.title]),i()(".editron-form-box__description",e.attrs.description)))}},"./src/components/overlayselecttiles/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),i=r.n(n),o=r("./src/components/overlayselecttiles/Tile.ts");t.default={view(e){const t={value:0,options:[{title:"Keine Optionen angegeben",value:-1}],onchange:Function.prototype,...e.attrs};return i()(".editron-form-tiles",{onclick:e=>{const r=function(e){for(;e.parentNode&&null==e.getAttribute("data-value")&&!1===e.className.includes("editron-form-tiles");)e=e.parentNode;return e.getAttribute("data-value")}(e.target);null!=r&&t.onchange(r)}},t.options.map(e=>i()(o.default,{active:t.value===e.value,title:e.title,icon:e.icon,description:i.a.trust(e.description),value:e.value})))}}},"./src/editors/AbstractEditor.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r("./src/services/ValidationService.ts");class i{constructor(e,t,r){var n;this.pointer=e,this.controller=t,this.options=r,this.dom=this.controller.createElement(".editron-container.editron-container--"+("array"===(n=this.getSchema()).type||"object"===n.type?n.type:"value"),r.attrs),this.update=t.data().observe(e,this.update.bind(this),!0===r.notifyNestedChanges),this.setErrors=t.validator().observe(e,this.setErrors.bind(this),!0===r.notifyNestedErrors),this.errors=this.controller.validator().getErrorsAndWarnings(e)}static editorOf(e,t,r){throw new Error("Missing editorOf-method in custom editor")}update(){throw new Error("Missing implemented of method 'update' in custom editor")}updatePointer(e){const t=this.pointer;return this.controller.data().removeObserver(t,this.update),this.controller.validator().removeObserver(t,this.setErrors),this.pointer=e,this.controller.data().observe(e,this.update,!0===this.options.notifyNestedChanges),this.setErrors=this.controller.validator().observe(e,this.setErrors),[e,t]}getData(){return this.controller.data().get(this.pointer)}setData(e){return this.controller.data().set(this.pointer,e)}getErrors(){return this.errors}getSchema(){return this.controller.schema().get(this.pointer)}getPointer(){return this.pointer}focus(){this.controller.location().setCurrent(this.pointer)}blur(){this.controller.location().blur(this.pointer)}toElement(){return this.dom}destroy(){this.controller.removeInstance(this),this.controller.data().removeObserver(this.pointer,this.update),this.controller.validator().removeObserver(this.pointer,this._addError),this.controller.validator().off(n.EventType.BEFORE_VALIDATION,this._clearErrors)}setErrors(e){this.errors=e,this.updateErrors&&this.updateErrors(this.errors)}}},"./src/editors/AbstractValueEditor.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r("mithril"),i=r.n(n),o=r("./src/utils/getID.ts");const s={boolean:e=>"true"===e||"false"!==e&&e,integer(e){const t=parseInt(e);return!1===isNaN(t)?t:e},number(e){const t=parseFloat(e);return!1===isNaN(t)?t:e}};class a{constructor(e,t,r){this.pointer=e,this.controller=t;const n=t.schema().get(e);r=Object.assign({viewModel:null,title:null,description:null,editorValueType:n.enum?"select":n.type,editorElementProperties:null},r),this.$element=t.createElement(".editron-value.editron-value--"+r.editorValueType,Object.assign({name:Object(o.default)(e)},r.attrs)),this.viewModel=Object.assign({pointer:e,id:Object(o.default)(e),title:r.title,description:r.description,value:t.data().get(e),instantUpdate:r.instantUpdate,schema:n,options:r,errors:t.validator().getErrorsAndWarnings(e),onfocus:()=>t.location().setCurrent(e),onblur:()=>t.location().blur(e),onchange:e=>{s[n.type]&&(e=s[n.type](e)),this.setValue(e)}},r.viewModel),this.update=t.data().observe(e,this.update.bind(this)),this.setErrors=t.validator().observe(e,this.setErrors.bind(this))}static editorOf(e,t){const r=t.schema().get(e);return"object"!==r.type&&"array"!==r.type}getPointer(){return this.pointer}updatePointer(e){if(e===this.pointer)return;this.controller.changePointer(e,this);const t=this.pointer;this.$element.setAttribute("name","editor-"+e),this.pointer=e,this.viewModel.pointer=e,this.viewModel.id=Object(o.default)(e),this.viewModel.onfocus=()=>this.controller.location().setCurrent(e),this.controller.data().removeObserver(t,this.update),this.controller.validator().removeObserver(t,this.setErrors),this.controller.data().observe(e,this.update),this.controller.validator().observe(e,this.setErrors),this.update()}setActive(e=!0){this.viewModel.disabled=!1===e,this.viewModel.options&&(this.viewModel.options.disabled=this.viewModel.disabled),this.render()}update(){this.viewModel.value=this.controller.data().get(this.pointer),this.viewModel.disabled=!this.controller.isActive(),this.render()}setValue(e){this.controller.data().set(this.pointer,e)}setErrors(e){this.viewModel.errors=e,this.render()}render(){i.a.render(this.$element,i()("b","Overwrite AbstractValueEditor.render() to generate view"))}toElement(){return this.$element}destroy(){null!=this.viewModel&&(this.controller.removeInstance(this),i.a.render(this.$element,i()("i")),this.viewModel=null,this.controller.data().removeObserver(this.pointer,this.update),this.controller.validator().removeObserver(this.pointer,this.setErrors),this.$element=null)}}},"./src/editors/arrayeditor/ArrayItemEditor.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));var n=r("mithril"),i=r.n(n),o=r("./node_modules/gson-pointer/index.js"),s=r.n(o),a=r("./src/editors/arrayeditor/ArrayItemView.ts"),l=r("./src/utils/array.ts");class u{constructor(e,t,r){this.$element=t.createElement(".editron-container__child.editron-container__child--array-item",r.attrs),this.controller=t;const n=()=>this.remove();this.viewModel={disabled:!1,onadd:()=>this.add(),onremove:n,onmove:e=>this.move(e),...r},this.render();const i=this.$element.querySelector(a.EditorTarget);this.editor=t.createEditor(e,i,{ondelete:n}),this.updatePointer(e)}render(){i.a.render(this.$element,i()(a.default,this.viewModel))}add(){l.default.addItem(this.parentPointer,this.controller,this.viewModel.index+1)}remove(){l.default.removeItem(this.parentPointer,this.controller,this.viewModel.index)}move(e){l.default.moveItem(this.parentPointer,this.controller,this.viewModel.index,e)}updatePointer(e){this.parentPointer=s.a.join(e,"..",!0),this.viewModel.index=u.getIndex(e),this.viewModel.pointer=e,this.viewModel.length=this.controller.data().get(this.parentPointer).length,this.render(),this.editor&&this.editor.updatePointer(e)}toElement(){return this.$element}getPointer(){return this.viewModel.pointer}destroy(){null!=this.viewModel&&(this.viewModel=null,this.editor&&this.editor.destroy(),this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element))}static getIndex(e){const t=s.a.join(e,"..");return parseInt(e.replace(t+"/",""))}}},"./src/editors/arrayeditor/ArrayItemView.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EditorTarget",(function(){return o}));var n=r("mithril"),i=r.n(n);const o=".editron-item";t.default={view({attrs:e}){const{disabled:t=!1}=e,r=e.minItems<e.length,n=e.maxItems>e.length,s=!0===e.showIndex;return[i()("ul.editron-container__controls.editron-container__controls--child",{class:t?"is-disabled":void 0},!1===e.move||0===e.index?"":i()("li",{onclick:()=>!t&&e.onmove(e.index-1)},i()("i.mmf-icon","arrow_upward")),!1===e.move||e.index===e.length-1?"":i()("li",{onclick:()=>!t&&e.onmove(e.index+1)},i()("i.mmf-icon","arrow_downward")),e.remove&&e.onremove&&r?i()("li",{onclick:()=>!t&&e.onremove(e.index)},i()("i.mmf-icon","delete")):"",e.add&&e.onadd&&n?i()("li",{onclick:()=>!t&&e.onadd(e.index)},i()("i.mmf-icon","add")):""),i()(o,{"data-index":`${e.index+1} / ${e.length}`,class:[t?"is-disabled":"",r?"has-remove-enabled":"has-remove-disabled",n?"has-add-enabled":"has-add-disabled",s?"with-index":""].join(" ").trim()}),e.insert&&n?i()(".editron-container__separator.mmf-row",i()(".editron-container__button--add",{class:t?"is-disabled":void 0,onclick:r=>{console.log("add",t),t||(r.preventDefault(),e.onadd&&e.onadd(e.index))}},i()("i.mmf-icon","add_circle"))):""]}}},"./src/editors/arrayeditor/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r("./src/editors/arrayeditor/ArrayItemEditor.ts"),i=r("./src/services/utils/diffpatch.ts"),o=r("mithril"),s=r.n(o),a=r("./src/components/container/index.ts");class l{constructor(e,t,r={}){r.attrs={id:r.id,...r.attrs};const n=t.schema().get(e),i=t.data().get(e);this.onAdd=(e=0)=>{this.viewModel.disabled||t.addItemTo(this.pointer,e)};this.$element=t.createElement(".editron-container.editron-container--array.withAddButton",r.attrs),this.controller=t,this.pointer=e,this.children=[],this.viewModel={pointer:e,attrs:{},errors:t.validator().getErrorsAndWarnings(e),onadd:this.onAdd,length:i.length,maxItems:n.maxItems||1/0,minItems:n.minItems||0,...r,controls:{add:!1,remove:!0,move:!0,insert:!0,showIndex:!0===r["array:index"],maxItems:n.maxItems||1/0,minItems:n.minItems||0,...r.controls}},this.updateView=t.data().observe(e,this.updateView.bind(this)),this.setErrors=t.validator().observe(e,this.setErrors.bind(this)),this.render(),this.$items=this.$element.querySelector(a.CHILD_CONTAINER_SELECTOR),this.rebuildChildren(),this.updateControls()}static editorOf(e,t){return"array"===t.schema().get(e).type}setActive(e=!0){const t=!1===e;this.viewModel.disabled=t,this.viewModel.controls.disabled=t,this.rebuildChildren(),this.render()}update(){this.rebuildChildren(),this.updateControls()}updatePointer(e){if(this.pointer===e)return;this.controller.changePointer(e,this);const t=this.pointer;this.pointer=e,this.viewModel.pointer=e,this.viewModel.attrs.id=e,this.controller.data().removeObserver(t,this.updateView),this.controller.validator().removeObserver(t,this.setErrors),this.controller.data().observe(e,this.updateView),this.controller.validator().observe(e,this.setErrors),this.children.forEach((t,r)=>t.updatePointer(`${e}/${r}`)),this.render()}updateView(e){e&&e.patch?this.applyPatches(e.patch):this.rebuildChildren(),this.updateControls()}applyPatches(e){const t=this.children.slice(0);i.default.patch(this.children,e),this.children.forEach((e,t)=>{if(e instanceof n.default==!1){const e=`${this.pointer}/${t}`,r=new n.default(e,this.controller,this.viewModel.controls);this.children[t]=r}}),t.forEach(e=>{-1===this.children.indexOf(e)&&e.destroy()});const r=this.controller.location().getCurrent();for(let e=0,t=this.children.length;e<t;e+=1){const t=this.children[e].getPointer(),n=`${this.pointer}/${e}`;if(0===r.indexOf(t)){const e=r.replace(t,n);this.controller.location().setCurrent(e)}this.children[e].updatePointer(n),this.$items.children[e]!==this.children[e].toElement()&&(e+1<this.$items.children.length?this.$items.insertBefore(this.children[e].toElement(),this.$items.children[e+1]):this.$items.appendChild(this.children[e].toElement()))}}rebuildChildren(){const e=this.controller.data().get(this.pointer);this.children.forEach(e=>e.destroy()),this.children.length=0,this.$items.innerHTML="",e.forEach((e,t)=>{const r=`${this.pointer}/${t}`,i=new n.default(r,this.controller,this.viewModel.controls);this.$items.appendChild(i.toElement()),this.children.push(i)})}updateControls(){this.viewModel.length=this.children.length,this.viewModel.onadd=this.viewModel.maxItems>this.children.length&&this.onAdd,this.$element.classList.toggle("has-add-disabled",this.viewModel.maxItems<=this.children.length),this.$element.classList.toggle("has-remove-disabled",this.viewModel.minItems>=this.children.length)}getPointer(){return this.pointer}setErrors(e){this.viewModel.errors=e,this.render()}render(){s.a.render(this.$element,s()(a.default,this.viewModel))}toElement(){return this.$element}destroy(){null!=this.viewModel&&(this.controller.removeInstance(this),this.viewModel=null,s.a.render(this.$element,s()("i")),this.controller.data().removeObserver(this.pointer,this.updateView),this.controller.validator().removeObserver(this.pointer,this.setErrors),this.children.forEach(e=>e.destroy()))}}},"./src/editors/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/editors/AbstractEditor.ts"),i=r("./src/editors/AbstractValueEditor.ts"),o=r("./src/editors/arrayeditor/index.ts"),s=r("./src/editors/objecteditor/index.ts"),a=r("./src/editors/oneofeditor/index.ts"),l=r("./src/editors/valueeditor/index.ts");t.default={AbstractEditor:n.default,AbstractValueEditor:i.default,ArrayEditor:o.default,ObjectEditor:s.default,OneOfEditor:a.default,ValueEditor:l.default}},"./src/editors/objecteditor/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));var n=r("mithril"),i=r.n(n),o=r("./node_modules/mithril-material-forms/components/textareaform/index.js"),s=r.n(o),a=r("./src/services/OverlayService.ts"),l=r("./src/components/container/index.ts");class u{constructor(e,t,r={}){r.attrs=Object.assign({id:r.id},r.attrs),this.$element=t.createElement(".editron-container.editron-container--object",r.attrs),this.pointer=e,this.options=r,this.controller=t,this.childEditors=[],this.viewModel={pointer:e,icon:r.icon,errors:[],attrs:{},hideTitle:r.hideTitle,title:r.title,description:r.description,...r},r.addDelete&&(this.viewModel.ondelete=()=>t.data().delete(e)),this.rebuildChildren=t.data().observe(e,this.rebuildChildren.bind(this)),this.setErrors=t.validator().observe(e,this.setErrors.bind(this)),this.setErrors(t.validator().getErrorsAndWarnings(e)),this.render(),this.$children=this.$element.querySelector(l.CHILD_CONTAINER_SELECTOR),this.rebuildChildren()}static editorOf(e,t){return"object"===t.schema().get(e).type}updatePointer(e){if(this.pointer===e||null==this.viewModel)return;this.controller.changePointer(e,this);const t=this.pointer;this.$element.id=e;const r=this.controller;this.options.attrs.id=e,this.pointer=e,this.viewModel.pointer=e,this.options.addDelete&&(this.viewModel.ondelete=()=>r.data().delete(e)),r.data().removeObserver(t,this.rebuildChildren),r.validator().removeObserver(t,this.setErrors),r.data().observe(e,this.rebuildChildren),r.validator().observe(e,this.setErrors),this.childEditors.forEach(e=>e.updatePointer(`${this.pointer}/${e._property}`)),this.render()}setActive(e=!0){this.viewModel.disabled=!1===e,this.render()}update(){this.rebuildChildren()}rebuildChildren(){if(null==this.viewModel)return void console.error("destroyed ObjectEditor receives an update event\n                - this may be invoked through oneOf-Editor",this);const e=this.controller.data().get(this.pointer);this.childEditors.forEach(e=>e.destroy()),this.childEditors.length=0,this.$children.innerHTML="",e&&Object.keys(e).forEach(e=>{const t=this.controller.createEditor(`${this.pointer}/${e}`,this.$children);t&&(t._property=e,this.childEditors.push(t))}),this.render()}deleteProperty(e){const t=this.controller.data().get(this.pointer);delete t[e],this.controller.data().set(this.pointer,t)}showProperty(e){const t=this.controller.data().get(`${this.pointer}/${e}`);!function(e,t,r){const n=e.createElement(".overlay__item.overlay__item--json");a.default.open(n,{ok:!0,save:!1}),i.a.render(n,i()(s.a,{title:r,value:JSON.stringify(t,null,4)}))}(this.controller,t,e)}setErrors(e=[]){this.viewModel.errors=e.map(e=>{if("no-additional-properties-error"===e.code){const t=e.message,r=e.data.property;return{severity:e.type||"error",message:i()(".editron-error.editron-error--object-property",i()("span",i.a.trust(t)),i()("a.mmf-icon",{onclick:()=>this.showProperty(r)},"visibility"),i()("a.mmf-icon",{onclick:()=>this.deleteProperty(r)},"clear"))}}return e}),this.render()}render(){i.a.render(this.$element,i()(l.default,this.viewModel))}toElement(){return this.$element}getPointer(){return this.pointer}destroy(){null!=this.viewModel&&(this.controller.removeInstance(this),i.a.render(this.$element,i()("i")),this.controller.data().removeObserver(this.pointer,this.rebuildChildren),this.controller.validator().removeObserver(this.pointer,this.setErrors),this.childEditors.forEach(e=>e.destroy()),this.childEditors.length=0,this.$children.innerHTML="",this.viewModel=null)}}},"./src/editors/oneofeditor/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r("./src/utils/getID.ts"),i=r("./node_modules/gson-pointer/index.js"),o=r.n(i),s=r("mithril"),a=r.n(s),l=r("./node_modules/mithril-material-forms/components/select/index.js"),u=r.n(l),c=r("./src/utils/UISchema.ts"),f=r("./src/components/container/index.ts");const{UI_PROPERTY:d}=c.default;class h{constructor(e,t,r){const i=t.schema().get(e),s=i.oneOfSchema,a=o.a.get(s,`#/${d}/attrs`);this.schema=s,this.childSchema=i,s.oneOf.forEach((e,t)=>e.title=e.title||t+"."),this.$element=t.createElement(".editron-container.editron-container--oneof",a),this.controller=t,this.pointer=e,this.viewModel={id:Object(n.default)(e),pointer:e,options:s.oneOf.map((e,t)=>({title:e.title,value:t})),onchange:e=>this.changeChild(s.oneOf[e]),value:this.getIndexOf(i),title:s.title,description:s.description},this.update=t.data().observe(e,this.update.bind(this),!0),this.render(),this.$childContainer=this.$element.querySelector(f.CHILD_CONTAINER_SELECTOR),this.rebuild()}static editorOf(e,t,r){const n=t.schema().get(e);return n.oneOfSchema&&!n.items&&!r.renderOneOf}setActive(e=!0){this.viewModel.disabled=!1===e,this.render()}changeChild(e){this.childEditor&&this.childEditor.destroy();const t=this.controller.schema().getTemplate(e);this.controller.data().set(this.pointer,t)}getIndexOf(e){for(let t=0,r=this.schema.oneOf.length;t<r;t+=1)if(this.schema.oneOf[t].title===e.title)return t;return 0}updatePointer(e){const t=this.getPointer();t!==e&&(this.controller.changePointer(e,this),this.pointer=e,this.viewModel.id=Object(n.default)(e),this.viewModel.pointer=e,this.$element.id=e,this.controller.data().removeObserver(t,this.update),this.controller.data().observe(e,this.update,!0),this.childEditor&&this.childEditor.updatePointer(e),this.render())}update(){const e=this.controller.schema().get(this.pointer);delete e.oneOfSchema,e.title!==this.childSchema.title&&(this.viewModel.value=this.getIndexOf(e),this.childSchema=e,this.rebuild())}rebuild(){this.childEditor&&this.childEditor.destroy(),this.$childContainer.innerHTML="",this.childEditor=this.controller.createEditor(this.pointer,this.$childContainer,{renderOneOf:!0}),this.render()}render(){a.a.render(this.$element,a()(f.default,this.viewModel,a()(".editron-value",a()(u.a,this.viewModel))))}toElement(){return this.$element}getPointer(){return this.pointer}destroy(){null!=this.viewModel&&(this.controller.removeInstance(this),this.viewModel=null,a.a.render(this.$element,"i"),this.controller.data().removeObserver(this.pointer,this.update))}}},"./src/editors/valueeditor/View.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),i=r.n(n),o=r("./node_modules/mithril-material-forms/components/checkboxform/index.js"),s=r.n(o),a=r("./node_modules/mithril-material-forms/components/selectform/index.js"),l=r.n(a),u=r("./node_modules/mithril-material-forms/components/textareaform/index.js"),c=r.n(u),f=r("./node_modules/mithril-material-forms/components/inputform/index.js"),d=r.n(f),h=r("./src/utils/UISchema.ts");const p={view({attrs:e}){const{schema:t}=e,{options:r={}}=e.options,n={type:t.type,title:t.title,description:t.description,onblur:e.onblur||Function.prototype,onfocus:e.onfocus||Function.prototype,onchange:e.onchange||Function.prototype,...e,...r};return t.enum&&t.enum.length>0?(n.options=h.default.enumOptions(t),i()(l.a,n)):"boolean"===t.type?i()(s.a,n):"string"===t.type&&"html"===t.format?i()(c.a,n):"string"===t.type&&"textarea"===t.format?(n.rows=r["textarea:rows"]||1,i()(c.a,n)):i()(d.a,n)}};t.default=p},"./src/editors/valueeditor/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r("mithril"),i=r.n(n),o=r("./src/editors/valueeditor/View.ts"),s=r("./src/editors/AbstractValueEditor.ts");class a extends s.default{static editorOf(e,t){const r=t.schema().get(e);return"object"!==r.type&&"array"!==r.type}constructor(e,t,r={}){super(e,t,r),this.render()}render(){i.a.render(this.$element,i()(o.default,this.viewModel))}}},"./src/plugin/index.ts":function(e,t,r){"use strict";r.r(t);const n=[],i=[];t.default={editor(e){console.log("register editor "+e.name),n.push(e)},validator(e,t,r){i.push(["format",t,r])},keywordValidator(e,t,r){i.push(["keyword",e,t,r])},getEditors:()=>n,getValidators:()=>i}},"./src/services/DataService.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EventType",(function(){return b})),r.d(t,"default",(function(){return _}));var n,i=r("./src/services/utils/copy.ts"),o=r("./src/services/reducers/dataReducer.ts"),s=r("./src/services/utils/diffpatch.ts"),a=r("./src/services/utils/getParentPointer.ts"),l=r("./src/services/utils/getPatchesPerPointer.ts"),u=r("./node_modules/json-schema-library/lib/getTypeOf.js"),c=r.n(u),f=r("./node_modules/gson-pointer/index.js"),d=r.n(f),h=r("./src/services/utils/isRootPointer.ts"),p=r("./src/services/State.ts"),m=r("./src/services/reducers/actions.ts"),v=r("./node_modules/nanoevents/index.js"),g=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},y=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};var b;!function(e){e.BEFORE_UPDATE="beforeUpdate",e.AFTER_UPDATE="afterUpdate",e.FINAL_UPDATE="finalUpdate"}(b||(b={}));class _{constructor(e,t){if(this.id="data",this.emitter=Object(v.createNanoEvents)(),n.set(this,void 0),!(e instanceof p.default))throw new Error("Given state in DataService must be of instance 'State'");this.observers={},this.state=e,this.state.register(this.id,o.default);let r={};g(this,n,()=>{const e=this.state.get(this.id),t=Object(l.default)(r,e.data.present);if(0!==t.length){for(let e=0,r=t.length;e<r;e+=1){const r=t[e].pointer,n=this.getDataByReference(r),i=c()(n);this.emit(b.AFTER_UPDATE,r,{type:i,patch:t[e].patch}),this.bubbleObservers(r,{type:i,patch:t[e].patch})}this.emitter.emit(b.FINAL_UPDATE,t),r=e.data.present}}),this.state.subscribe(this.id,y(this,n)),void 0!==t&&(this.set("#",t),this.resetUndoRedo())}resetUndoRedo(){this.state.get(this.id).data.past.length=0}get(e="#"){const t=this.getDataByReference(e);return Object(i.default)(t)}getDataByReference(e="#"){return d.a.get(this.state.get(this.id).data.present,e)}set(e,t,r=!1){if(!1===this.isValid(e))throw new Error(`Pointer ${e} does not exist in data`);const n=this.getDataByReference(e);null!=s.default.diff(n,t)&&(this.emit(b.BEFORE_UPDATE,e,{action:m.ActionTypes.DATA_SET,isSynched:r}),this.state.dispatch(m.ActionCreators.setData(e,t,n,r)),"#"===e&&!1===r&&this.state.get(this.id).data.past.pop())}delete(e){if(Object(h.default)(e))throw new Error('Can not remove root data via delete. Use set("#/", {}) instead.');const t=e.split("/").pop(),r=Object(a.default)(e),n=this.get(r);d.a.delete(n,t),this.set(r,n)}undoCount(){return this.state.get(this.id).data.past.length}redoCount(){return this.state.get(this.id).data.future.length}undo(){this.emit(b.BEFORE_UPDATE,"#",{action:m.ActionTypes.UNDO}),this.state.dispatch(m.ActionCreators.undo())}redo(){this.emit(b.BEFORE_UPDATE,"#",{action:m.ActionTypes.REDO}),this.state.dispatch(m.ActionCreators.redo())}on(e,t){return this.emitter.on(e,t)}off(e,t){this.emitter.events[e]=this.emitter.events[e].filter(e=>e!==t)}emit(e,t,r){this.emitter.emit(e,j(t,r))}observe(e,t,r=!1){return t.bubbleEvents=r,this.observers[e]=this.observers[e]||[],this.observers[e].push(t),t}removeObserver(e,t){this.observers[e]&&this.observers[e].length>0&&(this.observers[e]=this.observers[e].filter(e=>e!==t))}notify(e,t){if(null==this.observers[e]||0===this.observers[e].length)return;const r=this.observers[e];for(let n=0,i=r.length;n<i;n+=1)!0!==r[n].bubbleEvents&&t.pointer!==e||r[n](t)}bubbleObservers(e,t){const r=j(e,t),n=d.a.split(e);for(;n.length;)this.notify(d.a.join(n,!0),r),n.length-=1;this.notify("#",r)}isValid(e){return Object(h.default)(e)||void 0!==d.a.get(this.getDataByReference(),e)}destroy(){this.state.unsubscribe(this.id,y(this,n)),this.state.unregister(this.id)}}function j(e,t){return{...t,pointer:e,parentPointer:Object(a.default)(e)}}n=new WeakMap},"./src/services/LocationService.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EventType",(function(){return l}));var n=r("./node_modules/nanoevents/index.js"),i=r("./node_modules/gson-pointer/index.js"),o=r.n(i),s=r("./src/services/uistate/index.ts"),a=r("./src/utils/getID.ts");var l;!function(e){e.FOCUS="focus",e.BLUR="blur",e.PAGE="page",e.TARGET="target"}(l||(l={}));const u=Object(n.createNanoEvents)(),c={PAGE_EVENT:"page",TARGET_EVENT:"target",goto(e){const t=o.a.split(e);if(0===t.length||1===t.length&&""===t[0])return;const r=t[0];s.default.getCurrentPage()!==r&&s.default.setCurrentPage(o.a.join(r,!0)),s.default.setCurrentPointer(o.a.join(e,!0)),this.focus()},setCurrent(e){e!==this.getCurrent()&&(s.default.setCurrentPointer(e),u.emit(l.FOCUS,e))},getCurrent:()=>s.default.getCurrentPointer(),focus(){clearTimeout(this.timeout);const e=s.default.getCurrentPointer(),t=Object(a.default)(e),r=document.getElementById(t);null!=r&&(this.timeout=setTimeout(()=>{let e=r.querySelector(".editron-container > .editron-container__header");e=null==e||null===e.offsetParent?r:e,e.scrollIntoView(),r.dispatchEvent(new Event("focus")),r.focus&&r.focus()},25))},blur(e){s.default.getCurrentPointer()===e&&(s.default.setCurrentPointer(""),u.emit(l.BLUR,e))},on:(e,t)=>u.on(e,t),off(e,t){u.events[e]=u.events[e].filter(e=>e!==t)}};s.default.on(s.EventType.CURRENT_PAGE,e=>u.emit(l.PAGE,e)),s.default.on(s.EventType.CURRENT_POINTER,e=>u.emit(l.TARGET,e)),t.default=c},"./src/services/OverlayService.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),i=r.n(n),o=r("./src/components/overlay/index.ts"),s=r("./src/utils/createElement.ts"),a=r("./src/services/uistate/index.ts");a.default.on(a.EventType.OVERLAY,e=>l.onChange(null==e?void 0:e.element,null==e?void 0:e.options));const l={open(e,t){a.default.setOverlay({element:e,options:Object.assign({ok:!1,save:!0,fullscreen:!1,onAbort:Function.prototype,onSave:Function.prototype},t)})},close(){a.default.setOverlay(),i.a.render(this.getElement(),i()("i"))},onChange(e,t){if(null==e){const e=this.getElement();return void(e.parentNode&&e.parentNode.removeChild(e))}const r=this.getElement();e.classList.add("overlay__item"),i.a.render(r,i()(o.default,{container:e,fullscreen:t.fullscreen,showSave:t.save,titleAbort:t.ok?"OK":"Abbrechen",onSave:()=>{t.onSave(),this.close()},onAbort:()=>this.close(),onremove:()=>t.onAbort()})),document.body.appendChild(r)},getElement(){return null==this.$element&&(this.$element=Object(s.default)(".ui-overlay"),this.$element.addEventListener("click",e=>{e.target===this.$element&&this.close()})),this.$element}};t.default=l},"./src/services/SchemaService.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r("./src/services/utils/copy.ts"),i=r("./node_modules/json-schema-library/index.js"),o=r.n(i);const{getChildSchemaSelection:s}=o.a,{JsonEditor:a}=o.a.cores;class l{constructor(e={type:"object"},t={},r=new a){this.cache={},this.core=r,this.setSchema(e),this.setData(t)}addDefaultData(e=this.data,t=this.schema){return this.core.getTemplate(e,t)}getTemplate(e){return this.core.getTemplate(void 0,e)}getChildSchemaSelection(e,t){const r=this.get(e);return s(this.core,t,r)}setData(e){this.data=this.addDefaultData(e),this.resetCache()}setSchema(e){this.core.setSchema(e),this.schema=this.core.getSchema(),this.resetCache()}resetCache(){this.cache={}}get(e,t){if(t){const r=o.a.getSchema(this.core,e,t,this.schema);return Object(n.default)(r)}if(void 0===this.cache[e]){const t=o.a.getSchema(this.core,e,this.data,this.schema);if(!0===t.variableSchema)return t;this.cache[e]=Object(n.default)(t)}return this.cache[e]}destroy(){this.setData(null),this.setSchema(null)}}},"./src/services/SessionService.ts":function(e,t,r){"use strict";r.r(t),t.default={get(e,t){if(null==window.localStorage)return t;null==localStorage.getItem(e)&&this.set(e,t);try{return JSON.parse(localStorage.getItem(e))}catch(e){return t}},set(e,t){window.localStorage&&localStorage.setItem(e,JSON.stringify(t))},toggle(e){const t=!this.get(e,!1);return this.set(e,t),t}}},"./src/services/State.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r("./node_modules/redux/es/index.js"),i=r("./node_modules/nanoevents/index.js");class o{constructor(){this.FLAG_CHANGED="hasChanged",this.emitter=Object(i.createNanoEvents)(),this.FLAG_CHANGED="hasChanged",this.reducers={action:(e,t)=>t},this.store=Object(n.createStore)(()=>{}),this.store.subscribe(()=>this.onChange(this.store.getState()))}onChange(e){Object.keys(e).forEach(t=>{const r=e[t];null!=r.hasChanged&&!1!==r.hasChanged&&this.emitter.emit(t,r)})}register(e,t){if(this.reducers[e])throw new Error(`A reducer with id ${e} is already registered`);this.reducers[e]=t,this.store.replaceReducer(Object(n.combineReducers)(this.reducers))}unregister(e){delete this.store.getState()[e]}get(e){const t=this.store.getState();return null==e?t:t[e]}dispatch(...e){return this.store.dispatch(...e)}subscribe(e,t){if("string"!=typeof e||"function"!=typeof t)throw new Error("Invalid arguments for state.subscribe "+arguments);const r=this.store.getState();if(!r[e]||null==r[e].hasChanged)throw new Error(`Could not subscribe to state ${e}. Property hasChanged not available`);this.emitter.on(e,t)}unsubscribe(e,t){var r;if("string"!=typeof e||"function"!=typeof t)throw new Error("Invalid arguments for state.unsubscribe "+arguments);this.emitter.events[e]=null===(r=this.emitter.events[e])||void 0===r?void 0:r.filter(e=>e!==t)}}},"./src/services/ValidationService.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EventType",(function(){return d})),r.d(t,"default",(function(){return h}));var n=r("./src/services/utils/BubblingCollectionObservable.ts"),i=r("./src/services/reducers/errorReducer.ts"),o=r("./node_modules/json-schema-library/index.js"),s=r.n(o),a=r("./src/services/State.ts"),l=r("./src/services/utils/Validation.ts"),u=r("./src/services/reducers/actions.ts"),c=r("./node_modules/nanoevents/index.js");const{JsonEditor:f}=s.a.cores;var d;!function(e){e.BEFORE_VALIDATION="beforeValidation",e.AFTER_VALIDATION="afterValidation",e.ON_ERROR="onError"}(d||(d={}));class h{constructor(e,t={type:"object"},r=new f){if(this.id="errors",this.emitter=Object(c.createNanoEvents)(),this.observer=new n.default,!(e instanceof a.default))throw new Error("Given state in ValidationService must be of instance 'State'");this.core=r,this.set(t),this.state=e,this.state.register(this.id,i.default),this.setErrorHandler(e=>e)}setErrorHandler(e){this.errorHandler=e}validate(e,t="#"){this.currentValidation&&this.currentValidation.cancel(),this.emit(d.BEFORE_VALIDATION),this.observer.clearEvents(t);let r=[];return"#"!==t&&(r=this.state.get(this.id).filter(e=>null==e.data.pointer||!1===e.data.pointer.startsWith(t))),this.state.dispatch(u.ActionCreators.setErrors(r)),this.currentValidation=new l.default(e,t,this.errorHandler),this.currentValidation.start(this.core,(e,t)=>{const n=r.concat(t);this.state.dispatch(u.ActionCreators.setErrors(n)),this.observer.notify(e.data.pointer,e),this.emit(d.ON_ERROR,e)},e=>{const t=r.concat(e);this.state.dispatch(u.ActionCreators.setErrors(t)),this.emit(d.AFTER_VALIDATION,t),this.currentValidation=null})}set(e){this.core.setSchema(e),this.schema=this.core.getSchema()}get(){return this.schema}on(e,t){if(void 0===e)throw new Error("Missing `eventType` in ValidationService.on");return this.emitter.on(e,t),t}off(e,t){this.emitter.events[e]=this.emitter.events[e].filter(e=>e!==t)}emit(e,t={}){this.emitter.emit(e,t)}observe(e,t,r=!1){return this.observer.observe(e,t,r),t}removeObserver(e,t){this.observer.removeObserver(e,t)}notify(e,t={}){this.observer.notify(e,t)}getErrorsAndWarnings(e,t=!1){const r=this.state.get(this.id)||[];if(null==e)return r;const n=new RegExp(`^${e}${t?"":"$"}`);return r.filter(e=>n.test(e.data.pointer))}getErrors(e,t=!1){return this.getErrorsAndWarnings(e,t).filter(e=>"warning"!==e.severity)}getWarnings(e,t=!1){return this.getErrorsAndWarnings(e,t).filter(e=>"warning"===e.severity)}destroy(){this.set(null),this.emitter=null,this.observer=null,this.state.unregister(this.id)}}},"./src/services/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/services/LocationService.ts");r.d(t,"LocationService",(function(){return n.default}));var i=r("./src/services/OverlayService.ts");r.d(t,"OverlayService",(function(){return i.default}));var o=r("./src/services/SessionService.ts");r.d(t,"SessionService",(function(){return o.default}));var s=r("./src/services/uistate/index.ts");r.d(t,"UIState",(function(){return s.default}))},"./src/services/reducers/actions.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"ActionTypes",(function(){return o})),r.d(t,"ActionCreators",(function(){return s}));const n=r("./node_modules/redux-undo/lib/index.js").ActionCreators,i=r("./node_modules/redux-undo/lib/index.js").ActionTypes,o={DATA_SET:"DATA_SET",UNDO:i.UNDO,REDO:i.REDO,ERRORS_SET:"ERRORS_SET"},s={setData:(e,t,r,n=!1)=>({type:o.DATA_SET,pointer:e,value:t,prevValue:r,isSynched:n}),undo:()=>n.undo(),redo:()=>n.redo(),setErrors:(e=[])=>({type:o.ERRORS_SET,errors:e})}},"./src/services/reducers/dataReducer.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/services/utils/copy.ts"),i=r("./src/services/utils/ensureItemIDs.ts"),o=r("./node_modules/gson-pointer/index.js"),s=r.n(o),a=r("./src/services/utils/isRootPointer.ts"),l=r("./node_modules/redux/es/index.js"),u=r("./src/services/reducers/actions.ts"),c=r("./node_modules/redux-undo/lib/index.js"),f=r.n(c);const d=[u.ActionTypes.DATA_SET,u.ActionTypes.UNDO,u.ActionTypes.REDO],h={hasChanged:!1,action:null,data:null};const p={debug:!1,filter:e=>d.includes(e.type)};t.default=Object(l.combineReducers)({hasChanged:(e,t)=>d.includes(t.type),data:f()((function(e=h,t){switch(t.type){case u.ActionTypes.DATA_SET:if(Object(a.default)(t.pointer))return Object(i.default)(Object(n.default)(t.value));const r=Object(n.default)(e);return s.a.set(r,t.pointer,Object(n.default)(t.value)),Object(i.default)(r);default:return e}}),p)})},"./src/services/reducers/errorReducer.ts":function(e,t,r){"use strict";r.r(t);const n=r("./src/services/reducers/actions.ts").ActionTypes;t.default=(e=[],t)=>t.type===n.ERRORS_SET?t.errors:e},"./src/services/uistate/actions.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"ActionTypes",(function(){return n})),r.d(t,"ActionCreators",(function(){return i}));const n={UI_PAGE_SET:"UI_PAGE_SET",UI_OVERLAY_SET:"UI_OVERLAY_SET",UI_CURRENT_SET:"UI_CURRENT_SET"},i={setCurrentPage:(e="#")=>({type:n.UI_PAGE_SET,value:e}),setCurrentPointer:(e="#")=>({type:n.UI_CURRENT_SET,value:e}),setOverlay:(e=!1)=>({type:n.UI_OVERLAY_SET,value:e})}},"./src/services/uistate/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"EventType",(function(){return n}));var n,i=r("./node_modules/nanoevents/index.js"),o=r("./src/services/State.ts"),s=r("./src/services/uistate/actions.ts"),a=r("./src/services/uistate/uiReducer.ts");!function(e){e.OVERLAY="overlay",e.CURRENT_POINTER="current",e.CURRENT_PAGE="page"}(n||(n={}));class l{constructor(){this.id="ui",this.emitter=Object(i.createNanoEvents)(),this.id="ui",this.state=new o.default,this.state.register(this.id,a.default)}get(e){return this.state.get(this.id).ui[e]}getCurrentPointer(){return this.get("currentPointer")}getCurrentPage(){return this.get("currentPage")}setOverlay(e=!1){this.get("overlay")!==e&&(this.state.dispatch(s.ActionCreators.setOverlay(e)),this.emitter.emit(n.OVERLAY,this.get("overlay")))}on(e,t){return this.emitter.on(e,t)}off(e,t){this.emitter.events[e]=this.emitter.events[e].filter(e=>e!==t)}setCurrentPage(e){this.get("currentPage")!==e&&(this.state.dispatch(s.ActionCreators.setCurrentPage(e)),this.emitter.emit(n.CURRENT_PAGE,this.get("currentPage")))}setCurrentPointer(e){this.get("currentPointer")!==e&&(this.state.dispatch(s.ActionCreators.setCurrentPointer(e)),this.emitter.emit(n.CURRENT_POINTER,this.get("currentPointer")))}}const u=new l;u.UIStateContructor=l,t.default=u},"./src/services/uistate/uiReducer.ts":function(e,t,r){"use strict";r.r(t);const n=r("./node_modules/redux/es/index.js"),i=r("./src/services/uistate/actions.ts").ActionTypes,o={hasChanged:!1,currentPage:"#",currentPointer:"#",overlay:!1};t.default=n.combineReducers({hasChanged:function(e=!1,t){return null!=i[t.type]&&t.type},ui:function(e=o,t){switch(t.type){case i.UI_PAGE_SET:return(e=Object.assign({},e)).currentPage=t.value,e;case i.UI_CURRENT_SET:return(e=Object.assign({},e)).currentPointer=t.value,e;case i.UI_OVERLAY_SET:return(e=Object.assign({},e)).overlay=t.value,e;default:return e}}})},"./src/services/utils/BubblingCollectionObservable.ts":function(e,t,r){"use strict";r.r(t);const n=r("./node_modules/gson-pointer/index.js");t.default=class{constructor(){this.observers={},this.eventCollection={},this.bubbleCollection={}}observe(e,t,r=!1){return this.observers[e]=this.observers[e]||[],!1===this.observers[e].includes(t)&&(t.receiveChildEvents=r,this.observers[e].push(t)),t}removeObserver(e,t){if(null==this.observers[e])return;const r=this.observers[e].indexOf(t);-1!==r&&this.observers[e].splice(r,1)}reset(){const e={};Object.keys(this.eventCollection).concat(Object.keys(this.bubbleCollection)).forEach(t=>{e[t]=!0}),this.eventCollection={},this.bubbleCollection={},Object.keys(e).forEach(e=>this._notify(e,e,[])),this.eventCollection={},this.bubbleCollection={}}clearEvents(e,t=!0){let r=!1;t&&Object.keys(this.eventCollection).forEach(t=>{t.startsWith(e)&&t!==e&&this.eventCollection[t].length>0&&(r=!0,this.eventCollection[t].length=0,this.bubbleCollection[t]={},this._notify(t,t,this.eventCollection[t]))});const n=this.eventCollection[e];Array.isArray(n)&&n.length>0&&(r=!0,n.length=0,this.bubbleCollection[e]={}),r&&this._notifyAll(e,n)}_notifyAll(e,t){const r=n.split(e);for(;r.length>0;){const i=n.join(r,!0);this._notify(i,e,t),r.pop()}this._notify("#",e,t)}notify(e,t){this.eventCollection[e]=this.eventCollection[e]||[],this.eventCollection[e].push(t),this._notifyAll(e,this.eventCollection[e])}_notify(e,t,r){null!=this.observers[e]&&this.observers[e].forEach(n=>{if(!1===n.receiveChildEvents&&e===t)return void n(r);if(!1===n.receiveChildEvents&&e!==t)return;this.bubbleCollection[e]=this.bubbleCollection[e]||{};const i=this.bubbleCollection[e];i[t]=r;n(Object.keys(i).reduce((e,t)=>e.concat(i[t]),[]))})}}},"./src/services/utils/Validation.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r("./node_modules/gson-pointer/index.js"),i=r.n(n),o=r("./node_modules/json-schema-library/lib/validateAsync.js"),s=r.n(o);class a{constructor(e,t,r){this.canceled=!1,this.errors=[],this.data=e,this.pointer=t,this.errorHandler=r}start(e,t,r){this.cbDone=r,this.cbError=t;const n=this.pointer;let o=this.data,a=e.getSchema();return"#"!==n&&(a=e.getSchema(n,o),o=i.a.get(o,n)),s()(e,o,{schema:a,pointer:n,onError:this.onError.bind(this)}).then(e=>(this.onDone(e),e)).catch(e=>this.onFail(e))}onError(e){this.canceled||(e=this.errorHandler(e),this.errors.push(e),this.cbError(e,this.errors))}onDone(e){this.canceled||(this.errors.length!==e.length&&console.error("Inconsistent validation errors. Not all errors were emitted by validateAsync()"),this.cbDone(this.errors))}onFail(e){this.canceled||(console.error("Validation failed",e),this.cbDone(this.errors))}cancel(){this.canceled=!0}}},"./src/services/utils/copy.ts":function(e,t,r){"use strict";function n(e){return void 0===e||!1===Array.isArray(e)&&"object"!=typeof e?e:JSON.parse(JSON.stringify(e))}r.r(t),r.d(t,"default",(function(){return n}))},"./src/services/utils/diffpatch.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/jsondiffpatch/dist/jsondiffpatch.umd.js");const i={objectHash:e=>e._id,arrays:{detectMove:!0,includeValueOnMove:!1}},o=new n.DiffPatcher(i);o.options=i,t.default=o},"./src/services/utils/ensureItemIDs.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/json-schema-library/lib/getTypeOf.js"),i=r.n(n);function o(e){return Array.isArray(e)?(o.config.addMissingItemIDs(e),e.forEach(e=>o(e))):"object"===i()(e)&&Object.keys(e).forEach(t=>o(e[t])),e}o.config={ID_PROPERTY:"_id",addMissingItemIDs:function(e){e.forEach((e,t)=>{if(null==e._id){const r=i()(e);"object"!==r&&"array"!==r||(e._id=o.config.generateId(t))}})},generateId:function(e){return`${e}${Math.random()}${Date.now()}`}},t.default=o},"./src/services/utils/getParentPointer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r("./node_modules/gson-pointer/index.js"),i=r.n(n);function o(e){const t=i.a.split(e);return t.pop(),i.a.join(t,"#"===e[0])}},"./src/services/utils/getPatchesPerPointer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r("./src/services/utils/diffpatch.ts"),i=r("./node_modules/gson-pointer/index.js"),o=r.n(i),s=r("./src/services/utils/getParentPointer.ts");function a(e,t){return e.pointer<t.pointer?-1:e.pointer>t.pointer?1:0}function l(e,t){const r=n.default.diff(e,t);if(null==r)return[];const i=function e(t,r,n=[]){return Object.keys(r).forEach(i=>{if("_t"!==i)if(Array.isArray(r[i])){const e={pointer:`${t}/${i}`,patch:r[i],isArrayItem:!1,changedKey:!1},o=1===r[i].length,s=0===r[i][2];"a"===r._t?e.isArrayItem=!0:(o||s)&&(e.changedKey=!0),n.push(e)}else e(`${t}/${i}`,r[i],n)}),n}("#",r),l={};return i.forEach(e=>{if(e.isArrayItem){const t=o.a.join(e.pointer,".."),r=e.pointer.replace(t+"/","");l[t]=l[t]||{_t:"a"},l[t][r]=e.patch}else if(e.changedKey){const t=o.a.join(e.pointer,".."),r=e.pointer.replace(t+"/","");l[t]=l[t]||{},l[t][r]=e.patch}else l[e.pointer]=e.patch}),Object.keys(l).map(e=>({pointer:e,parentPointer:Object(s.default)(e),patch:l[e]})).sort(a)}},"./src/services/utils/isRootPointer.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/gson-pointer/lib/isRoot.js"),i=r.n(n);t.default=i.a},"./src/utils/UISchema.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/gson-pointer/index.js"),i=r.n(n),o=r("./src/utils/populated.ts"),s=r("./node_modules/json-schema-library/index.js"),a=r.n(s);const{eachSchema:l}=a.a;function u(e){return"string"==typeof e&&/^(#?\/.+|\.?\.\/.+)/.test(e)}function c(e,t,r){if(!1===Object(o.default)(r)||!1===u(r))return null;let n=r;"#"!==n[0]&&(n=i.a.join(e,n));const s=t.data().get(n);return Object(o.default)(s,s,null)}function f(e,t,r){if(Array.isArray(r))for(let n=0;n<r.length;n+=1){const i=r[n];if(u(i)){const r=c(e,t,i);if(Object(o.default)(r))return r}else if(Object(o.default)(i))return i}return r}function d(e,t,...r){if(0===r.length)throw new Error("Expected at least one options property to be given in getOption");const n=t.schema().get(e),i=n["editron:ui"]||{};for(let s=0;s<r.length;s+=1){const a=i[r[s]],l=(u(a)?c:f)(e,t,a);if(Object(o.default)(l))return l;if(Object(o.default)(n[r[s]]))return n[r[s]]}return null}function h(e,t){const r=t.schema().get(e),n=d(e,t,"title")||"";return r.minLength?n.replace(/\s*\*\s*$/,"")+" *":n}t.default={UI_PROPERTY:"editron:ui",getOption:d,copyOptions:function(e,t){const r=t.schema().get(e),n=Object.assign({hidden:!1,description:r.description},r.options,r["editron:ui"]);return n.title=h(e,t),Object.keys(n).forEach(r=>{n[r]=f(e,t,n[r])}),n},extendSchema:function(e){return e=JSON.parse(JSON.stringify(e)),l(e,e=>{e["editron:ui"]=e["editron:ui"]||{},e["editron:ui"]=Object.assign({hidden:!1,title:e.title||"",description:e.description||""},e.options,e["editron:ui"])}),e},getBreadcrumps:function(e,t){const r=[];for(;"#"!==e;)r.unshift({title:d(e,t,"title"),pointer:e}),e=i.a.join(e,"..");return r},getTitle:h,enumOptions:function(e){let t;return t=e["editron:ui"].enum?e.enum.map((t,r)=>({title:e["editron:ui"].enum[r]||e.enum[r],value:e.enum[r]})):e.options&&e.options.enum_titles?e.enum.map((t,r)=>({title:e.options.enum_titles[r]||e.enum[r],value:e.enum[r]})):e.enum,t},getDefaultOption:function(e,t){return e["editron:ui"]&&e["editron:ui"][t]||""}}},"./src/utils/addItem.ts":function(e,t,r){"use strict";r.r(t);var n=r("mithril"),i=r.n(n),o=r("./src/utils/createElement.ts"),s=r("./src/services/LocationService.ts"),a=r("./src/services/OverlayService.ts"),l=r("./src/components/overlayselecttiles/index.ts"),u=r("./src/utils/UISchema.ts");t.default=function(e,t,r,n=0){const c=e.get(r);if("array"!==t.get(r).type)throw new Error(`Can not add item to a non-array (${r})`);const f=t.getChildSchemaSelection(r,n);if(1===f.length)return void p(0,t,e);const d=Object(o.default)(".overlay__item"),h=f.map((e,t)=>({icon:u.default.getDefaultOption(e,"icon"),title:u.default.getDefaultOption(e,"title"),description:u.default.getDefaultOption(e,"description"),value:t}));function p(e,t,i){const o=f[e],s=t.getTemplate(o);c.splice(n,0,s),i.set(r,c)}i.a.render(d,i()(l.default,{value:0,options:h,onchange:i=>{p(parseInt(i,10),t,e),a.default.close(),s.default.goto(`${r}/${n}`)}})),a.default.open(d,{save:!1})}},"./src/utils/array.ts":function(e,t,r){"use strict";r.r(t),t.default={addItem(e,t,r){t.addItemTo(e,r)},removeItem(e,t,r){const n=t.data().get(e);n.splice(r,1),t.data().set(e,n)},moveItem(e,t,r,n){if(n<0)return;const i=t.data().get(e);null!=i[r]&&null!=i[n]&&(i.splice(n,0,i.splice(r,1)[0]),t.data().set(e,i))},moveElement(e,t,r){e.splice(r,0,e.splice(t,1)[0])}}},"./src/utils/createElement.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r("mithril"),i=r.n(n);function o(e,t){const r=i()(e,t),n=document.createElement(r.tag);return Object.keys(r.attrs).forEach(e=>{"className"===e?r.attrs[e].split(" ").forEach(e=>n.classList.add(e)):null!=r.attrs[e]&&n.setAttribute(e,r.attrs[e])}),n}},"./src/utils/createProxy.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r("./node_modules/@technik-sde/foxy/dist/foxy.js");const i={handlers:[n.handler.unsplash,n.handler.image,n.handler.video]};function o(e={}){if("Foxy"===e.constructor.name)return e;const t={...i,...e};if(Array.isArray(t.handlers))return new n.Foxy(t);throw new Error("Failed initializing proxy from: "+JSON.stringify(e))}},"./src/utils/getID.ts":function(e,t,r){"use strict";function n(e){return(""+e.replace(/(^[#/]*|\/+$)/,"")).replace(/\/+/g,".")}r.r(t),r.d(t,"default",(function(){return n}))},"./src/utils/i18n.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/json-schema-library/lib/utils/render.js"),i=r.n(n);function o(e,t){return"string"==typeof o.strings[e]?i()(o.strings[e],t):"function"==typeof o.strings[e]?o.strings[e](t):e}function s(e,t){return"string"==typeof s.strings[t.code]?t.message=i()(s.strings[t.code],t.data):"function"==typeof s.strings[t.code]&&(t.message=s.strings[t.code](e,t)),t}o.strings={},s.strings={};const a={translate:o,translateError:s,addLanguage:function(e,t){const r=null==t&&"[object Object]"===Object.prototype.toString.call(e)?e:t;Object.assign(s.strings,r.errors),Object.assign(o.strings,r.strings)}};t.default=a},"./src/utils/index.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/utils/addItem.ts");r.d(t,"addItem",(function(){return n.default}));var i=r("./src/utils/array.ts");r.d(t,"array",(function(){return i.default}));var o=r("./src/utils/createElement.ts");r.d(t,"createElement",(function(){return o.default}));var s=r("./src/utils/getID.ts");r.d(t,"getID",(function(){return s.default}));var a=r("./src/utils/i18n.ts");r.d(t,"i18n",(function(){return a.default}));var l=r("./src/utils/isNodeContext.ts");r.d(t,"isNodeContext",(function(){return l.default}));var u=r("./src/utils/populated.ts");r.d(t,"populated",(function(){return u.default}));var c=r("./src/utils/selection.ts");r.d(t,"selection",(function(){return c.default}));var f=r("./src/utils/selectEditor.ts");r.d(t,"selectEditor",(function(){return f.default}));var d=r("./src/utils/UISchema.ts");r.d(t,"UISchem",(function(){return d.default}))},"./src/utils/isNodeContext.ts":function(e,t,r){"use strict";r.r(t),function(e){function n(){return"object"==typeof e&&"object"==typeof e.versions&&void 0!==e.versions.node}r.d(t,"default",(function(){return n}))}.call(this,r("./node_modules/process/browser.js"))},"./src/utils/populated.ts":function(e,t,r){"use strict";function n(e,t,r){let n=!0;return null==e||""===e||"#"===e?n=!1:"string"==typeof e?n=e.replace(/<[^>]+>/g,"").replace(/[^A-Za-z0-9]/g,"").length>0:Array.isArray(e)?n=e.length>0:"[object Object]"===Object.prototype.toString.call(e)&&(n=Object.keys(e).length>0),void 0===t&&void 0===r?n:n?t:r}r.r(t),r.d(t,"default",(function(){return n}))},"./src/utils/selectEditor.ts":function(e,t,r){"use strict";r.r(t),t.default=function(e,t,r,n){if(/_id$/.test(t))return!1;if("error"===r.schema().get(t).type)return!1;if(!0===n.hidden)return!1;for(let i=0,o=e.length;i<o;i+=1)if(e[i].editorOf(t,r,n))return e[i]}},"./src/utils/selection.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/utils/getID.ts");function i(e,t){const r="down"===t||"right"===t?1:-1;if((e=>"function"==typeof e.mayBlur)(e))return e.mayBlur(t);if("INPUT"===e.tagName&&"number"===e.type)return!1;if("INPUT"===e.tagName&&"checkbox"===e.type)return!0;if("SELECT"===e.tagName)return!1;if("INPUT"===e.tagName){const r=e;return"up"===t||"down"===t||("left"===t&&0===r.selectionStart||"right"===t&&r.value.length===r.selectionEnd)}if("TEXTAREA"===e.tagName){const t=e;return""===e.value||(-1===r&&0===t.selectionStart||1===r&&t.value.length===t.selectionEnd)}return!0}function o(e,t=document.body){const r=e.location().getCurrent(),i="#"+Object(n.default)(r);if("#"===i)return console.log("abort empty selection",r,"active element",document.activeElement),!1;const o=t.querySelector(i);return null!=o&&(o!==document.activeElement&&console.log("selection: active input is not the same as current editor",o,document.activeElement),o)}function s(e){return Array.from(e.querySelectorAll("input,textarea,select"))}function a(e,t="down",{parent:r=document.body}={}){const n=o(e,r);if(!1===n)return!1;const i=s(r),a="down"===t||"right"===t?1:-1,l=i.indexOf(n);if(-1===l)return!1;const u=i[l+a];return!(!u||!u.focus)&&u}t.default={focusNextInput:function(e,t="down",r={}){const{force:n=!1,parent:s=document.body}=r,l=o(e,s);if(!1===l)return!1;if(!1===n&&!1===i(l,t))return!0;const u=a(e,t,r);return!!u&&(u.focus(),!0)},getNextInput:a,getAvailableInputs:s,getActiveInput:o,mayBlur:i}},0:function(e,t,r){e.exports=r},mithril:function(e,t){e.exports=m}});